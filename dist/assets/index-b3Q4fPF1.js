var Y1=Object.defineProperty;var J1=(t,e,n)=>e in t?Y1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Em=(t,e,n)=>J1(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var eE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ry(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sy={exports:{}},Rc={},oy={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var al=Symbol.for("react.element"),tE=Symbol.for("react.portal"),nE=Symbol.for("react.fragment"),iE=Symbol.for("react.strict_mode"),rE=Symbol.for("react.profiler"),sE=Symbol.for("react.provider"),oE=Symbol.for("react.context"),aE=Symbol.for("react.forward_ref"),lE=Symbol.for("react.suspense"),uE=Symbol.for("react.memo"),cE=Symbol.for("react.lazy"),Tm=Symbol.iterator;function hE(t){return t===null||typeof t!="object"?null:(t=Tm&&t[Tm]||t["@@iterator"],typeof t=="function"?t:null)}var ay={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ly=Object.assign,uy={};function To(t,e,n){this.props=t,this.context=e,this.refs=uy,this.updater=n||ay}To.prototype.isReactComponent={};To.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};To.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cy(){}cy.prototype=To.prototype;function Ed(t,e,n){this.props=t,this.context=e,this.refs=uy,this.updater=n||ay}var Td=Ed.prototype=new cy;Td.constructor=Ed;ly(Td,To.prototype);Td.isPureReactComponent=!0;var xm=Array.isArray,hy=Object.prototype.hasOwnProperty,xd={current:null},fy={key:!0,ref:!0,__self:!0,__source:!0};function dy(t,e,n){var i,s={},o=null,l=null;if(e!=null)for(i in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)hy.call(e,i)&&!fy.hasOwnProperty(i)&&(s[i]=e[i]);var h=arguments.length-2;if(h===1)s.children=n;else if(1<h){for(var d=Array(h),m=0;m<h;m++)d[m]=arguments[m+2];s.children=d}if(t&&t.defaultProps)for(i in h=t.defaultProps,h)s[i]===void 0&&(s[i]=h[i]);return{$$typeof:al,type:t,key:o,ref:l,props:s,_owner:xd.current}}function fE(t,e){return{$$typeof:al,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sd(t){return typeof t=="object"&&t!==null&&t.$$typeof===al}function dE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Sm=/\/+/g;function vh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dE(""+t.key):e.toString(36)}function Su(t,e,n,i,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case al:case tE:l=!0}}if(l)return l=t,s=s(l),t=i===""?"."+vh(l,0):i,xm(s)?(n="",t!=null&&(n=t.replace(Sm,"$&/")+"/"),Su(s,e,n,"",function(m){return m})):s!=null&&(Sd(s)&&(s=fE(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Sm,"$&/")+"/")+t)),e.push(s)),1;if(l=0,i=i===""?".":i+":",xm(t))for(var h=0;h<t.length;h++){o=t[h];var d=i+vh(o,h);l+=Su(o,e,n,d,s)}else if(d=hE(t),typeof d=="function")for(t=d.call(t),h=0;!(o=t.next()).done;)o=o.value,d=i+vh(o,h++),l+=Su(o,e,n,d,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function eu(t,e,n){if(t==null)return t;var i=[],s=0;return Su(t,i,"","",function(o){return e.call(n,o,s++)}),i}function pE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ft={current:null},Pu={transition:null},mE={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:Pu,ReactCurrentOwner:xd};function py(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:eu,forEach:function(t,e,n){eu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return eu(t,function(){e++}),e},toArray:function(t){return eu(t,function(e){return e})||[]},only:function(t){if(!Sd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=To;ye.Fragment=nE;ye.Profiler=rE;ye.PureComponent=Ed;ye.StrictMode=iE;ye.Suspense=lE;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mE;ye.act=py;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=ly({},t.props),s=t.key,o=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=xd.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var h=t.type.defaultProps;for(d in e)hy.call(e,d)&&!fy.hasOwnProperty(d)&&(i[d]=e[d]===void 0&&h!==void 0?h[d]:e[d])}var d=arguments.length-2;if(d===1)i.children=n;else if(1<d){h=Array(d);for(var m=0;m<d;m++)h[m]=arguments[m+2];i.children=h}return{$$typeof:al,type:t.type,key:s,ref:o,props:i,_owner:l}};ye.createContext=function(t){return t={$$typeof:oE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sE,_context:t},t.Consumer=t};ye.createElement=dy;ye.createFactory=function(t){var e=dy.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:aE,render:t}};ye.isValidElement=Sd;ye.lazy=function(t){return{$$typeof:cE,_payload:{_status:-1,_result:t},_init:pE}};ye.memo=function(t,e){return{$$typeof:uE,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=Pu.transition;Pu.transition={};try{t()}finally{Pu.transition=e}};ye.unstable_act=py;ye.useCallback=function(t,e){return Ft.current.useCallback(t,e)};ye.useContext=function(t){return Ft.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return Ft.current.useDeferredValue(t)};ye.useEffect=function(t,e){return Ft.current.useEffect(t,e)};ye.useId=function(){return Ft.current.useId()};ye.useImperativeHandle=function(t,e,n){return Ft.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return Ft.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return Ft.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return Ft.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return Ft.current.useReducer(t,e,n)};ye.useRef=function(t){return Ft.current.useRef(t)};ye.useState=function(t){return Ft.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return Ft.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return Ft.current.useTransition()};ye.version="18.3.1";oy.exports=ye;var ae=oy.exports;const ju=ry(ae);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE=ae,_E=Symbol.for("react.element"),yE=Symbol.for("react.fragment"),vE=Object.prototype.hasOwnProperty,wE=gE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EE={key:!0,ref:!0,__self:!0,__source:!0};function my(t,e,n){var i,s={},o=null,l=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(i in e)vE.call(e,i)&&!EE.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:_E,type:t,key:o,ref:l,props:s,_owner:wE.current}}Rc.Fragment=yE;Rc.jsx=my;Rc.jsxs=my;sy.exports=Rc;var $=sy.exports,sf={},gy={exports:{}},an={},_y={exports:{}},yy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,se){var Y=H.length;H.push(se);e:for(;0<Y;){var le=Y-1>>>1,ve=H[le];if(0<s(ve,se))H[le]=se,H[Y]=ve,Y=le;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var se=H[0],Y=H.pop();if(Y!==se){H[0]=Y;e:for(var le=0,ve=H.length,qe=ve>>>1;le<qe;){var Pe=2*(le+1)-1,we=H[Pe],ce=Pe+1,ot=H[ce];if(0>s(we,Y))ce<ve&&0>s(ot,we)?(H[le]=ot,H[ce]=Y,le=ce):(H[le]=we,H[Pe]=Y,le=Pe);else if(ce<ve&&0>s(ot,Y))H[le]=ot,H[ce]=Y,le=ce;else break e}}return se}function s(H,se){var Y=H.sortIndex-se.sortIndex;return Y!==0?Y:H.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,h=l.now();t.unstable_now=function(){return l.now()-h}}var d=[],m=[],y=1,w=null,v=3,O=!1,M=!1,V=!1,W=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(H){for(var se=n(m);se!==null;){if(se.callback===null)i(m);else if(se.startTime<=H)i(m),se.sortIndex=se.expirationTime,e(d,se);else break;se=n(m)}}function B(H){if(V=!1,A(H),!M)if(n(d)!==null)M=!0,Fe(Z);else{var se=n(m);se!==null&&jt(B,se.startTime-H)}}function Z(H,se){M=!1,V&&(V=!1,N(x),x=-1),O=!0;var Y=v;try{for(A(se),w=n(d);w!==null&&(!(w.expirationTime>se)||H&&!b());){var le=w.callback;if(typeof le=="function"){w.callback=null,v=w.priorityLevel;var ve=le(w.expirationTime<=se);se=t.unstable_now(),typeof ve=="function"?w.callback=ve:w===n(d)&&i(d),A(se)}else i(d);w=n(d)}if(w!==null)var qe=!0;else{var Pe=n(m);Pe!==null&&jt(B,Pe.startTime-se),qe=!1}return qe}finally{w=null,v=Y,O=!1}}var K=!1,S=null,x=-1,I=5,R=-1;function b(){return!(t.unstable_now()-R<I)}function D(){if(S!==null){var H=t.unstable_now();R=H;var se=!0;try{se=S(!0,H)}finally{se?C():(K=!1,S=null)}}else K=!1}var C;if(typeof P=="function")C=function(){P(D)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,mt=Se.port2;Se.port1.onmessage=D,C=function(){mt.postMessage(null)}}else C=function(){W(D,0)};function Fe(H){S=H,K||(K=!0,C())}function jt(H,se){x=W(function(){H(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){M||O||(M=!0,Fe(Z))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(H){switch(v){case 1:case 2:case 3:var se=3;break;default:se=v}var Y=v;v=se;try{return H()}finally{v=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,se){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Y=v;v=H;try{return se()}finally{v=Y}},t.unstable_scheduleCallback=function(H,se,Y){var le=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?le+Y:le):Y=le,H){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=Y+ve,H={id:y++,callback:se,priorityLevel:H,startTime:Y,expirationTime:ve,sortIndex:-1},Y>le?(H.sortIndex=Y,e(m,H),n(d)===null&&H===n(m)&&(V?(N(x),x=-1):V=!0,jt(B,Y-le))):(H.sortIndex=ve,e(d,H),M||O||(M=!0,Fe(Z))),H},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(H){var se=v;return function(){var Y=v;v=se;try{return H.apply(this,arguments)}finally{v=Y}}}})(yy);_y.exports=yy;var TE=_y.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE=ae,on=TE;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vy=new Set,Da={};function is(t,e){uo(t,e),uo(t+"Capture",e)}function uo(t,e){for(Da[t]=e,t=0;t<e.length;t++)vy.add(e[t])}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),of=Object.prototype.hasOwnProperty,SE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pm={},Im={};function PE(t){return of.call(Im,t)?!0:of.call(Pm,t)?!1:SE.test(t)?Im[t]=!0:(Pm[t]=!0,!1)}function IE(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function CE(t,e,n,i){if(e===null||typeof e>"u"||IE(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Bt(t,e,n,i,s,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tt[t]=new Bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tt[e]=new Bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tt[t]=new Bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tt[t]=new Bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tt[t]=new Bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tt[t]=new Bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tt[t]=new Bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tt[t]=new Bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tt[t]=new Bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Pd=/[\-:]([a-z])/g;function Id(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Pd,Id);Tt[e]=new Bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Pd,Id);Tt[e]=new Bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Pd,Id);Tt[e]=new Bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tt[t]=new Bt(t,1,!1,t.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new Bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tt[t]=new Bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cd(t,e,n,i){var s=Tt.hasOwnProperty(e)?Tt[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(CE(e,n,s,i)&&(n=null),i||s===null?PE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,i=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var ki=xE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tu=Symbol.for("react.element"),Us=Symbol.for("react.portal"),$s=Symbol.for("react.fragment"),Ad=Symbol.for("react.strict_mode"),af=Symbol.for("react.profiler"),wy=Symbol.for("react.provider"),Ey=Symbol.for("react.context"),kd=Symbol.for("react.forward_ref"),lf=Symbol.for("react.suspense"),uf=Symbol.for("react.suspense_list"),Ld=Symbol.for("react.memo"),Ui=Symbol.for("react.lazy"),Ty=Symbol.for("react.offscreen"),Cm=Symbol.iterator;function na(t){return t===null||typeof t!="object"?null:(t=Cm&&t[Cm]||t["@@iterator"],typeof t=="function"?t:null)}var Ze=Object.assign,wh;function pa(t){if(wh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);wh=e&&e[1]||""}return`
`+wh+t}var Eh=!1;function Th(t,e){if(!t||Eh)return"";Eh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(m){var i=m}Reflect.construct(t,[],e)}else{try{e.call()}catch(m){i=m}t.call(e.prototype)}else{try{throw Error()}catch(m){i=m}t()}}catch(m){if(m&&i&&typeof m.stack=="string"){for(var s=m.stack.split(`
`),o=i.stack.split(`
`),l=s.length-1,h=o.length-1;1<=l&&0<=h&&s[l]!==o[h];)h--;for(;1<=l&&0<=h;l--,h--)if(s[l]!==o[h]){if(l!==1||h!==1)do if(l--,h--,0>h||s[l]!==o[h]){var d=`
`+s[l].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=l&&0<=h);break}}}finally{Eh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?pa(t):""}function AE(t){switch(t.tag){case 5:return pa(t.type);case 16:return pa("Lazy");case 13:return pa("Suspense");case 19:return pa("SuspenseList");case 0:case 2:case 15:return t=Th(t.type,!1),t;case 11:return t=Th(t.type.render,!1),t;case 1:return t=Th(t.type,!0),t;default:return""}}function cf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $s:return"Fragment";case Us:return"Portal";case af:return"Profiler";case Ad:return"StrictMode";case lf:return"Suspense";case uf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ey:return(t.displayName||"Context")+".Consumer";case wy:return(t._context.displayName||"Context")+".Provider";case kd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ld:return e=t.displayName||null,e!==null?e:cf(t.type)||"Memo";case Ui:e=t._payload,t=t._init;try{return cf(t(e))}catch{}}return null}function kE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cf(e);case 8:return e===Ad?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function sr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function LE(t){var e=xy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){i=""+l,o.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(l){i=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nu(t){t._valueTracker||(t._valueTracker=LE(t))}function Sy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=xy(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Uu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hf(t,e){var n=e.checked;return Ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Am(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=sr(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Py(t,e){e=e.checked,e!=null&&Cd(t,"checked",e,!1)}function ff(t,e){Py(t,e);var n=sr(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?df(t,e.type,n):e.hasOwnProperty("defaultValue")&&df(t,e.type,sr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function km(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function df(t,e,n){(e!=="number"||Uu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ma=Array.isArray;function eo(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+sr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function pf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return Ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Lm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(ma(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:sr(n)}}function Iy(t,e){var n=sr(e.value),i=sr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Rm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Cy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Cy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var iu,Ay=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(iu=iu||document.createElement("div"),iu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=iu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ma(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var va={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RE=["Webkit","ms","Moz","O"];Object.keys(va).forEach(function(t){RE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),va[e]=va[t]})});function ky(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||va.hasOwnProperty(t)&&va[t]?(""+e).trim():e+"px"}function Ly(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=ky(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}var bE=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gf(t,e){if(e){if(bE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function _f(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yf=null;function Rd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vf=null,to=null,no=null;function bm(t){if(t=cl(t)){if(typeof vf!="function")throw Error(X(280));var e=t.stateNode;e&&(e=Mc(e),vf(t.stateNode,t.type,e))}}function Ry(t){to?no?no.push(t):no=[t]:to=t}function by(){if(to){var t=to,e=no;if(no=to=null,bm(t),e)for(t=0;t<e.length;t++)bm(e[t])}}function Ny(t,e){return t(e)}function Oy(){}var xh=!1;function Dy(t,e,n){if(xh)return t(e,n);xh=!0;try{return Ny(t,e,n)}finally{xh=!1,(to!==null||no!==null)&&(Oy(),by())}}function Va(t,e){var n=t.stateNode;if(n===null)return null;var i=Mc(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var wf=!1;if(xi)try{var ia={};Object.defineProperty(ia,"passive",{get:function(){wf=!0}}),window.addEventListener("test",ia,ia),window.removeEventListener("test",ia,ia)}catch{wf=!1}function NE(t,e,n,i,s,o,l,h,d){var m=Array.prototype.slice.call(arguments,3);try{e.apply(n,m)}catch(y){this.onError(y)}}var wa=!1,$u=null,Hu=!1,Ef=null,OE={onError:function(t){wa=!0,$u=t}};function DE(t,e,n,i,s,o,l,h,d){wa=!1,$u=null,NE.apply(OE,arguments)}function ME(t,e,n,i,s,o,l,h,d){if(DE.apply(this,arguments),wa){if(wa){var m=$u;wa=!1,$u=null}else throw Error(X(198));Hu||(Hu=!0,Ef=m)}}function rs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function My(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Nm(t){if(rs(t)!==t)throw Error(X(188))}function VE(t){var e=t.alternate;if(!e){if(e=rs(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Nm(s),t;if(o===i)return Nm(s),e;o=o.sibling}throw Error(X(188))}if(n.return!==i.return)n=s,i=o;else{for(var l=!1,h=s.child;h;){if(h===n){l=!0,n=s,i=o;break}if(h===i){l=!0,i=s,n=o;break}h=h.sibling}if(!l){for(h=o.child;h;){if(h===n){l=!0,n=o,i=s;break}if(h===i){l=!0,i=o,n=s;break}h=h.sibling}if(!l)throw Error(X(189))}}if(n.alternate!==i)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function Vy(t){return t=VE(t),t!==null?zy(t):null}function zy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zy(t);if(e!==null)return e;t=t.sibling}return null}var Fy=on.unstable_scheduleCallback,Om=on.unstable_cancelCallback,zE=on.unstable_shouldYield,FE=on.unstable_requestPaint,Ye=on.unstable_now,BE=on.unstable_getCurrentPriorityLevel,bd=on.unstable_ImmediatePriority,By=on.unstable_UserBlockingPriority,Wu=on.unstable_NormalPriority,jE=on.unstable_LowPriority,jy=on.unstable_IdlePriority,bc=null,Yn=null;function UE(t){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(bc,t,void 0,(t.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:WE,$E=Math.log,HE=Math.LN2;function WE(t){return t>>>=0,t===0?32:31-($E(t)/HE|0)|0}var ru=64,su=4194304;function ga(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zu(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,s=t.suspendedLanes,o=t.pingedLanes,l=n&268435455;if(l!==0){var h=l&~s;h!==0?i=ga(h):(o&=l,o!==0&&(i=ga(o)))}else l=n&~s,l!==0?i=ga(l):o!==0&&(i=ga(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Mn(e),s=1<<n,i|=t[n],e&=~s;return i}function ZE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qE(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-Mn(o),h=1<<l,d=s[l];d===-1?(!(h&n)||h&i)&&(s[l]=ZE(h,e)):d<=e&&(t.expiredLanes|=h),o&=~h}}function Tf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Uy(){var t=ru;return ru<<=1,!(ru&4194240)&&(ru=64),t}function Sh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ll(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Mn(e),t[e]=n}function GE(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Mn(n),o=1<<s;e[s]=0,i[s]=-1,t[s]=-1,n&=~o}}function Nd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Mn(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}var Ne=0;function $y(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Hy,Od,Wy,Zy,qy,xf=!1,ou=[],Gi=null,Ki=null,Qi=null,za=new Map,Fa=new Map,Hi=[],KE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dm(t,e){switch(t){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":za.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fa.delete(e.pointerId)}}function ra(t,e,n,i,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[s]},e!==null&&(e=cl(e),e!==null&&Od(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function QE(t,e,n,i,s){switch(e){case"focusin":return Gi=ra(Gi,t,e,n,i,s),!0;case"dragenter":return Ki=ra(Ki,t,e,n,i,s),!0;case"mouseover":return Qi=ra(Qi,t,e,n,i,s),!0;case"pointerover":var o=s.pointerId;return za.set(o,ra(za.get(o)||null,t,e,n,i,s)),!0;case"gotpointercapture":return o=s.pointerId,Fa.set(o,ra(Fa.get(o)||null,t,e,n,i,s)),!0}return!1}function Gy(t){var e=Mr(t.target);if(e!==null){var n=rs(e);if(n!==null){if(e=n.tag,e===13){if(e=My(n),e!==null){t.blockedOn=e,qy(t.priority,function(){Wy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Iu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Sf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);yf=i,n.target.dispatchEvent(i),yf=null}else return e=cl(n),e!==null&&Od(e),t.blockedOn=n,!1;e.shift()}return!0}function Mm(t,e,n){Iu(t)&&n.delete(e)}function XE(){xf=!1,Gi!==null&&Iu(Gi)&&(Gi=null),Ki!==null&&Iu(Ki)&&(Ki=null),Qi!==null&&Iu(Qi)&&(Qi=null),za.forEach(Mm),Fa.forEach(Mm)}function sa(t,e){t.blockedOn===e&&(t.blockedOn=null,xf||(xf=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,XE)))}function Ba(t){function e(s){return sa(s,t)}if(0<ou.length){sa(ou[0],t);for(var n=1;n<ou.length;n++){var i=ou[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Gi!==null&&sa(Gi,t),Ki!==null&&sa(Ki,t),Qi!==null&&sa(Qi,t),za.forEach(e),Fa.forEach(e),n=0;n<Hi.length;n++)i=Hi[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Hi.length&&(n=Hi[0],n.blockedOn===null);)Gy(n),n.blockedOn===null&&Hi.shift()}var io=ki.ReactCurrentBatchConfig,qu=!0;function YE(t,e,n,i){var s=Ne,o=io.transition;io.transition=null;try{Ne=1,Dd(t,e,n,i)}finally{Ne=s,io.transition=o}}function JE(t,e,n,i){var s=Ne,o=io.transition;io.transition=null;try{Ne=4,Dd(t,e,n,i)}finally{Ne=s,io.transition=o}}function Dd(t,e,n,i){if(qu){var s=Sf(t,e,n,i);if(s===null)Oh(t,e,i,Gu,n),Dm(t,i);else if(QE(s,t,e,n,i))i.stopPropagation();else if(Dm(t,i),e&4&&-1<KE.indexOf(t)){for(;s!==null;){var o=cl(s);if(o!==null&&Hy(o),o=Sf(t,e,n,i),o===null&&Oh(t,e,i,Gu,n),o===s)break;s=o}s!==null&&i.stopPropagation()}else Oh(t,e,i,null,n)}}var Gu=null;function Sf(t,e,n,i){if(Gu=null,t=Rd(i),t=Mr(t),t!==null)if(e=rs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=My(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Gu=t,null}function Ky(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BE()){case bd:return 1;case By:return 4;case Wu:case jE:return 16;case jy:return 536870912;default:return 16}default:return 16}}var Zi=null,Md=null,Cu=null;function Qy(){if(Cu)return Cu;var t,e=Md,n=e.length,i,s="value"in Zi?Zi.value:Zi.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var l=n-t;for(i=1;i<=l&&e[n-i]===s[o-i];i++);return Cu=s.slice(t,1<i?1-i:void 0)}function Au(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function au(){return!0}function Vm(){return!1}function ln(t){function e(n,i,s,o,l){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var h in t)t.hasOwnProperty(h)&&(n=t[h],this[h]=n?n(o):o[h]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?au:Vm,this.isPropagationStopped=Vm,this}return Ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=au)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=au)},persist:function(){},isPersistent:au}),e}var xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vd=ln(xo),ul=Ze({},xo,{view:0,detail:0}),eT=ln(ul),Ph,Ih,oa,Nc=Ze({},ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oa&&(oa&&t.type==="mousemove"?(Ph=t.screenX-oa.screenX,Ih=t.screenY-oa.screenY):Ih=Ph=0,oa=t),Ph)},movementY:function(t){return"movementY"in t?t.movementY:Ih}}),zm=ln(Nc),tT=Ze({},Nc,{dataTransfer:0}),nT=ln(tT),iT=Ze({},ul,{relatedTarget:0}),Ch=ln(iT),rT=Ze({},xo,{animationName:0,elapsedTime:0,pseudoElement:0}),sT=ln(rT),oT=Ze({},xo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aT=ln(oT),lT=Ze({},xo,{data:0}),Fm=ln(lT),uT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hT[t])?!!e[t]:!1}function zd(){return fT}var dT=Ze({},ul,{key:function(t){if(t.key){var e=uT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Au(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(t){return t.type==="keypress"?Au(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Au(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pT=ln(dT),mT=Ze({},Nc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bm=ln(mT),gT=Ze({},ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),_T=ln(gT),yT=Ze({},xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),vT=ln(yT),wT=Ze({},Nc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ET=ln(wT),TT=[9,13,27,32],Fd=xi&&"CompositionEvent"in window,Ea=null;xi&&"documentMode"in document&&(Ea=document.documentMode);var xT=xi&&"TextEvent"in window&&!Ea,Xy=xi&&(!Fd||Ea&&8<Ea&&11>=Ea),jm=" ",Um=!1;function Yy(t,e){switch(t){case"keyup":return TT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hs=!1;function ST(t,e){switch(t){case"compositionend":return Jy(e);case"keypress":return e.which!==32?null:(Um=!0,jm);case"textInput":return t=e.data,t===jm&&Um?null:t;default:return null}}function PT(t,e){if(Hs)return t==="compositionend"||!Fd&&Yy(t,e)?(t=Qy(),Cu=Md=Zi=null,Hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Xy&&e.locale!=="ko"?null:e.data;default:return null}}var IT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $m(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!IT[t.type]:e==="textarea"}function ev(t,e,n,i){Ry(i),e=Ku(e,"onChange"),0<e.length&&(n=new Vd("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Ta=null,ja=null;function CT(t){hv(t,0)}function Oc(t){var e=qs(t);if(Sy(e))return t}function AT(t,e){if(t==="change")return e}var tv=!1;if(xi){var Ah;if(xi){var kh="oninput"in document;if(!kh){var Hm=document.createElement("div");Hm.setAttribute("oninput","return;"),kh=typeof Hm.oninput=="function"}Ah=kh}else Ah=!1;tv=Ah&&(!document.documentMode||9<document.documentMode)}function Wm(){Ta&&(Ta.detachEvent("onpropertychange",nv),ja=Ta=null)}function nv(t){if(t.propertyName==="value"&&Oc(ja)){var e=[];ev(e,ja,t,Rd(t)),Dy(CT,e)}}function kT(t,e,n){t==="focusin"?(Wm(),Ta=e,ja=n,Ta.attachEvent("onpropertychange",nv)):t==="focusout"&&Wm()}function LT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Oc(ja)}function RT(t,e){if(t==="click")return Oc(e)}function bT(t,e){if(t==="input"||t==="change")return Oc(e)}function NT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zn=typeof Object.is=="function"?Object.is:NT;function Ua(t,e){if(zn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!of.call(e,s)||!zn(t[s],e[s]))return!1}return!0}function Zm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qm(t,e){var n=Zm(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zm(n)}}function iv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function rv(){for(var t=window,e=Uu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Uu(t.document)}return e}function Bd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OT(t){var e=rv(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&iv(n.ownerDocument.documentElement,n)){if(i!==null&&Bd(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(i.start,s);i=i.end===void 0?o:Math.min(i.end,s),!t.extend&&o>i&&(s=i,i=o,o=s),s=qm(n,o);var l=qm(n,i);s&&l&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var DT=xi&&"documentMode"in document&&11>=document.documentMode,Ws=null,Pf=null,xa=null,If=!1;function Gm(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;If||Ws==null||Ws!==Uu(i)||(i=Ws,"selectionStart"in i&&Bd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),xa&&Ua(xa,i)||(xa=i,i=Ku(Pf,"onSelect"),0<i.length&&(e=new Vd("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Ws)))}function lu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zs={animationend:lu("Animation","AnimationEnd"),animationiteration:lu("Animation","AnimationIteration"),animationstart:lu("Animation","AnimationStart"),transitionend:lu("Transition","TransitionEnd")},Lh={},sv={};xi&&(sv=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function Dc(t){if(Lh[t])return Lh[t];if(!Zs[t])return t;var e=Zs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in sv)return Lh[t]=e[n];return t}var ov=Dc("animationend"),av=Dc("animationiteration"),lv=Dc("animationstart"),uv=Dc("transitionend"),cv=new Map,Km="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dr(t,e){cv.set(t,e),is(e,[t])}for(var Rh=0;Rh<Km.length;Rh++){var bh=Km[Rh],MT=bh.toLowerCase(),VT=bh[0].toUpperCase()+bh.slice(1);dr(MT,"on"+VT)}dr(ov,"onAnimationEnd");dr(av,"onAnimationIteration");dr(lv,"onAnimationStart");dr("dblclick","onDoubleClick");dr("focusin","onFocus");dr("focusout","onBlur");dr(uv,"onTransitionEnd");uo("onMouseEnter",["mouseout","mouseover"]);uo("onMouseLeave",["mouseout","mouseover"]);uo("onPointerEnter",["pointerout","pointerover"]);uo("onPointerLeave",["pointerout","pointerover"]);is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));is("onBeforeInput",["compositionend","keypress","textInput","paste"]);is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zT=new Set("cancel close invalid load scroll toggle".split(" ").concat(_a));function Qm(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,ME(i,e,void 0,t),t.currentTarget=null}function hv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var l=i.length-1;0<=l;l--){var h=i[l],d=h.instance,m=h.currentTarget;if(h=h.listener,d!==o&&s.isPropagationStopped())break e;Qm(s,h,m),o=d}else for(l=0;l<i.length;l++){if(h=i[l],d=h.instance,m=h.currentTarget,h=h.listener,d!==o&&s.isPropagationStopped())break e;Qm(s,h,m),o=d}}}if(Hu)throw t=Ef,Hu=!1,Ef=null,t}function Ve(t,e){var n=e[Rf];n===void 0&&(n=e[Rf]=new Set);var i=t+"__bubble";n.has(i)||(fv(e,t,2,!1),n.add(i))}function Nh(t,e,n){var i=0;e&&(i|=4),fv(n,t,i,e)}var uu="_reactListening"+Math.random().toString(36).slice(2);function $a(t){if(!t[uu]){t[uu]=!0,vy.forEach(function(n){n!=="selectionchange"&&(zT.has(n)||Nh(n,!1,t),Nh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[uu]||(e[uu]=!0,Nh("selectionchange",!1,e))}}function fv(t,e,n,i){switch(Ky(e)){case 1:var s=YE;break;case 4:s=JE;break;default:s=Dd}n=s.bind(null,e,n,t),s=void 0,!wf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Oh(t,e,n,i,s){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var h=i.stateNode.containerInfo;if(h===s||h.nodeType===8&&h.parentNode===s)break;if(l===4)for(l=i.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===s||d.nodeType===8&&d.parentNode===s))return;l=l.return}for(;h!==null;){if(l=Mr(h),l===null)return;if(d=l.tag,d===5||d===6){i=o=l;continue e}h=h.parentNode}}i=i.return}Dy(function(){var m=o,y=Rd(n),w=[];e:{var v=cv.get(t);if(v!==void 0){var O=Vd,M=t;switch(t){case"keypress":if(Au(n)===0)break e;case"keydown":case"keyup":O=pT;break;case"focusin":M="focus",O=Ch;break;case"focusout":M="blur",O=Ch;break;case"beforeblur":case"afterblur":O=Ch;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=zm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=nT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=_T;break;case ov:case av:case lv:O=sT;break;case uv:O=vT;break;case"scroll":O=eT;break;case"wheel":O=ET;break;case"copy":case"cut":case"paste":O=aT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=Bm}var V=(e&4)!==0,W=!V&&t==="scroll",N=V?v!==null?v+"Capture":null:v;V=[];for(var P=m,A;P!==null;){A=P;var B=A.stateNode;if(A.tag===5&&B!==null&&(A=B,N!==null&&(B=Va(P,N),B!=null&&V.push(Ha(P,B,A)))),W)break;P=P.return}0<V.length&&(v=new O(v,M,null,n,y),w.push({event:v,listeners:V}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",O=t==="mouseout"||t==="pointerout",v&&n!==yf&&(M=n.relatedTarget||n.fromElement)&&(Mr(M)||M[Si]))break e;if((O||v)&&(v=y.window===y?y:(v=y.ownerDocument)?v.defaultView||v.parentWindow:window,O?(M=n.relatedTarget||n.toElement,O=m,M=M?Mr(M):null,M!==null&&(W=rs(M),M!==W||M.tag!==5&&M.tag!==6)&&(M=null)):(O=null,M=m),O!==M)){if(V=zm,B="onMouseLeave",N="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(V=Bm,B="onPointerLeave",N="onPointerEnter",P="pointer"),W=O==null?v:qs(O),A=M==null?v:qs(M),v=new V(B,P+"leave",O,n,y),v.target=W,v.relatedTarget=A,B=null,Mr(y)===m&&(V=new V(N,P+"enter",M,n,y),V.target=A,V.relatedTarget=W,B=V),W=B,O&&M)t:{for(V=O,N=M,P=0,A=V;A;A=Vs(A))P++;for(A=0,B=N;B;B=Vs(B))A++;for(;0<P-A;)V=Vs(V),P--;for(;0<A-P;)N=Vs(N),A--;for(;P--;){if(V===N||N!==null&&V===N.alternate)break t;V=Vs(V),N=Vs(N)}V=null}else V=null;O!==null&&Xm(w,v,O,V,!1),M!==null&&W!==null&&Xm(w,W,M,V,!0)}}e:{if(v=m?qs(m):window,O=v.nodeName&&v.nodeName.toLowerCase(),O==="select"||O==="input"&&v.type==="file")var Z=AT;else if($m(v))if(tv)Z=bT;else{Z=LT;var K=kT}else(O=v.nodeName)&&O.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(Z=RT);if(Z&&(Z=Z(t,m))){ev(w,Z,n,y);break e}K&&K(t,v,m),t==="focusout"&&(K=v._wrapperState)&&K.controlled&&v.type==="number"&&df(v,"number",v.value)}switch(K=m?qs(m):window,t){case"focusin":($m(K)||K.contentEditable==="true")&&(Ws=K,Pf=m,xa=null);break;case"focusout":xa=Pf=Ws=null;break;case"mousedown":If=!0;break;case"contextmenu":case"mouseup":case"dragend":If=!1,Gm(w,n,y);break;case"selectionchange":if(DT)break;case"keydown":case"keyup":Gm(w,n,y)}var S;if(Fd)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Hs?Yy(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(Xy&&n.locale!=="ko"&&(Hs||x!=="onCompositionStart"?x==="onCompositionEnd"&&Hs&&(S=Qy()):(Zi=y,Md="value"in Zi?Zi.value:Zi.textContent,Hs=!0)),K=Ku(m,x),0<K.length&&(x=new Fm(x,t,null,n,y),w.push({event:x,listeners:K}),S?x.data=S:(S=Jy(n),S!==null&&(x.data=S)))),(S=xT?ST(t,n):PT(t,n))&&(m=Ku(m,"onBeforeInput"),0<m.length&&(y=new Fm("onBeforeInput","beforeinput",null,n,y),w.push({event:y,listeners:m}),y.data=S))}hv(w,e)})}function Ha(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ku(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Va(t,n),o!=null&&i.unshift(Ha(t,o,s)),o=Va(t,e),o!=null&&i.push(Ha(t,o,s))),t=t.return}return i}function Vs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Xm(t,e,n,i,s){for(var o=e._reactName,l=[];n!==null&&n!==i;){var h=n,d=h.alternate,m=h.stateNode;if(d!==null&&d===i)break;h.tag===5&&m!==null&&(h=m,s?(d=Va(n,o),d!=null&&l.unshift(Ha(n,d,h))):s||(d=Va(n,o),d!=null&&l.push(Ha(n,d,h)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var FT=/\r\n?/g,BT=/\u0000|\uFFFD/g;function Ym(t){return(typeof t=="string"?t:""+t).replace(FT,`
`).replace(BT,"")}function cu(t,e,n){if(e=Ym(e),Ym(t)!==e&&n)throw Error(X(425))}function Qu(){}var Cf=null,Af=null;function kf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lf=typeof setTimeout=="function"?setTimeout:void 0,jT=typeof clearTimeout=="function"?clearTimeout:void 0,Jm=typeof Promise=="function"?Promise:void 0,UT=typeof queueMicrotask=="function"?queueMicrotask:typeof Jm<"u"?function(t){return Jm.resolve(null).then(t).catch($T)}:Lf;function $T(t){setTimeout(function(){throw t})}function Dh(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){t.removeChild(s),Ba(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);Ba(e)}function Xi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function eg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var So=Math.random().toString(36).slice(2),Qn="__reactFiber$"+So,Wa="__reactProps$"+So,Si="__reactContainer$"+So,Rf="__reactEvents$"+So,HT="__reactListeners$"+So,WT="__reactHandles$"+So;function Mr(t){var e=t[Qn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Si]||n[Qn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=eg(t);t!==null;){if(n=t[Qn])return n;t=eg(t)}return e}t=n,n=t.parentNode}return null}function cl(t){return t=t[Qn]||t[Si],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function Mc(t){return t[Wa]||null}var bf=[],Gs=-1;function pr(t){return{current:t}}function ze(t){0>Gs||(t.current=bf[Gs],bf[Gs]=null,Gs--)}function De(t,e){Gs++,bf[Gs]=t.current,t.current=e}var or={},Rt=pr(or),Kt=pr(!1),Zr=or;function co(t,e){var n=t.type.contextTypes;if(!n)return or;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Qt(t){return t=t.childContextTypes,t!=null}function Xu(){ze(Kt),ze(Rt)}function tg(t,e,n){if(Rt.current!==or)throw Error(X(168));De(Rt,e),De(Kt,n)}function dv(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(X(108,kE(t)||"Unknown",s));return Ze({},n,i)}function Yu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||or,Zr=Rt.current,De(Rt,t),De(Kt,Kt.current),!0}function ng(t,e,n){var i=t.stateNode;if(!i)throw Error(X(169));n?(t=dv(t,e,Zr),i.__reactInternalMemoizedMergedChildContext=t,ze(Kt),ze(Rt),De(Rt,t)):ze(Kt),De(Kt,n)}var gi=null,Vc=!1,Mh=!1;function pv(t){gi===null?gi=[t]:gi.push(t)}function ZT(t){Vc=!0,pv(t)}function mr(){if(!Mh&&gi!==null){Mh=!0;var t=0,e=Ne;try{var n=gi;for(Ne=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}gi=null,Vc=!1}catch(s){throw gi!==null&&(gi=gi.slice(t+1)),Fy(bd,mr),s}finally{Ne=e,Mh=!1}}return null}var Ks=[],Qs=0,Ju=null,ec=0,_n=[],yn=0,qr=null,_i=1,yi="";function Nr(t,e){Ks[Qs++]=ec,Ks[Qs++]=Ju,Ju=t,ec=e}function mv(t,e,n){_n[yn++]=_i,_n[yn++]=yi,_n[yn++]=qr,qr=t;var i=_i;t=yi;var s=32-Mn(i)-1;i&=~(1<<s),n+=1;var o=32-Mn(e)+s;if(30<o){var l=s-s%5;o=(i&(1<<l)-1).toString(32),i>>=l,s-=l,_i=1<<32-Mn(e)+s|n<<s|i,yi=o+t}else _i=1<<o|n<<s|i,yi=t}function jd(t){t.return!==null&&(Nr(t,1),mv(t,1,0))}function Ud(t){for(;t===Ju;)Ju=Ks[--Qs],Ks[Qs]=null,ec=Ks[--Qs],Ks[Qs]=null;for(;t===qr;)qr=_n[--yn],_n[yn]=null,yi=_n[--yn],_n[yn]=null,_i=_n[--yn],_n[yn]=null}var rn=null,nn=null,je=!1,Rn=null;function gv(t,e){var n=vn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ig(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rn=t,nn=Xi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rn=t,nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qr!==null?{id:_i,overflow:yi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,rn=t,nn=null,!0):!1;default:return!1}}function Nf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Of(t){if(je){var e=nn;if(e){var n=e;if(!ig(t,e)){if(Nf(t))throw Error(X(418));e=Xi(n.nextSibling);var i=rn;e&&ig(t,e)?gv(i,n):(t.flags=t.flags&-4097|2,je=!1,rn=t)}}else{if(Nf(t))throw Error(X(418));t.flags=t.flags&-4097|2,je=!1,rn=t}}}function rg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rn=t}function hu(t){if(t!==rn)return!1;if(!je)return rg(t),je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kf(t.type,t.memoizedProps)),e&&(e=nn)){if(Nf(t))throw _v(),Error(X(418));for(;e;)gv(t,e),e=Xi(e.nextSibling)}if(rg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){nn=Xi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}nn=null}}else nn=rn?Xi(t.stateNode.nextSibling):null;return!0}function _v(){for(var t=nn;t;)t=Xi(t.nextSibling)}function ho(){nn=rn=null,je=!1}function $d(t){Rn===null?Rn=[t]:Rn.push(t)}var qT=ki.ReactCurrentBatchConfig;function aa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var i=n.stateNode}if(!i)throw Error(X(147,t));var s=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var h=s.refs;l===null?delete h[o]:h[o]=l},e._stringRef=o,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function fu(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sg(t){var e=t._init;return e(t._payload)}function yv(t){function e(N,P){if(t){var A=N.deletions;A===null?(N.deletions=[P],N.flags|=16):A.push(P)}}function n(N,P){if(!t)return null;for(;P!==null;)e(N,P),P=P.sibling;return null}function i(N,P){for(N=new Map;P!==null;)P.key!==null?N.set(P.key,P):N.set(P.index,P),P=P.sibling;return N}function s(N,P){return N=tr(N,P),N.index=0,N.sibling=null,N}function o(N,P,A){return N.index=A,t?(A=N.alternate,A!==null?(A=A.index,A<P?(N.flags|=2,P):A):(N.flags|=2,P)):(N.flags|=1048576,P)}function l(N){return t&&N.alternate===null&&(N.flags|=2),N}function h(N,P,A,B){return P===null||P.tag!==6?(P=$h(A,N.mode,B),P.return=N,P):(P=s(P,A),P.return=N,P)}function d(N,P,A,B){var Z=A.type;return Z===$s?y(N,P,A.props.children,B,A.key):P!==null&&(P.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===Ui&&sg(Z)===P.type)?(B=s(P,A.props),B.ref=aa(N,P,A),B.return=N,B):(B=Du(A.type,A.key,A.props,null,N.mode,B),B.ref=aa(N,P,A),B.return=N,B)}function m(N,P,A,B){return P===null||P.tag!==4||P.stateNode.containerInfo!==A.containerInfo||P.stateNode.implementation!==A.implementation?(P=Hh(A,N.mode,B),P.return=N,P):(P=s(P,A.children||[]),P.return=N,P)}function y(N,P,A,B,Z){return P===null||P.tag!==7?(P=Ur(A,N.mode,B,Z),P.return=N,P):(P=s(P,A),P.return=N,P)}function w(N,P,A){if(typeof P=="string"&&P!==""||typeof P=="number")return P=$h(""+P,N.mode,A),P.return=N,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case tu:return A=Du(P.type,P.key,P.props,null,N.mode,A),A.ref=aa(N,null,P),A.return=N,A;case Us:return P=Hh(P,N.mode,A),P.return=N,P;case Ui:var B=P._init;return w(N,B(P._payload),A)}if(ma(P)||na(P))return P=Ur(P,N.mode,A,null),P.return=N,P;fu(N,P)}return null}function v(N,P,A,B){var Z=P!==null?P.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return Z!==null?null:h(N,P,""+A,B);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case tu:return A.key===Z?d(N,P,A,B):null;case Us:return A.key===Z?m(N,P,A,B):null;case Ui:return Z=A._init,v(N,P,Z(A._payload),B)}if(ma(A)||na(A))return Z!==null?null:y(N,P,A,B,null);fu(N,A)}return null}function O(N,P,A,B,Z){if(typeof B=="string"&&B!==""||typeof B=="number")return N=N.get(A)||null,h(P,N,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case tu:return N=N.get(B.key===null?A:B.key)||null,d(P,N,B,Z);case Us:return N=N.get(B.key===null?A:B.key)||null,m(P,N,B,Z);case Ui:var K=B._init;return O(N,P,A,K(B._payload),Z)}if(ma(B)||na(B))return N=N.get(A)||null,y(P,N,B,Z,null);fu(P,B)}return null}function M(N,P,A,B){for(var Z=null,K=null,S=P,x=P=0,I=null;S!==null&&x<A.length;x++){S.index>x?(I=S,S=null):I=S.sibling;var R=v(N,S,A[x],B);if(R===null){S===null&&(S=I);break}t&&S&&R.alternate===null&&e(N,S),P=o(R,P,x),K===null?Z=R:K.sibling=R,K=R,S=I}if(x===A.length)return n(N,S),je&&Nr(N,x),Z;if(S===null){for(;x<A.length;x++)S=w(N,A[x],B),S!==null&&(P=o(S,P,x),K===null?Z=S:K.sibling=S,K=S);return je&&Nr(N,x),Z}for(S=i(N,S);x<A.length;x++)I=O(S,N,x,A[x],B),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?x:I.key),P=o(I,P,x),K===null?Z=I:K.sibling=I,K=I);return t&&S.forEach(function(b){return e(N,b)}),je&&Nr(N,x),Z}function V(N,P,A,B){var Z=na(A);if(typeof Z!="function")throw Error(X(150));if(A=Z.call(A),A==null)throw Error(X(151));for(var K=Z=null,S=P,x=P=0,I=null,R=A.next();S!==null&&!R.done;x++,R=A.next()){S.index>x?(I=S,S=null):I=S.sibling;var b=v(N,S,R.value,B);if(b===null){S===null&&(S=I);break}t&&S&&b.alternate===null&&e(N,S),P=o(b,P,x),K===null?Z=b:K.sibling=b,K=b,S=I}if(R.done)return n(N,S),je&&Nr(N,x),Z;if(S===null){for(;!R.done;x++,R=A.next())R=w(N,R.value,B),R!==null&&(P=o(R,P,x),K===null?Z=R:K.sibling=R,K=R);return je&&Nr(N,x),Z}for(S=i(N,S);!R.done;x++,R=A.next())R=O(S,N,x,R.value,B),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?x:R.key),P=o(R,P,x),K===null?Z=R:K.sibling=R,K=R);return t&&S.forEach(function(D){return e(N,D)}),je&&Nr(N,x),Z}function W(N,P,A,B){if(typeof A=="object"&&A!==null&&A.type===$s&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case tu:e:{for(var Z=A.key,K=P;K!==null;){if(K.key===Z){if(Z=A.type,Z===$s){if(K.tag===7){n(N,K.sibling),P=s(K,A.props.children),P.return=N,N=P;break e}}else if(K.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===Ui&&sg(Z)===K.type){n(N,K.sibling),P=s(K,A.props),P.ref=aa(N,K,A),P.return=N,N=P;break e}n(N,K);break}else e(N,K);K=K.sibling}A.type===$s?(P=Ur(A.props.children,N.mode,B,A.key),P.return=N,N=P):(B=Du(A.type,A.key,A.props,null,N.mode,B),B.ref=aa(N,P,A),B.return=N,N=B)}return l(N);case Us:e:{for(K=A.key;P!==null;){if(P.key===K)if(P.tag===4&&P.stateNode.containerInfo===A.containerInfo&&P.stateNode.implementation===A.implementation){n(N,P.sibling),P=s(P,A.children||[]),P.return=N,N=P;break e}else{n(N,P);break}else e(N,P);P=P.sibling}P=Hh(A,N.mode,B),P.return=N,N=P}return l(N);case Ui:return K=A._init,W(N,P,K(A._payload),B)}if(ma(A))return M(N,P,A,B);if(na(A))return V(N,P,A,B);fu(N,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,P!==null&&P.tag===6?(n(N,P.sibling),P=s(P,A),P.return=N,N=P):(n(N,P),P=$h(A,N.mode,B),P.return=N,N=P),l(N)):n(N,P)}return W}var fo=yv(!0),vv=yv(!1),tc=pr(null),nc=null,Xs=null,Hd=null;function Wd(){Hd=Xs=nc=null}function Zd(t){var e=tc.current;ze(tc),t._currentValue=e}function Df(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function ro(t,e){nc=t,Hd=Xs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gt=!0),t.firstContext=null)}function En(t){var e=t._currentValue;if(Hd!==t)if(t={context:t,memoizedValue:e,next:null},Xs===null){if(nc===null)throw Error(X(308));Xs=t,nc.dependencies={lanes:0,firstContext:t}}else Xs=Xs.next=t;return e}var Vr=null;function qd(t){Vr===null?Vr=[t]:Vr.push(t)}function wv(t,e,n,i){var s=e.interleaved;return s===null?(n.next=n,qd(e)):(n.next=s.next,s.next=n),e.interleaved=n,Pi(t,i)}function Pi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var $i=!1;function Gd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ev(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Ie&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,Pi(t,n)}return s=i.interleaved,s===null?(e.next=e,qd(i)):(e.next=s.next,s.next=e),i.interleaved=e,Pi(t,n)}function ku(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Nd(t,n)}}function og(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ic(t,e,n,i){var s=t.updateQueue;$i=!1;var o=s.firstBaseUpdate,l=s.lastBaseUpdate,h=s.shared.pending;if(h!==null){s.shared.pending=null;var d=h,m=d.next;d.next=null,l===null?o=m:l.next=m,l=d;var y=t.alternate;y!==null&&(y=y.updateQueue,h=y.lastBaseUpdate,h!==l&&(h===null?y.firstBaseUpdate=m:h.next=m,y.lastBaseUpdate=d))}if(o!==null){var w=s.baseState;l=0,y=m=d=null,h=o;do{var v=h.lane,O=h.eventTime;if((i&v)===v){y!==null&&(y=y.next={eventTime:O,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var M=t,V=h;switch(v=e,O=n,V.tag){case 1:if(M=V.payload,typeof M=="function"){w=M.call(O,w,v);break e}w=M;break e;case 3:M.flags=M.flags&-65537|128;case 0:if(M=V.payload,v=typeof M=="function"?M.call(O,w,v):M,v==null)break e;w=Ze({},w,v);break e;case 2:$i=!0}}h.callback!==null&&h.lane!==0&&(t.flags|=64,v=s.effects,v===null?s.effects=[h]:v.push(h))}else O={eventTime:O,lane:v,tag:h.tag,payload:h.payload,callback:h.callback,next:null},y===null?(m=y=O,d=w):y=y.next=O,l|=v;if(h=h.next,h===null){if(h=s.shared.pending,h===null)break;v=h,h=v.next,v.next=null,s.lastBaseUpdate=v,s.shared.pending=null}}while(!0);if(y===null&&(d=w),s.baseState=d,s.firstBaseUpdate=m,s.lastBaseUpdate=y,e=s.shared.interleaved,e!==null){s=e;do l|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Kr|=l,t.lanes=l,t.memoizedState=w}}function ag(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(X(191,s));s.call(i)}}}var hl={},Jn=pr(hl),Za=pr(hl),qa=pr(hl);function zr(t){if(t===hl)throw Error(X(174));return t}function Kd(t,e){switch(De(qa,e),De(Za,t),De(Jn,hl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=mf(e,t)}ze(Jn),De(Jn,e)}function po(){ze(Jn),ze(Za),ze(qa)}function Tv(t){zr(qa.current);var e=zr(Jn.current),n=mf(e,t.type);e!==n&&(De(Za,t),De(Jn,n))}function Qd(t){Za.current===t&&(ze(Jn),ze(Za))}var $e=pr(0);function rc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vh=[];function Xd(){for(var t=0;t<Vh.length;t++)Vh[t]._workInProgressVersionPrimary=null;Vh.length=0}var Lu=ki.ReactCurrentDispatcher,zh=ki.ReactCurrentBatchConfig,Gr=0,We=null,rt=null,ft=null,sc=!1,Sa=!1,Ga=0,GT=0;function St(){throw Error(X(321))}function Yd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!zn(t[n],e[n]))return!1;return!0}function Jd(t,e,n,i,s,o){if(Gr=o,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Lu.current=t===null||t.memoizedState===null?YT:JT,t=n(i,s),Sa){o=0;do{if(Sa=!1,Ga=0,25<=o)throw Error(X(301));o+=1,ft=rt=null,e.updateQueue=null,Lu.current=ex,t=n(i,s)}while(Sa)}if(Lu.current=oc,e=rt!==null&&rt.next!==null,Gr=0,ft=rt=We=null,sc=!1,e)throw Error(X(300));return t}function ep(){var t=Ga!==0;return Ga=0,t}function Gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?We.memoizedState=ft=t:ft=ft.next=t,ft}function Tn(){if(rt===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var e=ft===null?We.memoizedState:ft.next;if(e!==null)ft=e,rt=t;else{if(t===null)throw Error(X(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},ft===null?We.memoizedState=ft=t:ft=ft.next=t}return ft}function Ka(t,e){return typeof e=="function"?e(t):e}function Fh(t){var e=Tn(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var i=rt,s=i.baseQueue,o=n.pending;if(o!==null){if(s!==null){var l=s.next;s.next=o.next,o.next=l}i.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,i=i.baseState;var h=l=null,d=null,m=o;do{var y=m.lane;if((Gr&y)===y)d!==null&&(d=d.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),i=m.hasEagerState?m.eagerState:t(i,m.action);else{var w={lane:y,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};d===null?(h=d=w,l=i):d=d.next=w,We.lanes|=y,Kr|=y}m=m.next}while(m!==null&&m!==o);d===null?l=i:d.next=h,zn(i,e.memoizedState)||(Gt=!0),e.memoizedState=i,e.baseState=l,e.baseQueue=d,n.lastRenderedState=i}if(t=n.interleaved,t!==null){s=t;do o=s.lane,We.lanes|=o,Kr|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bh(t){var e=Tn(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do o=t(o,l.action),l=l.next;while(l!==s);zn(o,e.memoizedState)||(Gt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function xv(){}function Sv(t,e){var n=We,i=Tn(),s=e(),o=!zn(i.memoizedState,s);if(o&&(i.memoizedState=s,Gt=!0),i=i.queue,tp(Cv.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||ft!==null&&ft.memoizedState.tag&1){if(n.flags|=2048,Qa(9,Iv.bind(null,n,i,s,e),void 0,null),pt===null)throw Error(X(349));Gr&30||Pv(n,e,s)}return s}function Pv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Iv(t,e,n,i){e.value=n,e.getSnapshot=i,Av(e)&&kv(t)}function Cv(t,e,n){return n(function(){Av(e)&&kv(t)})}function Av(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!zn(t,n)}catch{return!0}}function kv(t){var e=Pi(t,1);e!==null&&Vn(e,t,1,-1)}function lg(t){var e=Gn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:t},e.queue=t,t=t.dispatch=XT.bind(null,We,t),[e.memoizedState,t]}function Qa(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function Lv(){return Tn().memoizedState}function Ru(t,e,n,i){var s=Gn();We.flags|=t,s.memoizedState=Qa(1|e,n,void 0,i===void 0?null:i)}function zc(t,e,n,i){var s=Tn();i=i===void 0?null:i;var o=void 0;if(rt!==null){var l=rt.memoizedState;if(o=l.destroy,i!==null&&Yd(i,l.deps)){s.memoizedState=Qa(e,n,o,i);return}}We.flags|=t,s.memoizedState=Qa(1|e,n,o,i)}function ug(t,e){return Ru(8390656,8,t,e)}function tp(t,e){return zc(2048,8,t,e)}function Rv(t,e){return zc(4,2,t,e)}function bv(t,e){return zc(4,4,t,e)}function Nv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ov(t,e,n){return n=n!=null?n.concat([t]):null,zc(4,4,Nv.bind(null,e,t),n)}function np(){}function Dv(t,e){var n=Tn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Yd(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Mv(t,e){var n=Tn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Yd(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Vv(t,e,n){return Gr&21?(zn(n,e)||(n=Uy(),We.lanes|=n,Kr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gt=!0),t.memoizedState=n)}function KT(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var i=zh.transition;zh.transition={};try{t(!1),e()}finally{Ne=n,zh.transition=i}}function zv(){return Tn().memoizedState}function QT(t,e,n){var i=er(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Fv(t))Bv(e,n);else if(n=wv(t,e,n,i),n!==null){var s=Vt();Vn(n,t,i,s),jv(n,e,i)}}function XT(t,e,n){var i=er(t),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Fv(t))Bv(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,h=o(l,n);if(s.hasEagerState=!0,s.eagerState=h,zn(h,l)){var d=e.interleaved;d===null?(s.next=s,qd(e)):(s.next=d.next,d.next=s),e.interleaved=s;return}}catch{}finally{}n=wv(t,e,s,i),n!==null&&(s=Vt(),Vn(n,t,i,s),jv(n,e,i))}}function Fv(t){var e=t.alternate;return t===We||e!==null&&e===We}function Bv(t,e){Sa=sc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function jv(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Nd(t,n)}}var oc={readContext:En,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},YT={readContext:En,useCallback:function(t,e){return Gn().memoizedState=[t,e===void 0?null:e],t},useContext:En,useEffect:ug,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ru(4194308,4,Nv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ru(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ru(4,2,t,e)},useMemo:function(t,e){var n=Gn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Gn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=QT.bind(null,We,t),[i.memoizedState,t]},useRef:function(t){var e=Gn();return t={current:t},e.memoizedState=t},useState:lg,useDebugValue:np,useDeferredValue:function(t){return Gn().memoizedState=t},useTransition:function(){var t=lg(!1),e=t[0];return t=KT.bind(null,t[1]),Gn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=We,s=Gn();if(je){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),pt===null)throw Error(X(349));Gr&30||Pv(i,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,ug(Cv.bind(null,i,o,t),[t]),i.flags|=2048,Qa(9,Iv.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=Gn(),e=pt.identifierPrefix;if(je){var n=yi,i=_i;n=(i&~(1<<32-Mn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ga++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=GT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},JT={readContext:En,useCallback:Dv,useContext:En,useEffect:tp,useImperativeHandle:Ov,useInsertionEffect:Rv,useLayoutEffect:bv,useMemo:Mv,useReducer:Fh,useRef:Lv,useState:function(){return Fh(Ka)},useDebugValue:np,useDeferredValue:function(t){var e=Tn();return Vv(e,rt.memoizedState,t)},useTransition:function(){var t=Fh(Ka)[0],e=Tn().memoizedState;return[t,e]},useMutableSource:xv,useSyncExternalStore:Sv,useId:zv,unstable_isNewReconciler:!1},ex={readContext:En,useCallback:Dv,useContext:En,useEffect:tp,useImperativeHandle:Ov,useInsertionEffect:Rv,useLayoutEffect:bv,useMemo:Mv,useReducer:Bh,useRef:Lv,useState:function(){return Bh(Ka)},useDebugValue:np,useDeferredValue:function(t){var e=Tn();return rt===null?e.memoizedState=t:Vv(e,rt.memoizedState,t)},useTransition:function(){var t=Bh(Ka)[0],e=Tn().memoizedState;return[t,e]},useMutableSource:xv,useSyncExternalStore:Sv,useId:zv,unstable_isNewReconciler:!1};function kn(t,e){if(t&&t.defaultProps){e=Ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Mf(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fc={isMounted:function(t){return(t=t._reactInternals)?rs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Vt(),s=er(t),o=vi(i,s);o.payload=e,n!=null&&(o.callback=n),e=Yi(t,o,s),e!==null&&(Vn(e,t,s,i),ku(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Vt(),s=er(t),o=vi(i,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Yi(t,o,s),e!==null&&(Vn(e,t,s,i),ku(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Vt(),i=er(t),s=vi(n,i);s.tag=2,e!=null&&(s.callback=e),e=Yi(t,s,i),e!==null&&(Vn(e,t,i,n),ku(e,t,i))}};function cg(t,e,n,i,s,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,l):e.prototype&&e.prototype.isPureReactComponent?!Ua(n,i)||!Ua(s,o):!0}function Uv(t,e,n){var i=!1,s=or,o=e.contextType;return typeof o=="object"&&o!==null?o=En(o):(s=Qt(e)?Zr:Rt.current,i=e.contextTypes,o=(i=i!=null)?co(t,s):or),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fc,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function hg(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Fc.enqueueReplaceState(e,e.state,null)}function Vf(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Gd(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=En(o):(o=Qt(e)?Zr:Rt.current,s.context=co(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Mf(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Fc.enqueueReplaceState(s,s.state,null),ic(t,n,s,i),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function mo(t,e){try{var n="",i=e;do n+=AE(i),i=i.return;while(i);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function jh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var tx=typeof WeakMap=="function"?WeakMap:Map;function $v(t,e,n){n=vi(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){lc||(lc=!0,Gf=i),zf(t,e)},n}function Hv(t,e,n){n=vi(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){zf(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){zf(t,e),typeof i!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function fg(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new tx;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),t=mx.bind(null,t,e,n),e.then(t,t))}function dg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function pg(t,e,n,i,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vi(-1,1),e.tag=2,Yi(n,e,1))),n.lanes|=1),t)}var nx=ki.ReactCurrentOwner,Gt=!1;function Mt(t,e,n,i){e.child=t===null?vv(e,null,n,i):fo(e,t.child,n,i)}function mg(t,e,n,i,s){n=n.render;var o=e.ref;return ro(e,s),i=Jd(t,e,n,i,o,s),n=ep(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ii(t,e,s)):(je&&n&&jd(e),e.flags|=1,Mt(t,e,i,s),e.child)}function gg(t,e,n,i,s){if(t===null){var o=n.type;return typeof o=="function"&&!cp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Wv(t,e,o,i,s)):(t=Du(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ua,n(l,i)&&t.ref===e.ref)return Ii(t,e,s)}return e.flags|=1,t=tr(o,i),t.ref=e.ref,t.return=e,e.child=t}function Wv(t,e,n,i,s){if(t!==null){var o=t.memoizedProps;if(Ua(o,i)&&t.ref===e.ref)if(Gt=!1,e.pendingProps=i=o,(t.lanes&s)!==0)t.flags&131072&&(Gt=!0);else return e.lanes=t.lanes,Ii(t,e,s)}return Ff(t,e,n,i,s)}function Zv(t,e,n){var i=e.pendingProps,s=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Js,tn),tn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(Js,tn),tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,De(Js,tn),tn|=i}else o!==null?(i=o.baseLanes|n,e.memoizedState=null):i=n,De(Js,tn),tn|=i;return Mt(t,e,s,n),e.child}function qv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ff(t,e,n,i,s){var o=Qt(n)?Zr:Rt.current;return o=co(e,o),ro(e,s),n=Jd(t,e,n,i,o,s),i=ep(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ii(t,e,s)):(je&&i&&jd(e),e.flags|=1,Mt(t,e,n,s),e.child)}function _g(t,e,n,i,s){if(Qt(n)){var o=!0;Yu(e)}else o=!1;if(ro(e,s),e.stateNode===null)bu(t,e),Uv(e,n,i),Vf(e,n,i,s),i=!0;else if(t===null){var l=e.stateNode,h=e.memoizedProps;l.props=h;var d=l.context,m=n.contextType;typeof m=="object"&&m!==null?m=En(m):(m=Qt(n)?Zr:Rt.current,m=co(e,m));var y=n.getDerivedStateFromProps,w=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function";w||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(h!==i||d!==m)&&hg(e,l,i,m),$i=!1;var v=e.memoizedState;l.state=v,ic(e,i,l,s),d=e.memoizedState,h!==i||v!==d||Kt.current||$i?(typeof y=="function"&&(Mf(e,n,y,i),d=e.memoizedState),(h=$i||cg(e,n,h,i,v,d,m))?(w||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=d),l.props=i,l.state=d,l.context=m,i=h):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{l=e.stateNode,Ev(t,e),h=e.memoizedProps,m=e.type===e.elementType?h:kn(e.type,h),l.props=m,w=e.pendingProps,v=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=En(d):(d=Qt(n)?Zr:Rt.current,d=co(e,d));var O=n.getDerivedStateFromProps;(y=typeof O=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(h!==w||v!==d)&&hg(e,l,i,d),$i=!1,v=e.memoizedState,l.state=v,ic(e,i,l,s);var M=e.memoizedState;h!==w||v!==M||Kt.current||$i?(typeof O=="function"&&(Mf(e,n,O,i),M=e.memoizedState),(m=$i||cg(e,n,m,i,v,M,d)||!1)?(y||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,M,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,M,d)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=M),l.props=i,l.state=M,l.context=d,i=m):(typeof l.componentDidUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),i=!1)}return Bf(t,e,n,i,o,s)}function Bf(t,e,n,i,s,o){qv(t,e);var l=(e.flags&128)!==0;if(!i&&!l)return s&&ng(e,n,!1),Ii(t,e,o);i=e.stateNode,nx.current=e;var h=l&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&l?(e.child=fo(e,t.child,null,o),e.child=fo(e,null,h,o)):Mt(t,e,h,o),e.memoizedState=i.state,s&&ng(e,n,!0),e.child}function Gv(t){var e=t.stateNode;e.pendingContext?tg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&tg(t,e.context,!1),Kd(t,e.containerInfo)}function yg(t,e,n,i,s){return ho(),$d(s),e.flags|=256,Mt(t,e,n,i),e.child}var jf={dehydrated:null,treeContext:null,retryLane:0};function Uf(t){return{baseLanes:t,cachePool:null,transitions:null}}function Kv(t,e,n){var i=e.pendingProps,s=$e.current,o=!1,l=(e.flags&128)!==0,h;if((h=l)||(h=t!==null&&t.memoizedState===null?!1:(s&2)!==0),h?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),De($e,s&1),t===null)return Of(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=i.children,t=i.fallback,o?(i=e.mode,o=e.child,l={mode:"hidden",children:l},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Uc(l,i,0,null),t=Ur(t,i,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Uf(n),e.memoizedState=jf,t):ip(e,l));if(s=t.memoizedState,s!==null&&(h=s.dehydrated,h!==null))return ix(t,e,l,i,h,s,n);if(o){o=i.fallback,l=e.mode,s=t.child,h=s.sibling;var d={mode:"hidden",children:i.children};return!(l&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=d,e.deletions=null):(i=tr(s,d),i.subtreeFlags=s.subtreeFlags&14680064),h!==null?o=tr(h,o):(o=Ur(o,l,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,l=t.child.memoizedState,l=l===null?Uf(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=jf,i}return o=t.child,t=o.sibling,i=tr(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function ip(t,e){return e=Uc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function du(t,e,n,i){return i!==null&&$d(i),fo(e,t.child,null,n),t=ip(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ix(t,e,n,i,s,o,l){if(n)return e.flags&256?(e.flags&=-257,i=jh(Error(X(422))),du(t,e,l,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,s=e.mode,i=Uc({mode:"visible",children:i.children},s,0,null),o=Ur(o,s,l,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&fo(e,t.child,null,l),e.child.memoizedState=Uf(l),e.memoizedState=jf,o);if(!(e.mode&1))return du(t,e,l,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var h=i.dgst;return i=h,o=Error(X(419)),i=jh(o,i,void 0),du(t,e,l,i)}if(h=(l&t.childLanes)!==0,Gt||h){if(i=pt,i!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|l)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Pi(t,s),Vn(i,t,s,-1))}return up(),i=jh(Error(X(421))),du(t,e,l,i)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=gx.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,nn=Xi(s.nextSibling),rn=e,je=!0,Rn=null,t!==null&&(_n[yn++]=_i,_n[yn++]=yi,_n[yn++]=qr,_i=t.id,yi=t.overflow,qr=e),e=ip(e,i.children),e.flags|=4096,e)}function vg(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Df(t.return,e,n)}function Uh(t,e,n,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=s)}function Qv(t,e,n){var i=e.pendingProps,s=i.revealOrder,o=i.tail;if(Mt(t,e,i.children,n),i=$e.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vg(t,n,e);else if(t.tag===19)vg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(De($e,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&rc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Uh(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&rc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Uh(e,!0,n,null,o);break;case"together":Uh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ii(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Kr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=tr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=tr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rx(t,e,n){switch(e.tag){case 3:Gv(e),ho();break;case 5:Tv(e);break;case 1:Qt(e.type)&&Yu(e);break;case 4:Kd(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;De(tc,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(De($e,$e.current&1),e.flags|=128,null):n&e.child.childLanes?Kv(t,e,n):(De($e,$e.current&1),t=Ii(t,e,n),t!==null?t.sibling:null);De($e,$e.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return Qv(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),De($e,$e.current),i)break;return null;case 22:case 23:return e.lanes=0,Zv(t,e,n)}return Ii(t,e,n)}var Xv,$f,Yv,Jv;Xv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$f=function(){};Yv=function(t,e,n,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,zr(Jn.current);var o=null;switch(n){case"input":s=hf(t,s),i=hf(t,i),o=[];break;case"select":s=Ze({},s,{value:void 0}),i=Ze({},i,{value:void 0}),o=[];break;case"textarea":s=pf(t,s),i=pf(t,i),o=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Qu)}gf(n,i);var l;n=null;for(m in s)if(!i.hasOwnProperty(m)&&s.hasOwnProperty(m)&&s[m]!=null)if(m==="style"){var h=s[m];for(l in h)h.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Da.hasOwnProperty(m)?o||(o=[]):(o=o||[]).push(m,null));for(m in i){var d=i[m];if(h=s!=null?s[m]:void 0,i.hasOwnProperty(m)&&d!==h&&(d!=null||h!=null))if(m==="style")if(h){for(l in h)!h.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&h[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(o||(o=[]),o.push(m,n)),n=d;else m==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,h=h?h.__html:void 0,d!=null&&h!==d&&(o=o||[]).push(m,d)):m==="children"?typeof d!="string"&&typeof d!="number"||(o=o||[]).push(m,""+d):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(Da.hasOwnProperty(m)?(d!=null&&m==="onScroll"&&Ve("scroll",t),o||h===d||(o=[])):(o=o||[]).push(m,d))}n&&(o=o||[]).push("style",n);var m=o;(e.updateQueue=m)&&(e.flags|=4)}};Jv=function(t,e,n,i){n!==i&&(e.flags|=4)};function la(t,e){if(!je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function sx(t,e,n){var i=e.pendingProps;switch(Ud(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(e),null;case 1:return Qt(e.type)&&Xu(),Pt(e),null;case 3:return i=e.stateNode,po(),ze(Kt),ze(Rt),Xd(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(hu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rn!==null&&(Xf(Rn),Rn=null))),$f(t,e),Pt(e),null;case 5:Qd(e);var s=zr(qa.current);if(n=e.type,t!==null&&e.stateNode!=null)Yv(t,e,n,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(X(166));return Pt(e),null}if(t=zr(Jn.current),hu(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[Qn]=e,i[Wa]=o,t=(e.mode&1)!==0,n){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(s=0;s<_a.length;s++)Ve(_a[s],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Am(i,o),Ve("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Ve("invalid",i);break;case"textarea":Lm(i,o),Ve("invalid",i)}gf(n,o),s=null;for(var l in o)if(o.hasOwnProperty(l)){var h=o[l];l==="children"?typeof h=="string"?i.textContent!==h&&(o.suppressHydrationWarning!==!0&&cu(i.textContent,h,t),s=["children",h]):typeof h=="number"&&i.textContent!==""+h&&(o.suppressHydrationWarning!==!0&&cu(i.textContent,h,t),s=["children",""+h]):Da.hasOwnProperty(l)&&h!=null&&l==="onScroll"&&Ve("scroll",i)}switch(n){case"input":nu(i),km(i,o,!0);break;case"textarea":nu(i),Rm(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=Qu)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Cy(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),n==="select"&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[Qn]=e,t[Wa]=i,Xv(t,e,!1,!1),e.stateNode=t;e:{switch(l=_f(n,i),n){case"dialog":Ve("cancel",t),Ve("close",t),s=i;break;case"iframe":case"object":case"embed":Ve("load",t),s=i;break;case"video":case"audio":for(s=0;s<_a.length;s++)Ve(_a[s],t);s=i;break;case"source":Ve("error",t),s=i;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),s=i;break;case"details":Ve("toggle",t),s=i;break;case"input":Am(t,i),s=hf(t,i),Ve("invalid",t);break;case"option":s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=Ze({},i,{value:void 0}),Ve("invalid",t);break;case"textarea":Lm(t,i),s=pf(t,i),Ve("invalid",t);break;default:s=i}gf(n,s),h=s;for(o in h)if(h.hasOwnProperty(o)){var d=h[o];o==="style"?Ly(t,d):o==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Ay(t,d)):o==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Ma(t,d):typeof d=="number"&&Ma(t,""+d):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Da.hasOwnProperty(o)?d!=null&&o==="onScroll"&&Ve("scroll",t):d!=null&&Cd(t,o,d,l))}switch(n){case"input":nu(t),km(t,i,!1);break;case"textarea":nu(t),Rm(t);break;case"option":i.value!=null&&t.setAttribute("value",""+sr(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?eo(t,!!i.multiple,o,!1):i.defaultValue!=null&&eo(t,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Qu)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pt(e),null;case 6:if(t&&e.stateNode!=null)Jv(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(X(166));if(n=zr(qa.current),zr(Jn.current),hu(e)){if(i=e.stateNode,n=e.memoizedProps,i[Qn]=e,(o=i.nodeValue!==n)&&(t=rn,t!==null))switch(t.tag){case 3:cu(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cu(i.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Qn]=e,e.stateNode=i}return Pt(e),null;case 13:if(ze($e),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(je&&nn!==null&&e.mode&1&&!(e.flags&128))_v(),ho(),e.flags|=98560,o=!1;else if(o=hu(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(X(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(X(317));o[Qn]=e}else ho(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pt(e),o=!1}else Rn!==null&&(Xf(Rn),Rn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||$e.current&1?st===0&&(st=3):up())),e.updateQueue!==null&&(e.flags|=4),Pt(e),null);case 4:return po(),$f(t,e),t===null&&$a(e.stateNode.containerInfo),Pt(e),null;case 10:return Zd(e.type._context),Pt(e),null;case 17:return Qt(e.type)&&Xu(),Pt(e),null;case 19:if(ze($e),o=e.memoizedState,o===null)return Pt(e),null;if(i=(e.flags&128)!==0,l=o.rendering,l===null)if(i)la(o,!1);else{if(st!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=rc(t),l!==null){for(e.flags|=128,la(o,!1),i=l.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)o=n,t=i,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return De($e,$e.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ye()>go&&(e.flags|=128,i=!0,la(o,!1),e.lanes=4194304)}else{if(!i)if(t=rc(l),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),la(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!je)return Pt(e),null}else 2*Ye()-o.renderingStartTime>go&&n!==1073741824&&(e.flags|=128,i=!0,la(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(n=o.last,n!==null?n.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ye(),e.sibling=null,n=$e.current,De($e,i?n&1|2:n&1),e):(Pt(e),null);case 22:case 23:return lp(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?tn&1073741824&&(Pt(e),e.subtreeFlags&6&&(e.flags|=8192)):Pt(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function ox(t,e){switch(Ud(e),e.tag){case 1:return Qt(e.type)&&Xu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return po(),ze(Kt),ze(Rt),Xd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Qd(e),null;case 13:if(ze($e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));ho()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ze($e),null;case 4:return po(),null;case 10:return Zd(e.type._context),null;case 22:case 23:return lp(),null;case 24:return null;default:return null}}var pu=!1,At=!1,ax=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Ys(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Ke(t,e,i)}else n.current=null}function Hf(t,e,n){try{n()}catch(i){Ke(t,e,i)}}var wg=!1;function lx(t,e){if(Cf=qu,t=rv(),Bd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,h=-1,d=-1,m=0,y=0,w=t,v=null;t:for(;;){for(var O;w!==n||s!==0&&w.nodeType!==3||(h=l+s),w!==o||i!==0&&w.nodeType!==3||(d=l+i),w.nodeType===3&&(l+=w.nodeValue.length),(O=w.firstChild)!==null;)v=w,w=O;for(;;){if(w===t)break t;if(v===n&&++m===s&&(h=l),v===o&&++y===i&&(d=l),(O=w.nextSibling)!==null)break;w=v,v=w.parentNode}w=O}n=h===-1||d===-1?null:{start:h,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Af={focusedElem:t,selectionRange:n},qu=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var M=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(M!==null){var V=M.memoizedProps,W=M.memoizedState,N=e.stateNode,P=N.getSnapshotBeforeUpdate(e.elementType===e.type?V:kn(e.type,V),W);N.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(B){Ke(e,e.return,B)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return M=wg,wg=!1,M}function Pa(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&Hf(e,n,o)}s=s.next}while(s!==i)}}function Bc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Wf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function e0(t){var e=t.alternate;e!==null&&(t.alternate=null,e0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qn],delete e[Wa],delete e[Rf],delete e[HT],delete e[WT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function t0(t){return t.tag===5||t.tag===3||t.tag===4}function Eg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||t0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qu));else if(i!==4&&(t=t.child,t!==null))for(Zf(t,e,n),t=t.sibling;t!==null;)Zf(t,e,n),t=t.sibling}function qf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(qf(t,e,n),t=t.sibling;t!==null;)qf(t,e,n),t=t.sibling}var gt=null,Ln=!1;function ji(t,e,n){for(n=n.child;n!==null;)n0(t,e,n),n=n.sibling}function n0(t,e,n){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(bc,n)}catch{}switch(n.tag){case 5:At||Ys(n,e);case 6:var i=gt,s=Ln;gt=null,ji(t,e,n),gt=i,Ln=s,gt!==null&&(Ln?(t=gt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):gt.removeChild(n.stateNode));break;case 18:gt!==null&&(Ln?(t=gt,n=n.stateNode,t.nodeType===8?Dh(t.parentNode,n):t.nodeType===1&&Dh(t,n),Ba(t)):Dh(gt,n.stateNode));break;case 4:i=gt,s=Ln,gt=n.stateNode.containerInfo,Ln=!0,ji(t,e,n),gt=i,Ln=s;break;case 0:case 11:case 14:case 15:if(!At&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var o=s,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Hf(n,e,l),s=s.next}while(s!==i)}ji(t,e,n);break;case 1:if(!At&&(Ys(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(h){Ke(n,e,h)}ji(t,e,n);break;case 21:ji(t,e,n);break;case 22:n.mode&1?(At=(i=At)||n.memoizedState!==null,ji(t,e,n),At=i):ji(t,e,n);break;default:ji(t,e,n)}}function Tg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ax),e.forEach(function(i){var s=_x.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}}function An(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var o=t,l=e,h=l;e:for(;h!==null;){switch(h.tag){case 5:gt=h.stateNode,Ln=!1;break e;case 3:gt=h.stateNode.containerInfo,Ln=!0;break e;case 4:gt=h.stateNode.containerInfo,Ln=!0;break e}h=h.return}if(gt===null)throw Error(X(160));n0(o,l,s),gt=null,Ln=!1;var d=s.alternate;d!==null&&(d.return=null),s.return=null}catch(m){Ke(s,e,m)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)i0(e,t),e=e.sibling}function i0(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(An(e,t),qn(t),i&4){try{Pa(3,t,t.return),Bc(3,t)}catch(V){Ke(t,t.return,V)}try{Pa(5,t,t.return)}catch(V){Ke(t,t.return,V)}}break;case 1:An(e,t),qn(t),i&512&&n!==null&&Ys(n,n.return);break;case 5:if(An(e,t),qn(t),i&512&&n!==null&&Ys(n,n.return),t.flags&32){var s=t.stateNode;try{Ma(s,"")}catch(V){Ke(t,t.return,V)}}if(i&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,l=n!==null?n.memoizedProps:o,h=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{h==="input"&&o.type==="radio"&&o.name!=null&&Py(s,o),_f(h,l);var m=_f(h,o);for(l=0;l<d.length;l+=2){var y=d[l],w=d[l+1];y==="style"?Ly(s,w):y==="dangerouslySetInnerHTML"?Ay(s,w):y==="children"?Ma(s,w):Cd(s,y,w,m)}switch(h){case"input":ff(s,o);break;case"textarea":Iy(s,o);break;case"select":var v=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var O=o.value;O!=null?eo(s,!!o.multiple,O,!1):v!==!!o.multiple&&(o.defaultValue!=null?eo(s,!!o.multiple,o.defaultValue,!0):eo(s,!!o.multiple,o.multiple?[]:"",!1))}s[Wa]=o}catch(V){Ke(t,t.return,V)}}break;case 6:if(An(e,t),qn(t),i&4){if(t.stateNode===null)throw Error(X(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(V){Ke(t,t.return,V)}}break;case 3:if(An(e,t),qn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ba(e.containerInfo)}catch(V){Ke(t,t.return,V)}break;case 4:An(e,t),qn(t);break;case 13:An(e,t),qn(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(op=Ye())),i&4&&Tg(t);break;case 22:if(y=n!==null&&n.memoizedState!==null,t.mode&1?(At=(m=At)||y,An(e,t),At=m):An(e,t),qn(t),i&8192){if(m=t.memoizedState!==null,(t.stateNode.isHidden=m)&&!y&&t.mode&1)for(ne=t,y=t.child;y!==null;){for(w=ne=y;ne!==null;){switch(v=ne,O=v.child,v.tag){case 0:case 11:case 14:case 15:Pa(4,v,v.return);break;case 1:Ys(v,v.return);var M=v.stateNode;if(typeof M.componentWillUnmount=="function"){i=v,n=v.return;try{e=i,M.props=e.memoizedProps,M.state=e.memoizedState,M.componentWillUnmount()}catch(V){Ke(i,n,V)}}break;case 5:Ys(v,v.return);break;case 22:if(v.memoizedState!==null){Sg(w);continue}}O!==null?(O.return=v,ne=O):Sg(w)}y=y.sibling}e:for(y=null,w=t;;){if(w.tag===5){if(y===null){y=w;try{s=w.stateNode,m?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(h=w.stateNode,d=w.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,h.style.display=ky("display",l))}catch(V){Ke(t,t.return,V)}}}else if(w.tag===6){if(y===null)try{w.stateNode.nodeValue=m?"":w.memoizedProps}catch(V){Ke(t,t.return,V)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===t)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===t)break e;for(;w.sibling===null;){if(w.return===null||w.return===t)break e;y===w&&(y=null),w=w.return}y===w&&(y=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:An(e,t),qn(t),i&4&&Tg(t);break;case 21:break;default:An(e,t),qn(t)}}function qn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(t0(n)){var i=n;break e}n=n.return}throw Error(X(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Ma(s,""),i.flags&=-33);var o=Eg(t);qf(t,o,s);break;case 3:case 4:var l=i.stateNode.containerInfo,h=Eg(t);Zf(t,h,l);break;default:throw Error(X(161))}}catch(d){Ke(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ux(t,e,n){ne=t,r0(t)}function r0(t,e,n){for(var i=(t.mode&1)!==0;ne!==null;){var s=ne,o=s.child;if(s.tag===22&&i){var l=s.memoizedState!==null||pu;if(!l){var h=s.alternate,d=h!==null&&h.memoizedState!==null||At;h=pu;var m=At;if(pu=l,(At=d)&&!m)for(ne=s;ne!==null;)l=ne,d=l.child,l.tag===22&&l.memoizedState!==null?Pg(s):d!==null?(d.return=l,ne=d):Pg(s);for(;o!==null;)ne=o,r0(o),o=o.sibling;ne=s,pu=h,At=m}xg(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ne=o):xg(t)}}function xg(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:At||Bc(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!At)if(n===null)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:kn(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&ag(e,o,i);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ag(e,l,n)}break;case 5:var h=e.stateNode;if(n===null&&e.flags&4){n=h;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var m=e.alternate;if(m!==null){var y=m.memoizedState;if(y!==null){var w=y.dehydrated;w!==null&&Ba(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}At||e.flags&512&&Wf(e)}catch(v){Ke(e,e.return,v)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Sg(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Pg(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Bc(4,e)}catch(d){Ke(e,n,d)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(d){Ke(e,s,d)}}var o=e.return;try{Wf(e)}catch(d){Ke(e,o,d)}break;case 5:var l=e.return;try{Wf(e)}catch(d){Ke(e,l,d)}}}catch(d){Ke(e,e.return,d)}if(e===t){ne=null;break}var h=e.sibling;if(h!==null){h.return=e.return,ne=h;break}ne=e.return}}var cx=Math.ceil,ac=ki.ReactCurrentDispatcher,rp=ki.ReactCurrentOwner,wn=ki.ReactCurrentBatchConfig,Ie=0,pt=null,nt=null,wt=0,tn=0,Js=pr(0),st=0,Xa=null,Kr=0,jc=0,sp=0,Ia=null,qt=null,op=0,go=1/0,mi=null,lc=!1,Gf=null,Ji=null,mu=!1,qi=null,uc=0,Ca=0,Kf=null,Nu=-1,Ou=0;function Vt(){return Ie&6?Ye():Nu!==-1?Nu:Nu=Ye()}function er(t){return t.mode&1?Ie&2&&wt!==0?wt&-wt:qT.transition!==null?(Ou===0&&(Ou=Uy()),Ou):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:Ky(t.type)),t):1}function Vn(t,e,n,i){if(50<Ca)throw Ca=0,Kf=null,Error(X(185));ll(t,n,i),(!(Ie&2)||t!==pt)&&(t===pt&&(!(Ie&2)&&(jc|=n),st===4&&Wi(t,wt)),Xt(t,i),n===1&&Ie===0&&!(e.mode&1)&&(go=Ye()+500,Vc&&mr()))}function Xt(t,e){var n=t.callbackNode;qE(t,e);var i=Zu(t,t===pt?wt:0);if(i===0)n!==null&&Om(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&Om(n),e===1)t.tag===0?ZT(Ig.bind(null,t)):pv(Ig.bind(null,t)),UT(function(){!(Ie&6)&&mr()}),n=null;else{switch($y(i)){case 1:n=bd;break;case 4:n=By;break;case 16:n=Wu;break;case 536870912:n=jy;break;default:n=Wu}n=f0(n,s0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function s0(t,e){if(Nu=-1,Ou=0,Ie&6)throw Error(X(327));var n=t.callbackNode;if(so()&&t.callbackNode!==n)return null;var i=Zu(t,t===pt?wt:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=cc(t,i);else{e=i;var s=Ie;Ie|=2;var o=a0();(pt!==t||wt!==e)&&(mi=null,go=Ye()+500,jr(t,e));do try{dx();break}catch(h){o0(t,h)}while(!0);Wd(),ac.current=o,Ie=s,nt!==null?e=0:(pt=null,wt=0,e=st)}if(e!==0){if(e===2&&(s=Tf(t),s!==0&&(i=s,e=Qf(t,s))),e===1)throw n=Xa,jr(t,0),Wi(t,i),Xt(t,Ye()),n;if(e===6)Wi(t,i);else{if(s=t.current.alternate,!(i&30)&&!hx(s)&&(e=cc(t,i),e===2&&(o=Tf(t),o!==0&&(i=o,e=Qf(t,o))),e===1))throw n=Xa,jr(t,0),Wi(t,i),Xt(t,Ye()),n;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(X(345));case 2:Or(t,qt,mi);break;case 3:if(Wi(t,i),(i&130023424)===i&&(e=op+500-Ye(),10<e)){if(Zu(t,0)!==0)break;if(s=t.suspendedLanes,(s&i)!==i){Vt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Lf(Or.bind(null,t,qt,mi),e);break}Or(t,qt,mi);break;case 4:if(Wi(t,i),(i&4194240)===i)break;for(e=t.eventTimes,s=-1;0<i;){var l=31-Mn(i);o=1<<l,l=e[l],l>s&&(s=l),i&=~o}if(i=s,i=Ye()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*cx(i/1960))-i,10<i){t.timeoutHandle=Lf(Or.bind(null,t,qt,mi),i);break}Or(t,qt,mi);break;case 5:Or(t,qt,mi);break;default:throw Error(X(329))}}}return Xt(t,Ye()),t.callbackNode===n?s0.bind(null,t):null}function Qf(t,e){var n=Ia;return t.current.memoizedState.isDehydrated&&(jr(t,e).flags|=256),t=cc(t,e),t!==2&&(e=qt,qt=n,e!==null&&Xf(e)),t}function Xf(t){qt===null?qt=t:qt.push.apply(qt,t)}function hx(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],o=s.getSnapshot;s=s.value;try{if(!zn(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wi(t,e){for(e&=~sp,e&=~jc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Mn(e),i=1<<n;t[n]=-1,e&=~i}}function Ig(t){if(Ie&6)throw Error(X(327));so();var e=Zu(t,0);if(!(e&1))return Xt(t,Ye()),null;var n=cc(t,e);if(t.tag!==0&&n===2){var i=Tf(t);i!==0&&(e=i,n=Qf(t,i))}if(n===1)throw n=Xa,jr(t,0),Wi(t,e),Xt(t,Ye()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Or(t,qt,mi),Xt(t,Ye()),null}function ap(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(go=Ye()+500,Vc&&mr())}}function Qr(t){qi!==null&&qi.tag===0&&!(Ie&6)&&so();var e=Ie;Ie|=1;var n=wn.transition,i=Ne;try{if(wn.transition=null,Ne=1,t)return t()}finally{Ne=i,wn.transition=n,Ie=e,!(Ie&6)&&mr()}}function lp(){tn=Js.current,ze(Js)}function jr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,jT(n)),nt!==null)for(n=nt.return;n!==null;){var i=n;switch(Ud(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Xu();break;case 3:po(),ze(Kt),ze(Rt),Xd();break;case 5:Qd(i);break;case 4:po();break;case 13:ze($e);break;case 19:ze($e);break;case 10:Zd(i.type._context);break;case 22:case 23:lp()}n=n.return}if(pt=t,nt=t=tr(t.current,null),wt=tn=e,st=0,Xa=null,sp=jc=Kr=0,qt=Ia=null,Vr!==null){for(e=0;e<Vr.length;e++)if(n=Vr[e],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,o=n.pending;if(o!==null){var l=o.next;o.next=s,i.next=l}n.pending=i}Vr=null}return t}function o0(t,e){do{var n=nt;try{if(Wd(),Lu.current=oc,sc){for(var i=We.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}sc=!1}if(Gr=0,ft=rt=We=null,Sa=!1,Ga=0,rp.current=null,n===null||n.return===null){st=1,Xa=e,nt=null;break}e:{var o=t,l=n.return,h=n,d=e;if(e=wt,h.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var m=d,y=h,w=y.tag;if(!(y.mode&1)&&(w===0||w===11||w===15)){var v=y.alternate;v?(y.updateQueue=v.updateQueue,y.memoizedState=v.memoizedState,y.lanes=v.lanes):(y.updateQueue=null,y.memoizedState=null)}var O=dg(l);if(O!==null){O.flags&=-257,pg(O,l,h,o,e),O.mode&1&&fg(o,m,e),e=O,d=m;var M=e.updateQueue;if(M===null){var V=new Set;V.add(d),e.updateQueue=V}else M.add(d);break e}else{if(!(e&1)){fg(o,m,e),up();break e}d=Error(X(426))}}else if(je&&h.mode&1){var W=dg(l);if(W!==null){!(W.flags&65536)&&(W.flags|=256),pg(W,l,h,o,e),$d(mo(d,h));break e}}o=d=mo(d,h),st!==4&&(st=2),Ia===null?Ia=[o]:Ia.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var N=$v(o,d,e);og(o,N);break e;case 1:h=d;var P=o.type,A=o.stateNode;if(!(o.flags&128)&&(typeof P.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Ji===null||!Ji.has(A)))){o.flags|=65536,e&=-e,o.lanes|=e;var B=Hv(o,h,e);og(o,B);break e}}o=o.return}while(o!==null)}u0(n)}catch(Z){e=Z,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(!0)}function a0(){var t=ac.current;return ac.current=oc,t===null?oc:t}function up(){(st===0||st===3||st===2)&&(st=4),pt===null||!(Kr&268435455)&&!(jc&268435455)||Wi(pt,wt)}function cc(t,e){var n=Ie;Ie|=2;var i=a0();(pt!==t||wt!==e)&&(mi=null,jr(t,e));do try{fx();break}catch(s){o0(t,s)}while(!0);if(Wd(),Ie=n,ac.current=i,nt!==null)throw Error(X(261));return pt=null,wt=0,st}function fx(){for(;nt!==null;)l0(nt)}function dx(){for(;nt!==null&&!zE();)l0(nt)}function l0(t){var e=h0(t.alternate,t,tn);t.memoizedProps=t.pendingProps,e===null?u0(t):nt=e,rp.current=null}function u0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ox(n,e),n!==null){n.flags&=32767,nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{st=6,nt=null;return}}else if(n=sx(n,e,tn),n!==null){nt=n;return}if(e=e.sibling,e!==null){nt=e;return}nt=e=t}while(e!==null);st===0&&(st=5)}function Or(t,e,n){var i=Ne,s=wn.transition;try{wn.transition=null,Ne=1,px(t,e,n,i)}finally{wn.transition=s,Ne=i}return null}function px(t,e,n,i){do so();while(qi!==null);if(Ie&6)throw Error(X(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(GE(t,o),t===pt&&(nt=pt=null,wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||mu||(mu=!0,f0(Wu,function(){return so(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=wn.transition,wn.transition=null;var l=Ne;Ne=1;var h=Ie;Ie|=4,rp.current=null,lx(t,n),i0(n,t),OT(Af),qu=!!Cf,Af=Cf=null,t.current=n,ux(n),FE(),Ie=h,Ne=l,wn.transition=o}else t.current=n;if(mu&&(mu=!1,qi=t,uc=s),o=t.pendingLanes,o===0&&(Ji=null),UE(n.stateNode),Xt(t,Ye()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(lc)throw lc=!1,t=Gf,Gf=null,t;return uc&1&&t.tag!==0&&so(),o=t.pendingLanes,o&1?t===Kf?Ca++:(Ca=0,Kf=t):Ca=0,mr(),null}function so(){if(qi!==null){var t=$y(uc),e=wn.transition,n=Ne;try{if(wn.transition=null,Ne=16>t?16:t,qi===null)var i=!1;else{if(t=qi,qi=null,uc=0,Ie&6)throw Error(X(331));var s=Ie;for(Ie|=4,ne=t.current;ne!==null;){var o=ne,l=o.child;if(ne.flags&16){var h=o.deletions;if(h!==null){for(var d=0;d<h.length;d++){var m=h[d];for(ne=m;ne!==null;){var y=ne;switch(y.tag){case 0:case 11:case 15:Pa(8,y,o)}var w=y.child;if(w!==null)w.return=y,ne=w;else for(;ne!==null;){y=ne;var v=y.sibling,O=y.return;if(e0(y),y===m){ne=null;break}if(v!==null){v.return=O,ne=v;break}ne=O}}}var M=o.alternate;if(M!==null){var V=M.child;if(V!==null){M.child=null;do{var W=V.sibling;V.sibling=null,V=W}while(V!==null)}}ne=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,ne=l;else e:for(;ne!==null;){if(o=ne,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Pa(9,o,o.return)}var N=o.sibling;if(N!==null){N.return=o.return,ne=N;break e}ne=o.return}}var P=t.current;for(ne=P;ne!==null;){l=ne;var A=l.child;if(l.subtreeFlags&2064&&A!==null)A.return=l,ne=A;else e:for(l=P;ne!==null;){if(h=ne,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:Bc(9,h)}}catch(Z){Ke(h,h.return,Z)}if(h===l){ne=null;break e}var B=h.sibling;if(B!==null){B.return=h.return,ne=B;break e}ne=h.return}}if(Ie=s,mr(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(bc,t)}catch{}i=!0}return i}finally{Ne=n,wn.transition=e}}return!1}function Cg(t,e,n){e=mo(n,e),e=$v(t,e,1),t=Yi(t,e,1),e=Vt(),t!==null&&(ll(t,1,e),Xt(t,e))}function Ke(t,e,n){if(t.tag===3)Cg(t,t,n);else for(;e!==null;){if(e.tag===3){Cg(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ji===null||!Ji.has(i))){t=mo(n,t),t=Hv(e,t,1),e=Yi(e,t,1),t=Vt(),e!==null&&(ll(e,1,t),Xt(e,t));break}}e=e.return}}function mx(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Vt(),t.pingedLanes|=t.suspendedLanes&n,pt===t&&(wt&n)===n&&(st===4||st===3&&(wt&130023424)===wt&&500>Ye()-op?jr(t,0):sp|=n),Xt(t,e)}function c0(t,e){e===0&&(t.mode&1?(e=su,su<<=1,!(su&130023424)&&(su=4194304)):e=1);var n=Vt();t=Pi(t,e),t!==null&&(ll(t,e,n),Xt(t,n))}function gx(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),c0(t,n)}function _x(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(X(314))}i!==null&&i.delete(e),c0(t,n)}var h0;h0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Kt.current)Gt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Gt=!1,rx(t,e,n);Gt=!!(t.flags&131072)}else Gt=!1,je&&e.flags&1048576&&mv(e,ec,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;bu(t,e),t=e.pendingProps;var s=co(e,Rt.current);ro(e,n),s=Jd(null,e,i,t,s,n);var o=ep();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qt(i)?(o=!0,Yu(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Gd(e),s.updater=Fc,e.stateNode=s,s._reactInternals=e,Vf(e,i,t,n),e=Bf(null,e,i,!0,o,n)):(e.tag=0,je&&o&&jd(e),Mt(null,e,s,n),e=e.child),e;case 16:i=e.elementType;e:{switch(bu(t,e),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=vx(i),t=kn(i,t),s){case 0:e=Ff(null,e,i,t,n);break e;case 1:e=_g(null,e,i,t,n);break e;case 11:e=mg(null,e,i,t,n);break e;case 14:e=gg(null,e,i,kn(i.type,t),n);break e}throw Error(X(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:kn(i,s),Ff(t,e,i,s,n);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:kn(i,s),_g(t,e,i,s,n);case 3:e:{if(Gv(e),t===null)throw Error(X(387));i=e.pendingProps,o=e.memoizedState,s=o.element,Ev(t,e),ic(e,i,null,n);var l=e.memoizedState;if(i=l.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=mo(Error(X(423)),e),e=yg(t,e,i,n,s);break e}else if(i!==s){s=mo(Error(X(424)),e),e=yg(t,e,i,n,s);break e}else for(nn=Xi(e.stateNode.containerInfo.firstChild),rn=e,je=!0,Rn=null,n=vv(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ho(),i===s){e=Ii(t,e,n);break e}Mt(t,e,i,n)}e=e.child}return e;case 5:return Tv(e),t===null&&Of(e),i=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,l=s.children,kf(i,s)?l=null:o!==null&&kf(i,o)&&(e.flags|=32),qv(t,e),Mt(t,e,l,n),e.child;case 6:return t===null&&Of(e),null;case 13:return Kv(t,e,n);case 4:return Kd(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=fo(e,null,i,n):Mt(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:kn(i,s),mg(t,e,i,s,n);case 7:return Mt(t,e,e.pendingProps,n),e.child;case 8:return Mt(t,e,e.pendingProps.children,n),e.child;case 12:return Mt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,o=e.memoizedProps,l=s.value,De(tc,i._currentValue),i._currentValue=l,o!==null)if(zn(o.value,l)){if(o.children===s.children&&!Kt.current){e=Ii(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var h=o.dependencies;if(h!==null){l=o.child;for(var d=h.firstContext;d!==null;){if(d.context===i){if(o.tag===1){d=vi(-1,n&-n),d.tag=2;var m=o.updateQueue;if(m!==null){m=m.shared;var y=m.pending;y===null?d.next=d:(d.next=y.next,y.next=d),m.pending=d}}o.lanes|=n,d=o.alternate,d!==null&&(d.lanes|=n),Df(o.return,n,e),h.lanes|=n;break}d=d.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(X(341));l.lanes|=n,h=l.alternate,h!==null&&(h.lanes|=n),Df(l,n,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}Mt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,ro(e,n),s=En(s),i=i(s),e.flags|=1,Mt(t,e,i,n),e.child;case 14:return i=e.type,s=kn(i,e.pendingProps),s=kn(i.type,s),gg(t,e,i,s,n);case 15:return Wv(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:kn(i,s),bu(t,e),e.tag=1,Qt(i)?(t=!0,Yu(e)):t=!1,ro(e,n),Uv(e,i,s),Vf(e,i,s,n),Bf(null,e,i,!0,t,n);case 19:return Qv(t,e,n);case 22:return Zv(t,e,n)}throw Error(X(156,e.tag))};function f0(t,e){return Fy(t,e)}function yx(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,e,n,i){return new yx(t,e,n,i)}function cp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vx(t){if(typeof t=="function")return cp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kd)return 11;if(t===Ld)return 14}return 2}function tr(t,e){var n=t.alternate;return n===null?(n=vn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Du(t,e,n,i,s,o){var l=2;if(i=t,typeof t=="function")cp(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case $s:return Ur(n.children,s,o,e);case Ad:l=8,s|=8;break;case af:return t=vn(12,n,e,s|2),t.elementType=af,t.lanes=o,t;case lf:return t=vn(13,n,e,s),t.elementType=lf,t.lanes=o,t;case uf:return t=vn(19,n,e,s),t.elementType=uf,t.lanes=o,t;case Ty:return Uc(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wy:l=10;break e;case Ey:l=9;break e;case kd:l=11;break e;case Ld:l=14;break e;case Ui:l=16,i=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=vn(l,n,e,s),e.elementType=t,e.type=i,e.lanes=o,e}function Ur(t,e,n,i){return t=vn(7,t,i,e),t.lanes=n,t}function Uc(t,e,n,i){return t=vn(22,t,i,e),t.elementType=Ty,t.lanes=n,t.stateNode={isHidden:!1},t}function $h(t,e,n){return t=vn(6,t,null,e),t.lanes=n,t}function Hh(t,e,n){return e=vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wx(t,e,n,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sh(0),this.expirationTimes=Sh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sh(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function hp(t,e,n,i,s,o,l,h,d){return t=new wx(t,e,n,h,d),e===1?(e=1,o===!0&&(e|=8)):e=0,o=vn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gd(o),t}function Ex(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Us,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function d0(t){if(!t)return or;t=t._reactInternals;e:{if(rs(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(Qt(n))return dv(t,n,e)}return e}function p0(t,e,n,i,s,o,l,h,d){return t=hp(n,i,!0,t,s,o,l,h,d),t.context=d0(null),n=t.current,i=Vt(),s=er(n),o=vi(i,s),o.callback=e??null,Yi(n,o,s),t.current.lanes=s,ll(t,s,i),Xt(t,i),t}function $c(t,e,n,i){var s=e.current,o=Vt(),l=er(s);return n=d0(n),e.context===null?e.context=n:e.pendingContext=n,e=vi(o,l),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Yi(s,e,l),t!==null&&(Vn(t,s,l,o),ku(t,s,l)),l}function hc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ag(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fp(t,e){Ag(t,e),(t=t.alternate)&&Ag(t,e)}function Tx(){return null}var m0=typeof reportError=="function"?reportError:function(t){console.error(t)};function dp(t){this._internalRoot=t}Hc.prototype.render=dp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));$c(t,e,null,null)};Hc.prototype.unmount=dp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qr(function(){$c(null,t,null,null)}),e[Si]=null}};function Hc(t){this._internalRoot=t}Hc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Zy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hi.length&&e!==0&&e<Hi[n].priority;n++);Hi.splice(n,0,t),n===0&&Gy(t)}};function pp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kg(){}function xx(t,e,n,i,s){if(s){if(typeof i=="function"){var o=i;i=function(){var m=hc(l);o.call(m)}}var l=p0(e,i,t,0,null,!1,!1,"",kg);return t._reactRootContainer=l,t[Si]=l.current,$a(t.nodeType===8?t.parentNode:t),Qr(),l}for(;s=t.lastChild;)t.removeChild(s);if(typeof i=="function"){var h=i;i=function(){var m=hc(d);h.call(m)}}var d=hp(t,0,!1,null,null,!1,!1,"",kg);return t._reactRootContainer=d,t[Si]=d.current,$a(t.nodeType===8?t.parentNode:t),Qr(function(){$c(e,d,n,i)}),d}function Zc(t,e,n,i,s){var o=n._reactRootContainer;if(o){var l=o;if(typeof s=="function"){var h=s;s=function(){var d=hc(l);h.call(d)}}$c(e,l,t,s)}else l=xx(n,e,t,s,i);return hc(l)}Hy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ga(e.pendingLanes);n!==0&&(Nd(e,n|1),Xt(e,Ye()),!(Ie&6)&&(go=Ye()+500,mr()))}break;case 13:Qr(function(){var i=Pi(t,1);if(i!==null){var s=Vt();Vn(i,t,1,s)}}),fp(t,1)}};Od=function(t){if(t.tag===13){var e=Pi(t,134217728);if(e!==null){var n=Vt();Vn(e,t,134217728,n)}fp(t,134217728)}};Wy=function(t){if(t.tag===13){var e=er(t),n=Pi(t,e);if(n!==null){var i=Vt();Vn(n,t,e,i)}fp(t,e)}};Zy=function(){return Ne};qy=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};vf=function(t,e,n){switch(e){case"input":if(ff(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=Mc(i);if(!s)throw Error(X(90));Sy(i),ff(i,s)}}}break;case"textarea":Iy(t,n);break;case"select":e=n.value,e!=null&&eo(t,!!n.multiple,e,!1)}};Ny=ap;Oy=Qr;var Sx={usingClientEntryPoint:!1,Events:[cl,qs,Mc,Ry,by,ap]},ua={findFiberByHostInstance:Mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Px={bundleType:ua.bundleType,version:ua.version,rendererPackageName:ua.rendererPackageName,rendererConfig:ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Vy(t),t===null?null:t.stateNode},findFiberByHostInstance:ua.findFiberByHostInstance||Tx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gu.isDisabled&&gu.supportsFiber)try{bc=gu.inject(Px),Yn=gu}catch{}}an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sx;an.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pp(e))throw Error(X(200));return Ex(t,e,null,n)};an.createRoot=function(t,e){if(!pp(t))throw Error(X(299));var n=!1,i="",s=m0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=hp(t,1,!1,null,null,n,!1,i,s),t[Si]=e.current,$a(t.nodeType===8?t.parentNode:t),new dp(e)};an.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=Vy(e),t=t===null?null:t.stateNode,t};an.flushSync=function(t){return Qr(t)};an.hydrate=function(t,e,n){if(!Wc(e))throw Error(X(200));return Zc(null,t,e,!0,n)};an.hydrateRoot=function(t,e,n){if(!pp(t))throw Error(X(405));var i=n!=null&&n.hydratedSources||null,s=!1,o="",l=m0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=p0(e,null,t,1,n??null,s,!1,o,l),t[Si]=e.current,$a(t),i)for(t=0;t<i.length;t++)n=i[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Hc(e)};an.render=function(t,e,n){if(!Wc(e))throw Error(X(200));return Zc(null,t,e,!1,n)};an.unmountComponentAtNode=function(t){if(!Wc(t))throw Error(X(40));return t._reactRootContainer?(Qr(function(){Zc(null,null,t,!1,function(){t._reactRootContainer=null,t[Si]=null})}),!0):!1};an.unstable_batchedUpdates=ap;an.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Wc(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return Zc(t,e,n,!1,i)};an.version="18.3.1-next-f1338f8080-20240426";function g0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g0)}catch(t){console.error(t)}}g0(),gy.exports=an;var _0=gy.exports,Lg=_0;sf.createRoot=Lg.createRoot,sf.hydrateRoot=Lg.hydrateRoot;function Ix(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];$r(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const Rg={};function Yf(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];$r(e[0])&&Rg[e[0]]||($r(e[0])&&(Rg[e[0]]=new Date),Ix(...e))}const y0=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},bg=(t,e,n)=>{t.loadNamespaces(e,y0(t,n))},Ng=(t,e,n,i)=>{$r(n)&&(n=[n]),n.forEach(s=>{t.options.ns.indexOf(s)<0&&t.options.ns.push(s)}),t.loadLanguages(e,y0(t,i))},Cx=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=e.languages[0],s=e.options?e.options.fallbackLng:!1,o=e.languages[e.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const l=(h,d)=>{const m=e.services.backendConnector.state[`${h}|${d}`];return m===-1||m===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!l(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(i,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||l(i,t)&&(!s||l(o,t)))},Ax=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(Yf("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:n.lng,precheck:(s,o)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!o(s.isLanguageChangingTo,t))return!1}}):Cx(t,e,n)},$r=t=>typeof t=="string",kx=t=>typeof t=="object"&&t!==null,Lx=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Rx={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},bx=t=>Rx[t],Nx=t=>t.replace(Lx,bx);let Jf={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Nx};const Ox=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Jf={...Jf,...t}},Dx=()=>Jf;let v0;const Mx=t=>{v0=t},Vx=()=>v0,zx={type:"3rdParty",init(t){Ox(t.options.react),Mx(t)}},Fx=ae.createContext();class Bx{constructor(){Em(this,"getUsedNamespaces",()=>Object.keys(this.usedNamespaces));this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}}const jx=(t,e)=>{const n=ae.useRef();return ae.useEffect(()=>{n.current=t},[t,e]),n.current},w0=(t,e,n,i)=>t.getFixedT(e,n,i),Ux=(t,e,n,i)=>ae.useCallback(w0(t,e,n,i),[t,e,n,i]),ss=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=e,{i18n:i,defaultNS:s}=ae.useContext(Fx)||{},o=n||i||Vx();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new Bx),!o){Yf("You will need to pass in an i18next instance by using initReactI18next");const B=(K,S)=>$r(S)?S:kx(S)&&$r(S.defaultValue)?S.defaultValue:Array.isArray(K)?K[K.length-1]:K,Z=[B,{},!1];return Z.t=B,Z.i18n={},Z.ready=!1,Z}o.options.react&&o.options.react.wait!==void 0&&Yf("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...Dx(),...o.options.react,...e},{useSuspense:h,keyPrefix:d}=l;let m=s||o.options&&o.options.defaultNS;m=$r(m)?[m]:m||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(m);const y=(o.isInitialized||o.initializedStoreOnce)&&m.every(B=>Ax(B,o,l)),w=Ux(o,e.lng||null,l.nsMode==="fallback"?m:m[0],d),v=()=>w,O=()=>w0(o,e.lng||null,l.nsMode==="fallback"?m:m[0],d),[M,V]=ae.useState(v);let W=m.join();e.lng&&(W=`${e.lng}${W}`);const N=jx(W),P=ae.useRef(!0);ae.useEffect(()=>{const{bindI18n:B,bindI18nStore:Z}=l;P.current=!0,!y&&!h&&(e.lng?Ng(o,e.lng,m,()=>{P.current&&V(O)}):bg(o,m,()=>{P.current&&V(O)})),y&&N&&N!==W&&P.current&&V(O);const K=()=>{P.current&&V(O)};return B&&o&&o.on(B,K),Z&&o&&o.store.on(Z,K),()=>{P.current=!1,B&&o&&B.split(" ").forEach(S=>o.off(S,K)),Z&&o&&Z.split(" ").forEach(S=>o.store.off(S,K))}},[o,W]),ae.useEffect(()=>{P.current&&y&&V(v)},[o,d,y]);const A=[M,o,y];if(A.t=M,A.i18n=o,A.ready=y,y||!y&&!h)return A;throw new Promise(B=>{e.lng?Ng(o,e.lng,m,()=>B()):bg(o,m,()=>B())})};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $x={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),os=(t,e)=>{const n=ae.forwardRef(({color:i="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:h="",children:d,...m},y)=>ae.createElement("svg",{ref:y,...$x,width:s,height:s,stroke:i,strokeWidth:l?Number(o)*24/Number(s):o,className:["lucide",`lucide-${Hx(t)}`,h].join(" "),...m},[...e.map(([w,v])=>ae.createElement(w,v)),...Array.isArray(d)?d:[d]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=os("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=os("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=os("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=os("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=os("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=os("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=os("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Xx(){const{t,i18n:e}=ss(),[n,i]=ae.useState(!1),s=()=>{const h=e.language.startsWith("de")?"pl":"de";e.changeLanguage(h)},o=e.language.startsWith("de")?"DE":"PL",l=[{key:"home",href:"#home"},{key:"story",href:"#story"},{key:"updates",href:"#updates"},{key:"map",href:"#map"},{key:"faq",href:"#faq"},{key:"rsvp",href:"#rsvp"}];return $.jsxs("nav",{className:"fixed w-full bg-white/90 backdrop-blur-sm z-50 shadow-sm",children:[$.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:$.jsxs("div",{className:"flex justify-between h-16 items-center",children:[$.jsx("div",{className:"flex-shrink-0 flex items-center",children:$.jsx("span",{className:"text-2xl font-serif text-stone-800",children:"G & P"})}),$.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[l.map(h=>$.jsx("a",{href:h.href,className:"text-stone-600 hover:text-stone-900 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:t(`nav.${h.key}`)},h.key)),$.jsxs("button",{onClick:s,className:"flex items-center space-x-1 text-stone-600 hover:text-stone-900 px-3 py-2 rounded-md text-sm font-medium",children:[$.jsx(Og,{size:18}),$.jsx("span",{children:o})]})]}),$.jsx("div",{className:"md:hidden flex items-center",children:$.jsx("button",{onClick:()=>i(!n),className:"text-stone-600 hover:text-stone-900 p-2",children:n?$.jsx(Qx,{size:24}):$.jsx(Kx,{size:24})})})]})}),n&&$.jsx("div",{className:"md:hidden bg-white border-t border-stone-200",children:$.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[l.map(h=>$.jsx("a",{href:h.href,onClick:()=>i(!1),className:"block text-stone-600 hover:text-stone-900 hover:bg-stone-50 px-3 py-2 rounded-md text-base font-medium",children:t(`nav.${h.key}`)},h.key)),$.jsxs("button",{onClick:()=>{s(),i(!1)},className:"w-full text-left flex items-center space-x-2 text-stone-600 hover:text-stone-900 hover:bg-stone-50 px-3 py-2 rounded-md text-base font-medium",children:[$.jsx(Og,{size:18}),$.jsx("span",{children:o==="DE"?"Polski":"Deutsch"})]})]})})]})}function Yx(){const{t}=ss();return $.jsxs("div",{id:"home",className:"relative h-screen flex items-center justify-center bg-stone-100 overflow-hidden",children:[$.jsxs("div",{className:"absolute inset-0 z-0",children:[$.jsx("img",{src:"https://firebasestorage.googleapis.com/v0/b/yugioh-local-tools.appspot.com/o/Gemini_Generated_Image_kweeufkweeufkwee.png?alt=media&token=d380fe1c-5b27-4195-9781-3c9d637ad7bf",alt:"Wedding background",className:"w-full h-full object-cover opacity-50"}),$.jsx("div",{className:"absolute inset-0 bg-stone-900/10"})]}),$.jsxs("div",{className:"relative z-10 text-center px-4",children:[$.jsx("h1",{className:"text-5xl md:text-7xl font-serif text-stone-800 mb-6 drop-shadow-sm",children:t("hero.title")}),$.jsxs("div",{className:"text-xl md:text-2xl font-light text-stone-800 space-y-2 font-serif",children:[$.jsx("p",{children:t("hero.date")}),$.jsx("div",{className:"w-16 h-px bg-stone-800 mx-auto my-4"}),$.jsx("p",{children:t("hero.location")})]})]})]})}function Jx(){const{t}=ss();return $.jsx("section",{id:"story",className:"py-20 bg-white",children:$.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[$.jsx(Gx,{className:"w-8 h-8 text-stone-400 mx-auto mb-6"}),$.jsx("img",{src:"https://firebasestorage.googleapis.com/v0/b/yugioh-local-tools.appspot.com/o/Gemini_Generated_Image_kweeufkweeufkwee.png?alt=media&token=d380fe1c-5b27-4195-9781-3c9d637ad7bf",alt:"Wedding background",className:"w-full h-full object-cover opacity-50"}),$.jsx("h2",{className:"text-3xl font-serif text-stone-800 mb-8",children:t("story.title")}),$.jsx("p",{className:"text-lg text-stone-600 leading-relaxed max-w-2xl mx-auto",children:t("story.text")})]})})}function eS(){const{t}=ss();return $.jsx("section",{id:"updates",className:"py-20 bg-stone-50",children:$.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[$.jsx("div",{className:"text-center mb-12",children:$.jsx("h2",{className:"text-3xl font-serif text-stone-800 mb-4",children:t("updates.title")})}),$.jsxs("div",{className:"space-y-6",children:[(t("updates.list",{returnObjects:!0})||[]).map((e,n)=>$.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border-l-4 border-stone-800",children:[$.jsxs("div",{className:"flex justify-between items-start mb-2",children:[$.jsx("h3",{className:"text-xl font-medium text-stone-800",children:e.title}),$.jsx("span",{className:"text-sm text-stone-500 bg-stone-100 px-2 py-1 rounded",children:e.date})]}),$.jsx("p",{className:"text-stone-600",children:e.text})]},n)),(!t("updates.list",{returnObjects:!0})||t("updates.list",{returnObjects:!0}).length===0)&&$.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center",children:[$.jsx(Wx,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),$.jsx("p",{className:"text-stone-600",children:t("updates.noUpdates")})]})]})]})})}function E0(t,e){const n=ae.useRef(e);ae.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const tS=1;function nS(t){return Object.freeze({__version:tS,map:t})}function iS(t,e){return Object.freeze({...t,...e})}const T0=ae.createContext(null),x0=T0.Provider;function S0(){const t=ae.useContext(T0);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function rS(t){function e(n,i){const{instance:s,context:o}=t(n).current;return ae.useImperativeHandle(i,()=>s),n.children==null?null:ju.createElement(x0,{value:o},n.children)}return ae.forwardRef(e)}function sS(t){function e(n,i){const[s,o]=ae.useState(!1),{instance:l}=t(n,o).current;ae.useImperativeHandle(i,()=>l),ae.useEffect(function(){s&&l.update()},[l,s,n.children]);const h=l._contentNode;return h?_0.createPortal(n.children,h):null}return ae.forwardRef(e)}function oS(t){function e(n,i){const{instance:s}=t(n).current;return ae.useImperativeHandle(i,()=>s),null}return ae.forwardRef(e)}function P0(t,e){const n=ae.useRef();ae.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function mp(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function aS(t,e){return function(i,s){const o=S0(),l=t(mp(i,o),o);return E0(o.map,i.attribution),P0(l.current,i.eventHandlers),e(l.current,o,i,s),l}}var ed={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})(eE,function(n){var i="1.9.4";function s(r){var a,c,f,g;for(c=1,f=arguments.length;c<f;c++){g=arguments[c];for(a in g)r[a]=g[a]}return r}var o=Object.create||function(){function r(){}return function(a){return r.prototype=a,new r}}();function l(r,a){var c=Array.prototype.slice;if(r.bind)return r.bind.apply(r,c.call(arguments,1));var f=c.call(arguments,2);return function(){return r.apply(a,f.length?f.concat(c.call(arguments)):arguments)}}var h=0;function d(r){return"_leaflet_id"in r||(r._leaflet_id=++h),r._leaflet_id}function m(r,a,c){var f,g,E,k;return k=function(){f=!1,g&&(E.apply(c,g),g=!1)},E=function(){f?g=arguments:(r.apply(c,arguments),setTimeout(k,a),f=!0)},E}function y(r,a,c){var f=a[1],g=a[0],E=f-g;return r===f&&c?r:((r-g)%E+E)%E+g}function w(){return!1}function v(r,a){if(a===!1)return r;var c=Math.pow(10,a===void 0?6:a);return Math.round(r*c)/c}function O(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function M(r){return O(r).split(/\s+/)}function V(r,a){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?o(r.options):{});for(var c in a)r.options[c]=a[c];return r.options}function W(r,a,c){var f=[];for(var g in r)f.push(encodeURIComponent(c?g.toUpperCase():g)+"="+encodeURIComponent(r[g]));return(!a||a.indexOf("?")===-1?"?":"&")+f.join("&")}var N=/\{ *([\w_ -]+) *\}/g;function P(r,a){return r.replace(N,function(c,f){var g=a[f];if(g===void 0)throw new Error("No value provided for variable "+c);return typeof g=="function"&&(g=g(a)),g})}var A=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function B(r,a){for(var c=0;c<r.length;c++)if(r[c]===a)return c;return-1}var Z="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function K(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var S=0;function x(r){var a=+new Date,c=Math.max(0,16-(a-S));return S=a+c,window.setTimeout(r,c)}var I=window.requestAnimationFrame||K("RequestAnimationFrame")||x,R=window.cancelAnimationFrame||K("CancelAnimationFrame")||K("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function b(r,a,c){if(c&&I===x)r.call(a);else return I.call(window,l(r,a))}function D(r){r&&R.call(window,r)}var C={__proto__:null,extend:s,create:o,bind:l,get lastId(){return h},stamp:d,throttle:m,wrapNum:y,falseFn:w,formatNum:v,trim:O,splitWords:M,setOptions:V,getParamString:W,template:P,isArray:A,indexOf:B,emptyImageUrl:Z,requestFn:I,cancelFn:R,requestAnimFrame:b,cancelAnimFrame:D};function Se(){}Se.extend=function(r){var a=function(){V(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=a.__super__=this.prototype,f=o(c);f.constructor=a,a.prototype=f;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(a[g]=this[g]);return r.statics&&s(a,r.statics),r.includes&&(mt(r.includes),s.apply(null,[f].concat(r.includes))),s(f,r),delete f.statics,delete f.includes,f.options&&(f.options=c.options?o(c.options):{},s(f.options,r.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var E=0,k=f._initHooks.length;E<k;E++)f._initHooks[E].call(this)}},a},Se.include=function(r){var a=this.prototype.options;return s(this.prototype,r),r.options&&(this.prototype.options=a,this.mergeOptions(r.options)),this},Se.mergeOptions=function(r){return s(this.prototype.options,r),this},Se.addInitHook=function(r){var a=Array.prototype.slice.call(arguments,1),c=typeof r=="function"?r:function(){this[r].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function mt(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=A(r)?r:[r];for(var a=0;a<r.length;a++)r[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Fe={on:function(r,a,c){if(typeof r=="object")for(var f in r)this._on(f,r[f],a);else{r=M(r);for(var g=0,E=r.length;g<E;g++)this._on(r[g],a,c)}return this},off:function(r,a,c){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var f in r)this._off(f,r[f],a);else{r=M(r);for(var g=arguments.length===1,E=0,k=r.length;E<k;E++)g?this._off(r[E]):this._off(r[E],a,c)}return this},_on:function(r,a,c,f){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(r,a,c)===!1){c===this&&(c=void 0);var g={fn:a,ctx:c};f&&(g.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(g)}},_off:function(r,a,c){var f,g,E;if(this._events&&(f=this._events[r],!!f)){if(arguments.length===1){if(this._firingCount)for(g=0,E=f.length;g<E;g++)f[g].fn=w;delete this._events[r];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var k=this._listens(r,a,c);if(k!==!1){var F=f[k];this._firingCount&&(F.fn=w,this._events[r]=f=f.slice()),f.splice(k,1)}}},fire:function(r,a,c){if(!this.listens(r,c))return this;var f=s({},a,{type:r,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var g=this._events[r];if(g){this._firingCount=this._firingCount+1||1;for(var E=0,k=g.length;E<k;E++){var F=g[E],U=F.fn;F.once&&this.off(r,U,F.ctx),U.call(F.ctx||this,f)}this._firingCount--}}return c&&this._propagateEvent(f),this},listens:function(r,a,c,f){typeof r!="string"&&console.warn('"string" type argument expected');var g=a;typeof a!="function"&&(f=!!a,g=void 0,c=void 0);var E=this._events&&this._events[r];if(E&&E.length&&this._listens(r,g,c)!==!1)return!0;if(f){for(var k in this._eventParents)if(this._eventParents[k].listens(r,a,c,f))return!0}return!1},_listens:function(r,a,c){if(!this._events)return!1;var f=this._events[r]||[];if(!a)return!!f.length;c===this&&(c=void 0);for(var g=0,E=f.length;g<E;g++)if(f[g].fn===a&&f[g].ctx===c)return g;return!1},once:function(r,a,c){if(typeof r=="object")for(var f in r)this._on(f,r[f],a,!0);else{r=M(r);for(var g=0,E=r.length;g<E;g++)this._on(r[g],a,c,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[d(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[d(r)],this},_propagateEvent:function(r){for(var a in this._eventParents)this._eventParents[a].fire(r.type,s({layer:r.target,propagatedFrom:r.target},r),!0)}};Fe.addEventListener=Fe.on,Fe.removeEventListener=Fe.clearAllEventListeners=Fe.off,Fe.addOneTimeEventListener=Fe.once,Fe.fireEvent=Fe.fire,Fe.hasEventListeners=Fe.listens;var jt=Se.extend(Fe);function H(r,a,c){this.x=c?Math.round(r):r,this.y=c?Math.round(a):a}var se=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};H.prototype={clone:function(){return new H(this.x,this.y)},add:function(r){return this.clone()._add(Y(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(Y(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new H(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new H(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=se(this.x),this.y=se(this.y),this},distanceTo:function(r){r=Y(r);var a=r.x-this.x,c=r.y-this.y;return Math.sqrt(a*a+c*c)},equals:function(r){return r=Y(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=Y(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function Y(r,a,c){return r instanceof H?r:A(r)?new H(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new H(r.x,r.y):new H(r,a,c)}function le(r,a){if(r)for(var c=a?[r,a]:r,f=0,g=c.length;f<g;f++)this.extend(c[f])}le.prototype={extend:function(r){var a,c;if(!r)return this;if(r instanceof H||typeof r[0]=="number"||"x"in r)a=c=Y(r);else if(r=ve(r),a=r.min,c=r.max,!a||!c)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=c.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(r){return Y((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return Y(this.min.x,this.max.y)},getTopRight:function(){return Y(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var a,c;return typeof r[0]=="number"||r instanceof H?r=Y(r):r=ve(r),r instanceof le?(a=r.min,c=r.max):a=c=r,a.x>=this.min.x&&c.x<=this.max.x&&a.y>=this.min.y&&c.y<=this.max.y},intersects:function(r){r=ve(r);var a=this.min,c=this.max,f=r.min,g=r.max,E=g.x>=a.x&&f.x<=c.x,k=g.y>=a.y&&f.y<=c.y;return E&&k},overlaps:function(r){r=ve(r);var a=this.min,c=this.max,f=r.min,g=r.max,E=g.x>a.x&&f.x<c.x,k=g.y>a.y&&f.y<c.y;return E&&k},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var a=this.min,c=this.max,f=Math.abs(a.x-c.x)*r,g=Math.abs(a.y-c.y)*r;return ve(Y(a.x-f,a.y-g),Y(c.x+f,c.y+g))},equals:function(r){return r?(r=ve(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function ve(r,a){return!r||r instanceof le?r:new le(r,a)}function qe(r,a){if(r)for(var c=a?[r,a]:r,f=0,g=c.length;f<g;f++)this.extend(c[f])}qe.prototype={extend:function(r){var a=this._southWest,c=this._northEast,f,g;if(r instanceof we)f=r,g=r;else if(r instanceof qe){if(f=r._southWest,g=r._northEast,!f||!g)return this}else return r?this.extend(ce(r)||Pe(r)):this;return!a&&!c?(this._southWest=new we(f.lat,f.lng),this._northEast=new we(g.lat,g.lng)):(a.lat=Math.min(f.lat,a.lat),a.lng=Math.min(f.lng,a.lng),c.lat=Math.max(g.lat,c.lat),c.lng=Math.max(g.lng,c.lng)),this},pad:function(r){var a=this._southWest,c=this._northEast,f=Math.abs(a.lat-c.lat)*r,g=Math.abs(a.lng-c.lng)*r;return new qe(new we(a.lat-f,a.lng-g),new we(c.lat+f,c.lng+g))},getCenter:function(){return new we((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new we(this.getNorth(),this.getWest())},getSouthEast:function(){return new we(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof we||"lat"in r?r=ce(r):r=Pe(r);var a=this._southWest,c=this._northEast,f,g;return r instanceof qe?(f=r.getSouthWest(),g=r.getNorthEast()):f=g=r,f.lat>=a.lat&&g.lat<=c.lat&&f.lng>=a.lng&&g.lng<=c.lng},intersects:function(r){r=Pe(r);var a=this._southWest,c=this._northEast,f=r.getSouthWest(),g=r.getNorthEast(),E=g.lat>=a.lat&&f.lat<=c.lat,k=g.lng>=a.lng&&f.lng<=c.lng;return E&&k},overlaps:function(r){r=Pe(r);var a=this._southWest,c=this._northEast,f=r.getSouthWest(),g=r.getNorthEast(),E=g.lat>a.lat&&f.lat<c.lat,k=g.lng>a.lng&&f.lng<c.lng;return E&&k},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,a){return r?(r=Pe(r),this._southWest.equals(r.getSouthWest(),a)&&this._northEast.equals(r.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Pe(r,a){return r instanceof qe?r:new qe(r,a)}function we(r,a,c){if(isNaN(r)||isNaN(a))throw new Error("Invalid LatLng object: ("+r+", "+a+")");this.lat=+r,this.lng=+a,c!==void 0&&(this.alt=+c)}we.prototype={equals:function(r,a){if(!r)return!1;r=ce(r);var c=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return c<=(a===void 0?1e-9:a)},toString:function(r){return"LatLng("+v(this.lat,r)+", "+v(this.lng,r)+")"},distanceTo:function(r){return un.distance(this,ce(r))},wrap:function(){return un.wrapLatLng(this)},toBounds:function(r){var a=180*r/40075017,c=a/Math.cos(Math.PI/180*this.lat);return Pe([this.lat-a,this.lng-c],[this.lat+a,this.lng+c])},clone:function(){return new we(this.lat,this.lng,this.alt)}};function ce(r,a,c){return r instanceof we?r:A(r)&&typeof r[0]!="object"?r.length===3?new we(r[0],r[1],r[2]):r.length===2?new we(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new we(r.lat,"lng"in r?r.lng:r.lon,r.alt):a===void 0?null:new we(r,a,c)}var ot={latLngToPoint:function(r,a){var c=this.projection.project(r),f=this.scale(a);return this.transformation._transform(c,f)},pointToLatLng:function(r,a){var c=this.scale(a),f=this.transformation.untransform(r,c);return this.projection.unproject(f)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var a=this.projection.bounds,c=this.scale(r),f=this.transformation.transform(a.min,c),g=this.transformation.transform(a.max,c);return new le(f,g)},infinite:!1,wrapLatLng:function(r){var a=this.wrapLng?y(r.lng,this.wrapLng,!0):r.lng,c=this.wrapLat?y(r.lat,this.wrapLat,!0):r.lat,f=r.alt;return new we(c,a,f)},wrapLatLngBounds:function(r){var a=r.getCenter(),c=this.wrapLatLng(a),f=a.lat-c.lat,g=a.lng-c.lng;if(f===0&&g===0)return r;var E=r.getSouthWest(),k=r.getNorthEast(),F=new we(E.lat-f,E.lng-g),U=new we(k.lat-f,k.lng-g);return new qe(F,U)}},un=s({},ot,{wrapLng:[-180,180],R:6371e3,distance:function(r,a){var c=Math.PI/180,f=r.lat*c,g=a.lat*c,E=Math.sin((a.lat-r.lat)*c/2),k=Math.sin((a.lng-r.lng)*c/2),F=E*E+Math.cos(f)*Math.cos(g)*k*k,U=2*Math.atan2(Math.sqrt(F),Math.sqrt(1-F));return this.R*U}}),Co=6378137,Ao={R:Co,MAX_LATITUDE:85.0511287798,project:function(r){var a=Math.PI/180,c=this.MAX_LATITUDE,f=Math.max(Math.min(c,r.lat),-c),g=Math.sin(f*a);return new H(this.R*r.lng*a,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(r){var a=180/Math.PI;return new we((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*a,r.x*a/this.R)},bounds:function(){var r=Co*Math.PI;return new le([-r,-r],[r,r])}()};function ko(r,a,c,f){if(A(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=a,this._c=c,this._d=f}ko.prototype={transform:function(r,a){return this._transform(r.clone(),a)},_transform:function(r,a){return a=a||1,r.x=a*(this._a*r.x+this._b),r.y=a*(this._c*r.y+this._d),r},untransform:function(r,a){return a=a||1,new H((r.x/a-this._b)/this._a,(r.y/a-this._d)/this._c)}};function Li(r,a,c,f){return new ko(r,a,c,f)}var _r=s({},un,{code:"EPSG:3857",projection:Ao,transformation:function(){var r=.5/(Math.PI*Ao.R);return Li(r,.5,-r,.5)}()}),wl=s({},_r,{code:"EPSG:900913"});function El(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function us(r,a){var c="",f,g,E,k,F,U;for(f=0,E=r.length;f<E;f++){for(F=r[f],g=0,k=F.length;g<k;g++)U=F[g],c+=(g?"L":"M")+U.x+" "+U.y;c+=a?ie.svg?"z":"x":""}return c||"M0 0"}var yr=document.documentElement.style,vr="ActiveXObject"in window,at=vr&&!document.addEventListener,lt="msLaunchUri"in navigator&&!("documentMode"in document),Ri=Ut("webkit"),Tl=Ut("android"),Lo=Ut("android 2")||Ut("android 3"),oh=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),wr=Tl&&Ut("Google")&&oh<537&&!("AudioNode"in window),cs=!!window.opera,Ro=!lt&&Ut("chrome"),hs=Ut("gecko")&&!Ri&&!cs&&!vr,ah=!Ro&&Ut("safari"),xl=Ut("phantom"),bo="OTransition"in yr,Sl=navigator.platform.indexOf("Win")===0,bi=vr&&"transition"in yr,Er="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Lo,fs="MozPerspective"in yr,ii=!window.L_DISABLE_3D&&(bi||Er||fs)&&!bo&&!xl,Ni=typeof orientation<"u"||Ut("mobile"),ds=Ni&&Ri,Pl=Ni&&Er,Oi=!window.PointerEvent&&window.MSPointerEvent,No=!!(window.PointerEvent||Oi),ut="ontouchstart"in window||!!window.TouchEvent,Il=!window.L_NO_TOUCH&&(ut||No),Tr=Ni&&cs,xr=Ni&&hs,lh=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,uh=function(){var r=!1;try{var a=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",w,a),window.removeEventListener("testPassiveEventSupport",w,a)}catch{}return r}(),Di=function(){return!!document.createElement("canvas").getContext}(),Oo=!!(document.createElementNS&&El("svg").createSVGRect),ch=!!Oo&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ps=!Oo&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var a=r.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),Cl=navigator.platform.indexOf("Mac")===0,Al=navigator.platform.indexOf("Linux")===0;function Ut(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var ie={ie:vr,ielt9:at,edge:lt,webkit:Ri,android:Tl,android23:Lo,androidStock:wr,opera:cs,chrome:Ro,gecko:hs,safari:ah,phantom:xl,opera12:bo,win:Sl,ie3d:bi,webkit3d:Er,gecko3d:fs,any3d:ii,mobile:Ni,mobileWebkit:ds,mobileWebkit3d:Pl,msPointer:Oi,pointer:No,touch:Il,touchNative:ut,mobileOpera:Tr,mobileGecko:xr,retina:lh,passiveEvents:uh,canvas:Di,svg:Oo,vml:ps,inlineSvg:ch,mac:Cl,linux:Al},kl=ie.msPointer?"MSPointerDown":"pointerdown",xn=ie.msPointer?"MSPointerMove":"pointermove",Do=ie.msPointer?"MSPointerUp":"pointerup",Mo=ie.msPointer?"MSPointerCancel":"pointercancel",Sr={touchstart:kl,touchmove:xn,touchend:Do,touchcancel:Mo},ms={touchstart:Vo,touchmove:cn,touchend:cn,touchcancel:cn},ri={},Ll=!1;function Rl(r,a,c){return a==="touchstart"&&Pr(),ms[a]?(c=ms[a].bind(this,c),r.addEventListener(Sr[a],c,!1),c):(console.warn("wrong event specified:",a),w)}function hh(r,a,c){if(!Sr[a]){console.warn("wrong event specified:",a);return}r.removeEventListener(Sr[a],c,!1)}function gs(r){ri[r.pointerId]=r}function bl(r){ri[r.pointerId]&&(ri[r.pointerId]=r)}function _s(r){delete ri[r.pointerId]}function Pr(){Ll||(document.addEventListener(kl,gs,!0),document.addEventListener(xn,bl,!0),document.addEventListener(Do,_s,!0),document.addEventListener(Mo,_s,!0),Ll=!0)}function cn(r,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var c in ri)a.touches.push(ri[c]);a.changedTouches=[a],r(a)}}function Vo(r,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&Je(a),cn(r,a)}function fh(r){var a={},c,f;for(f in r)c=r[f],a[f]=c&&c.bind?c.bind(r):c;return r=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var Nl=200;function Ol(r,a){r.addEventListener("dblclick",a);var c=0,f;function g(E){if(E.detail!==1){f=E.detail;return}if(!(E.pointerType==="mouse"||E.sourceCapabilities&&!E.sourceCapabilities.firesTouchEvents)){var k=Uo(E);if(!(k.some(function(U){return U instanceof HTMLLabelElement&&U.attributes.for})&&!k.some(function(U){return U instanceof HTMLInputElement||U instanceof HTMLSelectElement}))){var F=Date.now();F-c<=Nl?(f++,f===2&&a(fh(E))):f=1,c=F}}}return r.addEventListener("click",g),{dblclick:a,simDblclick:g}}function Dl(r,a){r.removeEventListener("dblclick",a.dblclick),r.removeEventListener("click",a.simDblclick)}var Ir=ys(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),si=ys(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),zo=si==="webkitTransition"||si==="OTransition"?si+"End":"transitionend";function Fo(r){return typeof r=="string"?document.getElementById(r):r}function Mi(r,a){var c=r.style[a]||r.currentStyle&&r.currentStyle[a];if((!c||c==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(r,null);c=f?f[a]:null}return c==="auto"?null:c}function Ee(r,a,c){var f=document.createElement(r);return f.className=a||"",c&&c.appendChild(f),f}function Ce(r){var a=r.parentNode;a&&a.removeChild(r)}function Nt(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function hn(r){var a=r.parentNode;a&&a.lastChild!==r&&a.appendChild(r)}function fn(r){var a=r.parentNode;a&&a.firstChild!==r&&a.insertBefore(r,a.firstChild)}function Cr(r,a){if(r.classList!==void 0)return r.classList.contains(a);var c=Fn(r);return c.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(c)}function te(r,a){if(r.classList!==void 0)for(var c=M(a),f=0,g=c.length;f<g;f++)r.classList.add(c[f]);else if(!Cr(r,a)){var E=Fn(r);oi(r,(E?E+" ":"")+a)}}function Oe(r,a){r.classList!==void 0?r.classList.remove(a):oi(r,O((" "+Fn(r)+" ").replace(" "+a+" "," ")))}function oi(r,a){r.className.baseVal===void 0?r.className=a:r.className.baseVal=a}function Fn(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function $t(r,a){"opacity"in r.style?r.style.opacity=a:"filter"in r.style&&Ml(r,a)}function Ml(r,a){var c=!1,f="DXImageTransform.Microsoft.Alpha";try{c=r.filters.item(f)}catch{if(a===1)return}a=Math.round(a*100),c?(c.Enabled=a!==100,c.Opacity=a):r.style.filter+=" progid:"+f+"(opacity="+a+")"}function ys(r){for(var a=document.documentElement.style,c=0;c<r.length;c++)if(r[c]in a)return r[c];return!1}function ai(r,a,c){var f=a||new H(0,0);r.style[Ir]=(ie.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(c?" scale("+c+")":"")}function Ge(r,a){r._leaflet_pos=a,ie.any3d?ai(r,a):(r.style.left=a.x+"px",r.style.top=a.y+"px")}function li(r){return r._leaflet_pos||new H(0,0)}var Sn,Jt,vs;if("onselectstart"in document)Sn=function(){he(window,"selectstart",Je)},Jt=function(){be(window,"selectstart",Je)};else{var Vi=ys(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Sn=function(){if(Vi){var r=document.documentElement.style;vs=r[Vi],r[Vi]="none"}},Jt=function(){Vi&&(document.documentElement.style[Vi]=vs,vs=void 0)}}function ws(){he(window,"dragstart",Je)}function Es(){be(window,"dragstart",Je)}var Ar,Bn;function Bo(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Ts(),Ar=r,Bn=r.style.outlineStyle,r.style.outlineStyle="none",he(window,"keydown",Ts))}function Ts(){Ar&&(Ar.style.outlineStyle=Bn,Ar=void 0,Bn=void 0,be(window,"keydown",Ts))}function Vl(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function dn(r){var a=r.getBoundingClientRect();return{x:a.width/r.offsetWidth||1,y:a.height/r.offsetHeight||1,boundingClientRect:a}}var dh={__proto__:null,TRANSFORM:Ir,TRANSITION:si,TRANSITION_END:zo,get:Fo,getStyle:Mi,create:Ee,remove:Ce,empty:Nt,toFront:hn,toBack:fn,hasClass:Cr,addClass:te,removeClass:Oe,setClass:oi,getClass:Fn,setOpacity:$t,testProp:ys,setTransform:ai,setPosition:Ge,getPosition:li,get disableTextSelection(){return Sn},get enableTextSelection(){return Jt},disableImageDrag:ws,enableImageDrag:Es,preventOutline:Bo,restoreOutline:Ts,getSizedParentNode:Vl,getScale:dn};function he(r,a,c,f){if(a&&typeof a=="object")for(var g in a)xs(r,g,a[g],c);else{a=M(a);for(var E=0,k=a.length;E<k;E++)xs(r,a[E],c,f)}return this}var Ot="_leaflet_events";function be(r,a,c,f){if(arguments.length===1)zi(r),delete r[Ot];else if(a&&typeof a=="object")for(var g in a)kr(r,g,a[g],c);else if(a=M(a),arguments.length===2)zi(r,function(F){return B(a,F)!==-1});else for(var E=0,k=a.length;E<k;E++)kr(r,a[E],c,f);return this}function zi(r,a){for(var c in r[Ot]){var f=c.split(/\d/)[0];(!a||a(f))&&kr(r,f,null,null,c)}}var ui={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function xs(r,a,c,f){var g=a+d(c)+(f?"_"+d(f):"");if(r[Ot]&&r[Ot][g])return this;var E=function(F){return c.call(f||r,F||window.event)},k=E;!ie.touchNative&&ie.pointer&&a.indexOf("touch")===0?E=Rl(r,a,E):ie.touch&&a==="dblclick"?E=Ol(r,E):"addEventListener"in r?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?r.addEventListener(ui[a]||a,E,ie.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(E=function(F){F=F||window.event,Ho(r,F)&&k(F)},r.addEventListener(ui[a],E,!1)):r.addEventListener(a,k,!1):r.attachEvent("on"+a,E),r[Ot]=r[Ot]||{},r[Ot][g]=E}function kr(r,a,c,f,g){g=g||a+d(c)+(f?"_"+d(f):"");var E=r[Ot]&&r[Ot][g];if(!E)return this;!ie.touchNative&&ie.pointer&&a.indexOf("touch")===0?hh(r,a,E):ie.touch&&a==="dblclick"?Dl(r,E):"removeEventListener"in r?r.removeEventListener(ui[a]||a,E,!1):r.detachEvent("on"+a,E),r[Ot][g]=null}function ke(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function jo(r){return xs(r,"wheel",ke),this}function Lr(r){return he(r,"mousedown touchstart dblclick contextmenu",ke),r._leaflet_disable_click=!0,this}function Je(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function jn(r){return Je(r),ke(r),this}function Uo(r){if(r.composedPath)return r.composedPath();for(var a=[],c=r.target;c;)a.push(c),c=c.parentNode;return a}function Rr(r,a){if(!a)return new H(r.clientX,r.clientY);var c=dn(a),f=c.boundingClientRect;return new H((r.clientX-f.left)/c.x-a.clientLeft,(r.clientY-f.top)/c.y-a.clientTop)}var Un=ie.linux&&ie.chrome?window.devicePixelRatio:ie.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function $o(r){return ie.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Un:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Ho(r,a){var c=a.relatedTarget;if(!c)return!0;try{for(;c&&c!==r;)c=c.parentNode}catch{return!1}return c!==r}var br={__proto__:null,on:he,off:be,stopPropagation:ke,disableScrollPropagation:jo,disableClickPropagation:Lr,preventDefault:Je,stop:jn,getPropagationPath:Uo,getMousePosition:Rr,getWheelDelta:$o,isExternalTarget:Ho,addListener:he,removeListener:be},Wo=jt.extend({run:function(r,a,c,f){this.stop(),this._el=r,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=li(r),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=b(this._animate,this),this._step()},_step:function(r){var a=+new Date-this._startTime,c=this._duration*1e3;a<c?this._runFrame(this._easeOut(a/c),r):(this._runFrame(1),this._complete())},_runFrame:function(r,a){var c=this._startPos.add(this._offset.multiplyBy(r));a&&c._round(),Ge(this._el,c),this.fire("step")},_complete:function(){D(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),ge=jt.extend({options:{crs:_r,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,a){a=V(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(ce(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=si&&ie.any3d&&!ie.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),he(this._proxy,zo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,a,c){if(a=a===void 0?this._zoom:this._limitZoom(a),r=this._limitCenter(ce(r),a,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=s({animate:c.animate},c.zoom),c.pan=s({animate:c.animate,duration:c.duration},c.pan));var f=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,a,c.zoom):this._tryAnimatedPan(r,c.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(r,a,c.pan&&c.pan.noMoveStart),this},setZoom:function(r,a){return this._loaded?this.setView(this.getCenter(),r,{zoom:a}):(this._zoom=r,this)},zoomIn:function(r,a){return r=r||(ie.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,a)},zoomOut:function(r,a){return r=r||(ie.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,a)},setZoomAround:function(r,a,c){var f=this.getZoomScale(a),g=this.getSize().divideBy(2),E=r instanceof H?r:this.latLngToContainerPoint(r),k=E.subtract(g).multiplyBy(1-1/f),F=this.containerPointToLatLng(g.add(k));return this.setView(F,a,{zoom:c})},_getBoundsCenterZoom:function(r,a){a=a||{},r=r.getBounds?r.getBounds():Pe(r);var c=Y(a.paddingTopLeft||a.padding||[0,0]),f=Y(a.paddingBottomRight||a.padding||[0,0]),g=this.getBoundsZoom(r,!1,c.add(f));if(g=typeof a.maxZoom=="number"?Math.min(a.maxZoom,g):g,g===1/0)return{center:r.getCenter(),zoom:g};var E=f.subtract(c).divideBy(2),k=this.project(r.getSouthWest(),g),F=this.project(r.getNorthEast(),g),U=this.unproject(k.add(F).divideBy(2).add(E),g);return{center:U,zoom:g}},fitBounds:function(r,a){if(r=Pe(r),!r.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(r,a);return this.setView(c.center,c.zoom,a)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,a){return this.setView(r,this._zoom,{pan:a})},panBy:function(r,a){if(r=Y(r).round(),a=a||{},!r.x&&!r.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Wo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){te(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,c,a.duration||.25,a.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,a,c){if(c=c||{},c.animate===!1||!ie.any3d)return this.setView(r,a,c);this._stop();var f=this.project(this.getCenter()),g=this.project(r),E=this.getSize(),k=this._zoom;r=ce(r),a=a===void 0?k:a;var F=Math.max(E.x,E.y),U=F*this.getZoomScale(k,a),G=g.distanceTo(f)||1,ee=1.42,ue=ee*ee;function _e(et){var Jl=et?-1:1,G1=et?U:F,K1=U*U-F*F+Jl*ue*ue*G*G,Q1=2*G1*ue*G,yh=K1/Q1,wm=Math.sqrt(yh*yh+1)-yh,X1=wm<1e-9?-18:Math.log(wm);return X1}function Dt(et){return(Math.exp(et)-Math.exp(-et))/2}function ct(et){return(Math.exp(et)+Math.exp(-et))/2}function gn(et){return Dt(et)/ct(et)}var Wt=_e(0);function Ms(et){return F*(ct(Wt)/ct(Wt+ee*et))}function H1(et){return F*(ct(Wt)*gn(Wt+ee*et)-Dt(Wt))/ue}function W1(et){return 1-Math.pow(1-et,1.5)}var Z1=Date.now(),ym=(_e(1)-Wt)/ee,q1=c.duration?1e3*c.duration:1e3*ym*.8;function vm(){var et=(Date.now()-Z1)/q1,Jl=W1(et)*ym;et<=1?(this._flyToFrame=b(vm,this),this._move(this.unproject(f.add(g.subtract(f).multiplyBy(H1(Jl)/G)),k),this.getScaleZoom(F/Ms(Jl),k),{flyTo:!0})):this._move(r,a)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),vm.call(this),this},flyToBounds:function(r,a){var c=this._getBoundsCenterZoom(r,a);return this.flyTo(c.center,c.zoom,a)},setMaxBounds:function(r){return r=Pe(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var a=this.options.minZoom;return this.options.minZoom=r,this._loaded&&a!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var a=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&a!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,a){this._enforcingBounds=!0;var c=this.getCenter(),f=this._limitCenter(c,this._zoom,Pe(r));return c.equals(f)||this.panTo(f,a),this._enforcingBounds=!1,this},panInside:function(r,a){a=a||{};var c=Y(a.paddingTopLeft||a.padding||[0,0]),f=Y(a.paddingBottomRight||a.padding||[0,0]),g=this.project(this.getCenter()),E=this.project(r),k=this.getPixelBounds(),F=ve([k.min.add(c),k.max.subtract(f)]),U=F.getSize();if(!F.contains(E)){this._enforcingBounds=!0;var G=E.subtract(F.getCenter()),ee=F.extend(E).getSize().subtract(U);g.x+=G.x<0?-ee.x:ee.x,g.y+=G.y<0?-ee.y:ee.y,this.panTo(this.unproject(g),a),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=s({animate:!1,pan:!0},r===!0?{animate:!0}:r);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),f=a.divideBy(2).round(),g=c.divideBy(2).round(),E=f.subtract(g);return!E.x&&!E.y?this:(r.animate&&r.pan?this.panBy(E):(r.pan&&this._rawPanBy(E),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=s({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=l(this._handleGeolocationResponse,this),c=l(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,c,r):navigator.geolocation.getCurrentPosition(a,c,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var a=r.code,c=r.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var a=r.coords.latitude,c=r.coords.longitude,f=new we(a,c),g=f.toBounds(r.coords.accuracy*2),E=this._locateOptions;if(E.setView){var k=this.getBoundsZoom(g);this.setView(f,E.maxZoom?Math.min(k,E.maxZoom):k)}var F={latlng:f,bounds:g,timestamp:r.timestamp};for(var U in r.coords)typeof r.coords[U]=="number"&&(F[U]=r.coords[U]);this.fire("locationfound",F)}},addHandler:function(r,a){if(!a)return this;var c=this[r]=new a(this);return this._handlers.push(c),this.options[r]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ce(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(D(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Ce(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,a){var c="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),f=Ee("div",c,a||this._mapPane);return r&&(this._panes[r]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),a=this.unproject(r.getBottomLeft()),c=this.unproject(r.getTopRight());return new qe(a,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,a,c){r=Pe(r),c=Y(c||[0,0]);var f=this.getZoom()||0,g=this.getMinZoom(),E=this.getMaxZoom(),k=r.getNorthWest(),F=r.getSouthEast(),U=this.getSize().subtract(c),G=ve(this.project(F,f),this.project(k,f)).getSize(),ee=ie.any3d?this.options.zoomSnap:1,ue=U.x/G.x,_e=U.y/G.y,Dt=a?Math.max(ue,_e):Math.min(ue,_e);return f=this.getScaleZoom(Dt,f),ee&&(f=Math.round(f/(ee/100))*(ee/100),f=a?Math.ceil(f/ee)*ee:Math.floor(f/ee)*ee),Math.max(g,Math.min(E,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new H(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,a){var c=this._getTopLeftPoint(r,a);return new le(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,a){var c=this.options.crs;return a=a===void 0?this._zoom:a,c.scale(r)/c.scale(a)},getScaleZoom:function(r,a){var c=this.options.crs;a=a===void 0?this._zoom:a;var f=c.zoom(r*c.scale(a));return isNaN(f)?1/0:f},project:function(r,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(ce(r),a)},unproject:function(r,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(Y(r),a)},layerPointToLatLng:function(r){var a=Y(r).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(r){var a=this.project(ce(r))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(ce(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(Pe(r))},distance:function(r,a){return this.options.crs.distance(ce(r),ce(a))},containerPointToLayerPoint:function(r){return Y(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return Y(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var a=this.containerPointToLayerPoint(Y(r));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ce(r)))},mouseEventToContainerPoint:function(r){return Rr(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var a=this._container=Fo(r);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");he(a,"scroll",this._onScroll,this),this._containerId=d(a)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&ie.any3d,te(r,"leaflet-container"+(ie.touch?" leaflet-touch":"")+(ie.retina?" leaflet-retina":"")+(ie.ielt9?" leaflet-oldie":"")+(ie.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=Mi(r,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ge(this._mapPane,new H(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(te(r.markerPane,"leaflet-zoom-hide"),te(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,a,c){Ge(this._mapPane,new H(0,0));var f=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var g=this._zoom!==a;this._moveStart(g,c)._move(r,a)._moveEnd(g),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(r,a){return r&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(r,a,c,f){a===void 0&&(a=this._zoom);var g=this._zoom!==a;return this._zoom=a,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),f?c&&c.pinch&&this.fire("zoom",c):((g||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return D(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Ge(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[d(this._container)]=this;var a=r?be:he;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),ie.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){D(this._resizeRequest),this._resizeRequest=b(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,a){for(var c=[],f,g=a==="mouseout"||a==="mouseover",E=r.target||r.srcElement,k=!1;E;){if(f=this._targets[d(E)],f&&(a==="click"||a==="preclick")&&this._draggableMoved(f)){k=!0;break}if(f&&f.listens(a,!0)&&(g&&!Ho(E,r)||(c.push(f),g))||E===this._container)break;E=E.parentNode}return!c.length&&!k&&!g&&this.listens(a,!0)&&(c=[this]),c},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var a=r.target||r.srcElement;if(!(!this._loaded||a._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(a))){var c=r.type;c==="mousedown"&&Bo(a),this._fireDOMEvent(r,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,a,c){if(r.type==="click"){var f=s({},r);f.type="preclick",this._fireDOMEvent(f,f.type,c)}var g=this._findEventTargets(r,a);if(c){for(var E=[],k=0;k<c.length;k++)c[k].listens(a,!0)&&E.push(c[k]);g=E.concat(g)}if(g.length){a==="contextmenu"&&Je(r);var F=g[0],U={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var G=F.getLatLng&&(!F._radius||F._radius<=10);U.containerPoint=G?this.latLngToContainerPoint(F.getLatLng()):this.mouseEventToContainerPoint(r),U.layerPoint=this.containerPointToLayerPoint(U.containerPoint),U.latlng=G?F.getLatLng():this.layerPointToLatLng(U.layerPoint)}for(k=0;k<g.length;k++)if(g[k].fire(a,U,!0),U.originalEvent._stopped||g[k].options.bubblingMouseEvents===!1&&B(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,a=this._handlers.length;r<a;r++)this._handlers[r].disable()},whenReady:function(r,a){return this._loaded?r.call(a||this,{target:this}):this.on("load",r,a),this},_getMapPanePos:function(){return li(this._mapPane)||new H(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,a){var c=r&&a!==void 0?this._getNewPixelOrigin(r,a):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,a){var c=this.getSize()._divideBy(2);return this.project(r,a)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,a,c){var f=this._getNewPixelOrigin(c,a);return this.project(r,a)._subtract(f)},_latLngBoundsToNewLayerBounds:function(r,a,c){var f=this._getNewPixelOrigin(c,a);return ve([this.project(r.getSouthWest(),a)._subtract(f),this.project(r.getNorthWest(),a)._subtract(f),this.project(r.getSouthEast(),a)._subtract(f),this.project(r.getNorthEast(),a)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,a,c){if(!c)return r;var f=this.project(r,a),g=this.getSize().divideBy(2),E=new le(f.subtract(g),f.add(g)),k=this._getBoundsOffset(E,c,a);return Math.abs(k.x)<=1&&Math.abs(k.y)<=1?r:this.unproject(f.add(k),a)},_limitOffset:function(r,a){if(!a)return r;var c=this.getPixelBounds(),f=new le(c.min.add(r),c.max.add(r));return r.add(this._getBoundsOffset(f,a))},_getBoundsOffset:function(r,a,c){var f=ve(this.project(a.getNorthEast(),c),this.project(a.getSouthWest(),c)),g=f.min.subtract(r.min),E=f.max.subtract(r.max),k=this._rebound(g.x,-E.x),F=this._rebound(g.y,-E.y);return new H(k,F)},_rebound:function(r,a){return r+a>0?Math.round(r-a)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(a))},_limitZoom:function(r){var a=this.getMinZoom(),c=this.getMaxZoom(),f=ie.any3d?this.options.zoomSnap:1;return f&&(r=Math.round(r/f)*f),Math.max(a,Math.min(c,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Oe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,a){var c=this._getCenterOffset(r)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,a),!0)},_createAnimProxy:function(){var r=this._proxy=Ee("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(a){var c=Ir,f=this._proxy.style[c];ai(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),f===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ce(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),a=this.getZoom();ai(this._proxy,this.project(r,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,a,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(a),g=this._getCenterOffset(r)._divideBy(1-1/f);return c.animate!==!0&&!this.getSize().contains(g)?!1:(b(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(r,a,!0)},this),!0)},_animateZoom:function(r,a,c,f){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=a,te(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:a,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Oe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ss(r,a){return new ge(r,a)}var Ht=Se.extend({options:{position:"topright"},initialize:function(r){V(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var a=this._map;return a&&a.removeControl(this),this.options.position=r,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var a=this._container=this.onAdd(r),c=this.getPosition(),f=r._controlCorners[c];return te(a,"leaflet-control"),c.indexOf("bottom")!==-1?f.insertBefore(a,f.firstChild):f.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ce(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),$n=function(r){return new Ht(r)};ge.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},a="leaflet-",c=this._controlContainer=Ee("div",a+"control-container",this._container);function f(g,E){var k=a+g+" "+a+E;r[g+E]=Ee("div",k,c)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Ce(this._controlCorners[r]);Ce(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var zl=Ht.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,a,c,f){return c<f?-1:f<c?1:0}},initialize:function(r,a,c){V(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in r)this._addLayer(r[f],f);for(f in a)this._addLayer(a[f],f,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Ht.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,a){return this._addLayer(r,a),this._map?this._update():this},addOverlay:function(r,a){return this._addLayer(r,a,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var a=this._getLayer(d(r));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){te(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(te(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Oe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Oe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",a=this._container=Ee("div",r),c=this.options.collapsed;a.setAttribute("aria-haspopup",!0),Lr(a),jo(a);var f=this._section=Ee("section",r+"-list");c&&(this._map.on("click",this.collapse,this),he(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=Ee("a",r+"-toggle",a);g.href="#",g.title="Layers",g.setAttribute("role","button"),he(g,{keydown:function(E){E.keyCode===13&&this._expandSafely()},click:function(E){Je(E),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=Ee("div",r+"-base",f),this._separator=Ee("div",r+"-separator",f),this._overlaysList=Ee("div",r+"-overlays",f),a.appendChild(f)},_getLayer:function(r){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&d(this._layers[a].layer)===r)return this._layers[a]},_addLayer:function(r,a,c){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:a,overlay:c}),this.options.sortLayers&&this._layers.sort(l(function(f,g){return this.options.sortFunction(f.layer,g.layer,f.name,g.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Nt(this._baseLayersList),Nt(this._overlaysList),this._layerControlInputs=[];var r,a,c,f,g=0;for(c=0;c<this._layers.length;c++)f=this._layers[c],this._addItem(f),a=a||f.overlay,r=r||!f.overlay,g+=f.overlay?0:1;return this.options.hideSingleBase&&(r=r&&g>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=a&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var a=this._getLayer(d(r.target)),c=a.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;c&&this._map.fire(c,a)},_createRadioElement:function(r,a){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(a?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=c,f.firstChild},_addItem:function(r){var a=document.createElement("label"),c=this._map.hasLayer(r.layer),f;r.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=c):f=this._createRadioElement("leaflet-base-layers_"+d(this),c),this._layerControlInputs.push(f),f.layerId=d(r.layer),he(f,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+r.name;var E=document.createElement("span");a.appendChild(E),E.appendChild(f),E.appendChild(g);var k=r.overlay?this._overlaysList:this._baseLayersList;return k.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,a,c,f=[],g=[];this._handlingClick=!0;for(var E=r.length-1;E>=0;E--)a=r[E],c=this._getLayer(a.layerId).layer,a.checked?f.push(c):a.checked||g.push(c);for(E=0;E<g.length;E++)this._map.hasLayer(g[E])&&this._map.removeLayer(g[E]);for(E=0;E<f.length;E++)this._map.hasLayer(f[E])||this._map.addLayer(f[E]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,a,c,f=this._map.getZoom(),g=r.length-1;g>=0;g--)a=r[g],c=this._getLayer(a.layerId).layer,a.disabled=c.options.minZoom!==void 0&&f<c.options.minZoom||c.options.maxZoom!==void 0&&f>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,he(r,"click",Je),this.expand();var a=this;setTimeout(function(){be(r,"click",Je),a._preventClick=!1})}}),Fl=function(r,a,c){return new zl(r,a,c)},ci=Ht.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var a="leaflet-control-zoom",c=Ee("div",a+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,a+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,a+"-out",c,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,a,c,f,g){var E=Ee("a",c,f);return E.innerHTML=r,E.href="#",E.title=a,E.setAttribute("role","button"),E.setAttribute("aria-label",a),Lr(E),he(E,"click",jn),he(E,"click",g,this),he(E,"click",this._refocusOnMap,this),E},_updateDisabled:function(){var r=this._map,a="leaflet-disabled";Oe(this._zoomInButton,a),Oe(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(te(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(te(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});ge.mergeOptions({zoomControl:!0}),ge.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ci,this.addControl(this.zoomControl))});var Bl=function(r){return new ci(r)},Zo=Ht.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var a="leaflet-control-scale",c=Ee("div",a),f=this.options;return this._addScales(f,a+"-line",c),r.on(f.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),c},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,a,c){r.metric&&(this._mScale=Ee("div",a,c)),r.imperial&&(this._iScale=Ee("div",a,c))},_update:function(){var r=this._map,a=r.getSize().y/2,c=r.distance(r.containerPointToLatLng([0,a]),r.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(c)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var a=this._getRoundNum(r),c=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,c,a/r)},_updateImperial:function(r){var a=r*3.2808399,c,f,g;a>5280?(c=a/5280,f=this._getRoundNum(c),this._updateScale(this._iScale,f+" mi",f/c)):(g=this._getRoundNum(a),this._updateScale(this._iScale,g+" ft",g/a))},_updateScale:function(r,a,c){r.style.width=Math.round(this.options.maxWidth*c)+"px",r.innerHTML=a},_getRoundNum:function(r){var a=Math.pow(10,(Math.floor(r)+"").length-1),c=r/a;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,a*c}}),qo=function(r){return new Zo(r)},Go='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ps=Ht.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ie.inlineSvg?Go+" ":"")+"Leaflet</a>"},initialize:function(r){V(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=Ee("div","leaflet-control-attribution"),Lr(this._container);for(var a in r._layers)r._layers[a].getAttribution&&this.addAttribution(r._layers[a].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var a in this._attributions)this._attributions[a]&&r.push(a);var c=[];this.options.prefix&&c.push(this.options.prefix),r.length&&c.push(r.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});ge.mergeOptions({attributionControl:!0}),ge.addInitHook(function(){this.options.attributionControl&&new Ps().addTo(this)});var Is=function(r){return new Ps(r)};Ht.Layers=zl,Ht.Zoom=ci,Ht.Scale=Zo,Ht.Attribution=Ps,$n.layers=Fl,$n.zoom=Bl,$n.scale=qo,$n.attribution=Is;var en=Se.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});en.addTo=function(r,a){return r.addHandler(a,this),this};var jl={Events:Fe},Hn=ie.touch?"touchstart mousedown":"mousedown",Pn=jt.extend({options:{clickTolerance:3},initialize:function(r,a,c,f){V(this,f),this._element=r,this._dragStartTarget=a||r,this._preventOutline=c},enable:function(){this._enabled||(he(this._dragStartTarget,Hn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Pn._dragging===this&&this.finishDrag(!0),be(this._dragStartTarget,Hn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Cr(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Pn._dragging===this&&this.finishDrag();return}if(!(Pn._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Pn._dragging=this,this._preventOutline&&Bo(this._element),ws(),Sn(),!this._moving)){this.fire("down");var a=r.touches?r.touches[0]:r,c=Vl(this._element);this._startPoint=new H(a.clientX,a.clientY),this._startPos=li(this._element),this._parentScale=dn(c);var f=r.type==="mousedown";he(document,f?"mousemove":"touchmove",this._onMove,this),he(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var a=r.touches&&r.touches.length===1?r.touches[0]:r,c=new H(a.clientX,a.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,Je(r),this._moved||(this.fire("dragstart"),this._moved=!0,te(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),te(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Ge(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Oe(document.body,"leaflet-dragging"),this._lastTarget&&(Oe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),be(document,"mousemove touchmove",this._onMove,this),be(document,"mouseup touchend touchcancel",this._onUp,this),Es(),Jt();var a=this._moved&&this._moving;this._moving=!1,Pn._dragging=!1,a&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function Ko(r,a,c){var f,g=[1,4,2,8],E,k,F,U,G,ee,ue,_e;for(E=0,ee=r.length;E<ee;E++)r[E]._code=j(r[E],a);for(F=0;F<4;F++){for(ue=g[F],f=[],E=0,ee=r.length,k=ee-1;E<ee;k=E++)U=r[E],G=r[k],U._code&ue?G._code&ue||(_e=z(G,U,ue,a,c),_e._code=j(_e,a),f.push(_e)):(G._code&ue&&(_e=z(G,U,ue,a,c),_e._code=j(_e,a),f.push(_e)),f.push(U));r=f}return r}function Qo(r,a){var c,f,g,E,k,F,U,G,ee;if(!r||r.length===0)throw new Error("latlngs not passed");Ae(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var ue=ce([0,0]),_e=Pe(r),Dt=_e.getNorthWest().distanceTo(_e.getSouthWest())*_e.getNorthEast().distanceTo(_e.getNorthWest());Dt<1700&&(ue=Cs(r));var ct=r.length,gn=[];for(c=0;c<ct;c++){var Wt=ce(r[c]);gn.push(a.project(ce([Wt.lat-ue.lat,Wt.lng-ue.lng])))}for(F=U=G=0,c=0,f=ct-1;c<ct;f=c++)g=gn[c],E=gn[f],k=g.y*E.x-E.y*g.x,U+=(g.x+E.x)*k,G+=(g.y+E.y)*k,F+=k*3;F===0?ee=gn[0]:ee=[U/F,G/F];var Ms=a.unproject(Y(ee));return ce([Ms.lat+ue.lat,Ms.lng+ue.lng])}function Cs(r){for(var a=0,c=0,f=0,g=0;g<r.length;g++){var E=ce(r[g]);a+=E.lat,c+=E.lng,f++}return ce([a/f,c/f])}var As={__proto__:null,clipPolygon:Ko,polygonCenter:Qo,centroid:Cs};function xt(r,a){if(!a||!r.length)return r.slice();var c=a*a;return r=p(r,c),r=Fi(r,c),r}function Xo(r,a,c){return Math.sqrt(fe(r,a,c,!0))}function Ul(r,a,c){return fe(r,a,c)}function Fi(r,a){var c=r.length,f=typeof Uint8Array<"u"?Uint8Array:Array,g=new f(c);g[0]=g[c-1]=1,u(r,g,a,0,c-1);var E,k=[];for(E=0;E<c;E++)g[E]&&k.push(r[E]);return k}function u(r,a,c,f,g){var E=0,k,F,U;for(F=f+1;F<=g-1;F++)U=fe(r[F],r[f],r[g],!0),U>E&&(k=F,E=U);E>c&&(a[k]=1,u(r,a,c,f,k),u(r,a,c,k,g))}function p(r,a){for(var c=[r[0]],f=1,g=0,E=r.length;f<E;f++)J(r[f],r[g])>a&&(c.push(r[f]),g=f);return g<E-1&&c.push(r[E-1]),c}var _;function T(r,a,c,f,g){var E=f?_:j(r,c),k=j(a,c),F,U,G;for(_=k;;){if(!(E|k))return[r,a];if(E&k)return!1;F=E||k,U=z(r,a,F,c,g),G=j(U,c),F===E?(r=U,E=G):(a=U,k=G)}}function z(r,a,c,f,g){var E=a.x-r.x,k=a.y-r.y,F=f.min,U=f.max,G,ee;return c&8?(G=r.x+E*(U.y-r.y)/k,ee=U.y):c&4?(G=r.x+E*(F.y-r.y)/k,ee=F.y):c&2?(G=U.x,ee=r.y+k*(U.x-r.x)/E):c&1&&(G=F.x,ee=r.y+k*(F.x-r.x)/E),new H(G,ee,g)}function j(r,a){var c=0;return r.x<a.min.x?c|=1:r.x>a.max.x&&(c|=2),r.y<a.min.y?c|=4:r.y>a.max.y&&(c|=8),c}function J(r,a){var c=a.x-r.x,f=a.y-r.y;return c*c+f*f}function fe(r,a,c,f){var g=a.x,E=a.y,k=c.x-g,F=c.y-E,U=k*k+F*F,G;return U>0&&(G=((r.x-g)*k+(r.y-E)*F)/U,G>1?(g=c.x,E=c.y):G>0&&(g+=k*G,E+=F*G)),k=r.x-g,F=r.y-E,f?k*k+F*F:new H(g,E)}function Ae(r){return!A(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function Le(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ae(r)}function Xe(r,a){var c,f,g,E,k,F,U,G;if(!r||r.length===0)throw new Error("latlngs not passed");Ae(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var ee=ce([0,0]),ue=Pe(r),_e=ue.getNorthWest().distanceTo(ue.getSouthWest())*ue.getNorthEast().distanceTo(ue.getNorthWest());_e<1700&&(ee=Cs(r));var Dt=r.length,ct=[];for(c=0;c<Dt;c++){var gn=ce(r[c]);ct.push(a.project(ce([gn.lat-ee.lat,gn.lng-ee.lng])))}for(c=0,f=0;c<Dt-1;c++)f+=ct[c].distanceTo(ct[c+1])/2;if(f===0)G=ct[0];else for(c=0,E=0;c<Dt-1;c++)if(k=ct[c],F=ct[c+1],g=k.distanceTo(F),E+=g,E>f){U=(E-f)/g,G=[F.x-U*(F.x-k.x),F.y-U*(F.y-k.y)];break}var Wt=a.unproject(Y(G));return ce([Wt.lat+ee.lat,Wt.lng+ee.lng])}var pn={__proto__:null,simplify:xt,pointToSegmentDistance:Xo,closestPointOnSegment:Ul,clipSegment:T,_getEdgeIntersection:z,_getBitCode:j,_sqClosestPointOnSegment:fe,isFlat:Ae,_flat:Le,polylineCenter:Xe},In={project:function(r){return new H(r.lng,r.lat)},unproject:function(r){return new we(r.y,r.x)},bounds:new le([-180,-90],[180,90])},mn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new le([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var a=Math.PI/180,c=this.R,f=r.lat*a,g=this.R_MINOR/c,E=Math.sqrt(1-g*g),k=E*Math.sin(f),F=Math.tan(Math.PI/4-f/2)/Math.pow((1-k)/(1+k),E/2);return f=-c*Math.log(Math.max(F,1e-10)),new H(r.lng*a*c,f)},unproject:function(r){for(var a=180/Math.PI,c=this.R,f=this.R_MINOR/c,g=Math.sqrt(1-f*f),E=Math.exp(-r.y/c),k=Math.PI/2-2*Math.atan(E),F=0,U=.1,G;F<15&&Math.abs(U)>1e-7;F++)G=g*Math.sin(k),G=Math.pow((1-G)/(1+G),g/2),U=Math.PI/2-2*Math.atan(E*G)-k,k+=U;return new we(k*a,r.x*a/c)}},Wn={__proto__:null,LonLat:In,Mercator:mn,SphericalMercator:Ao},ks=s({},un,{code:"EPSG:3395",projection:mn,transformation:function(){var r=.5/(Math.PI*mn.R);return Li(r,.5,-r,.5)}()}),Ls=s({},un,{code:"EPSG:4326",projection:In,transformation:Li(1/180,1,-1/180,.5)}),T1=s({},ot,{projection:In,transformation:Li(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,a){var c=a.lng-r.lng,f=a.lat-r.lat;return Math.sqrt(c*c+f*f)},infinite:!0});ot.Earth=un,ot.EPSG3395=ks,ot.EPSG3857=_r,ot.EPSG900913=wl,ot.EPSG4326=Ls,ot.Simple=T1;var Cn=jt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[d(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[d(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var a=r.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var c=this.getEvents();a.on(c,this),this.once("remove",function(){a.off(c,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});ge.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var a=d(r);return this._layers[a]?this:(this._layers[a]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var a=d(r);return this._layers[a]?(this._loaded&&r.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return d(r)in this._layers},eachLayer:function(r,a){for(var c in this._layers)r.call(a,this._layers[c]);return this},_addLayers:function(r){r=r?A(r)?r:[r]:[];for(var a=0,c=r.length;a<c;a++)this.addLayer(r[a])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[d(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var a=d(r);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,a=-1/0,c=this._getZoomSpan();for(var f in this._zoomBoundLayers){var g=this._zoomBoundLayers[f].options;r=g.minZoom===void 0?r:Math.min(r,g.minZoom),a=g.maxZoom===void 0?a:Math.max(a,g.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=r===1/0?void 0:r,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Rs=Cn.extend({initialize:function(r,a){V(this,a),this._layers={};var c,f;if(r)for(c=0,f=r.length;c<f;c++)this.addLayer(r[c])},addLayer:function(r){var a=this.getLayerId(r);return this._layers[a]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var a=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(r){var a=typeof r=="number"?r:this.getLayerId(r);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var a=Array.prototype.slice.call(arguments,1),c,f;for(c in this._layers)f=this._layers[c],f[r]&&f[r].apply(f,a);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,a){for(var c in this._layers)r.call(a,this._layers[c]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return d(r)}}),x1=function(r,a){return new Rs(r,a)},hi=Rs.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),Rs.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),Rs.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new qe;for(var a in this._layers){var c=this._layers[a];r.extend(c.getBounds?c.getBounds():c.getLatLng())}return r}}),S1=function(r,a){return new hi(r,a)},bs=Se.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){V(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,a){var c=this._getIconUrl(r);if(!c){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(c,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(f,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(r,a){var c=this.options,f=c[a+"Size"];typeof f=="number"&&(f=[f,f]);var g=Y(f),E=Y(a==="shadow"&&c.shadowAnchor||c.iconAnchor||g&&g.divideBy(2,!0));r.className="leaflet-marker-"+a+" "+(c.className||""),E&&(r.style.marginLeft=-E.x+"px",r.style.marginTop=-E.y+"px"),g&&(r.style.width=g.x+"px",r.style.height=g.y+"px")},_createImg:function(r,a){return a=a||document.createElement("img"),a.src=r,a},_getIconUrl:function(r){return ie.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function P1(r){return new bs(r)}var Yo=bs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof Yo.imagePath!="string"&&(Yo.imagePath=this._detectIconPath()),(this.options.imagePath||Yo.imagePath)+bs.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var a=function(c,f,g){var E=f.exec(c);return E&&E[g]};return r=a(r,/^url\((['"])?(.+)\1\)$/,2),r&&a(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=Ee("div","leaflet-default-icon-path",document.body),a=Mi(r,"background-image")||Mi(r,"backgroundImage");if(document.body.removeChild(r),a=this._stripUrl(a),a)return a;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),Jp=en.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Pn(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),te(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Oe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var a=this._marker,c=a._map,f=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,E=li(a._icon),k=c.getPixelBounds(),F=c.getPixelOrigin(),U=ve(k.min._subtract(F).add(g),k.max._subtract(F).subtract(g));if(!U.contains(E)){var G=Y((Math.max(U.max.x,E.x)-U.max.x)/(k.max.x-U.max.x)-(Math.min(U.min.x,E.x)-U.min.x)/(k.min.x-U.min.x),(Math.max(U.max.y,E.y)-U.max.y)/(k.max.y-U.max.y)-(Math.min(U.min.y,E.y)-U.min.y)/(k.min.y-U.min.y)).multiplyBy(f);c.panBy(G,{animate:!1}),this._draggable._newPos._add(G),this._draggable._startPos._add(G),Ge(a._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=b(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(D(this._panRequest),this._panRequest=b(this._adjustPan.bind(this,r)))},_onDrag:function(r){var a=this._marker,c=a._shadow,f=li(a._icon),g=a._map.layerPointToLatLng(f);c&&Ge(c,f),a._latlng=g,r.latlng=g,r.oldLatLng=this._oldLatLng,a.fire("move",r).fire("drag",r)},_onDragEnd:function(r){D(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),$l=Cn.extend({options:{icon:new Yo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,a){V(this,a),this._latlng=ce(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var a=this._latlng;return this._latlng=ce(r),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=r.icon.createIcon(this._icon),f=!1;c!==this._icon&&(this._icon&&this._removeIcon(),f=!0,r.title&&(c.title=r.title),c.tagName==="IMG"&&(c.alt=r.alt||"")),te(c,a),r.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&he(c,"focus",this._panOnFocus,this);var g=r.icon.createShadow(this._shadow),E=!1;g!==this._shadow&&(this._removeShadow(),E=!0),g&&(te(g,a),g.alt=""),this._shadow=g,r.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&E&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&be(this._icon,"focus",this._panOnFocus,this),Ce(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ce(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Ge(this._icon,r),this._shadow&&Ge(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(te(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Jp)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Jp(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&$t(this._icon,r),this._shadow&&$t(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var a=this.options.icon.options,c=a.iconSize?Y(a.iconSize):Y(0,0),f=a.iconAnchor?Y(a.iconAnchor):Y(0,0);r.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:c.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function I1(r,a){return new $l(r,a)}var Bi=Cn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return V(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Hl=Bi.extend({options:{fill:!0,radius:10},initialize:function(r,a){V(this,a),this._latlng=ce(r),this._radius=this.options.radius},setLatLng:function(r){var a=this._latlng;return this._latlng=ce(r),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var a=r&&r.radius||this._radius;return Bi.prototype.setStyle.call(this,r),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,a=this._radiusY||r,c=this._clickTolerance(),f=[r+c,a+c];this._pxBounds=new le(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function C1(r,a){return new Hl(r,a)}var ph=Hl.extend({initialize:function(r,a,c){if(typeof a=="number"&&(a=s({},c,{radius:a})),V(this,a),this._latlng=ce(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new qe(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Bi.prototype.setStyle,_project:function(){var r=this._latlng.lng,a=this._latlng.lat,c=this._map,f=c.options.crs;if(f.distance===un.distance){var g=Math.PI/180,E=this._mRadius/un.R/g,k=c.project([a+E,r]),F=c.project([a-E,r]),U=k.add(F).divideBy(2),G=c.unproject(U).lat,ee=Math.acos((Math.cos(E*g)-Math.sin(a*g)*Math.sin(G*g))/(Math.cos(a*g)*Math.cos(G*g)))/g;(isNaN(ee)||ee===0)&&(ee=E/Math.cos(Math.PI/180*a)),this._point=U.subtract(c.getPixelOrigin()),this._radius=isNaN(ee)?0:U.x-c.project([G,r-ee]).x,this._radiusY=U.y-k.y}else{var ue=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(ue).x}this._updateBounds()}});function A1(r,a,c){return new ph(r,a,c)}var fi=Bi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,a){V(this,a),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var a=1/0,c=null,f=fe,g,E,k=0,F=this._parts.length;k<F;k++)for(var U=this._parts[k],G=1,ee=U.length;G<ee;G++){g=U[G-1],E=U[G];var ue=f(r,g,E,!0);ue<a&&(a=ue,c=f(r,g,E))}return c&&(c.distance=Math.sqrt(a)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Xe(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,a){return a=a||this._defaultShape(),r=ce(r),a.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new qe,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return Ae(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var a=[],c=Ae(r),f=0,g=r.length;f<g;f++)c?(a[f]=ce(r[f]),this._bounds.extend(a[f])):a[f]=this._convertLatLngs(r[f]);return a},_project:function(){var r=new le;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),a=new H(r,r);this._rawPxBounds&&(this._pxBounds=new le([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(r,a,c){var f=r[0]instanceof we,g=r.length,E,k;if(f){for(k=[],E=0;E<g;E++)k[E]=this._map.latLngToLayerPoint(r[E]),c.extend(k[E]);a.push(k)}else for(E=0;E<g;E++)this._projectLatlngs(r[E],a,c)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,c,f,g,E,k,F,U;for(c=0,g=0,E=this._rings.length;c<E;c++)for(U=this._rings[c],f=0,k=U.length;f<k-1;f++)F=T(U[f],U[f+1],r,f,!0),F&&(a[g]=a[g]||[],a[g].push(F[0]),(F[1]!==U[f+1]||f===k-2)&&(a[g].push(F[1]),g++))}},_simplifyPoints:function(){for(var r=this._parts,a=this.options.smoothFactor,c=0,f=r.length;c<f;c++)r[c]=xt(r[c],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,a){var c,f,g,E,k,F,U=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(c=0,E=this._parts.length;c<E;c++)for(F=this._parts[c],f=0,k=F.length,g=k-1;f<k;g=f++)if(!(!a&&f===0)&&Xo(r,F[g],F[f])<=U)return!0;return!1}});function k1(r,a){return new fi(r,a)}fi._flat=Le;var Ns=fi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Qo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var a=fi.prototype._convertLatLngs.call(this,r),c=a.length;return c>=2&&a[0]instanceof we&&a[0].equals(a[c-1])&&a.pop(),a},_setLatLngs:function(r){fi.prototype._setLatLngs.call(this,r),Ae(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ae(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,a=this.options.weight,c=new H(a,a);if(r=new le(r.min.subtract(c),r.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,g=this._rings.length,E;f<g;f++)E=Ko(this._rings[f],r,!0),E.length&&this._parts.push(E)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var a=!1,c,f,g,E,k,F,U,G;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(E=0,U=this._parts.length;E<U;E++)for(c=this._parts[E],k=0,G=c.length,F=G-1;k<G;F=k++)f=c[k],g=c[F],f.y>r.y!=g.y>r.y&&r.x<(g.x-f.x)*(r.y-f.y)/(g.y-f.y)+f.x&&(a=!a);return a||fi.prototype._containsPoint.call(this,r,!0)}});function L1(r,a){return new Ns(r,a)}var di=hi.extend({initialize:function(r,a){V(this,a),this._layers={},r&&this.addData(r)},addData:function(r){var a=A(r)?r:r.features,c,f,g;if(a){for(c=0,f=a.length;c<f;c++)g=a[c],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var E=this.options;if(E.filter&&!E.filter(r))return this;var k=Wl(r,E);return k?(k.feature=Gl(r),k.defaultOptions=k.options,this.resetStyle(k),E.onEachFeature&&E.onEachFeature(r,k),this.addLayer(k)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=s({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(a){this._setLayerStyle(a,r)},this)},_setLayerStyle:function(r,a){r.setStyle&&(typeof a=="function"&&(a=a(r.feature)),r.setStyle(a))}});function Wl(r,a){var c=r.type==="Feature"?r.geometry:r,f=c?c.coordinates:null,g=[],E=a&&a.pointToLayer,k=a&&a.coordsToLatLng||mh,F,U,G,ee;if(!f&&!c)return null;switch(c.type){case"Point":return F=k(f),em(E,r,F,a);case"MultiPoint":for(G=0,ee=f.length;G<ee;G++)F=k(f[G]),g.push(em(E,r,F,a));return new hi(g);case"LineString":case"MultiLineString":return U=Zl(f,c.type==="LineString"?0:1,k),new fi(U,a);case"Polygon":case"MultiPolygon":return U=Zl(f,c.type==="Polygon"?1:2,k),new Ns(U,a);case"GeometryCollection":for(G=0,ee=c.geometries.length;G<ee;G++){var ue=Wl({geometry:c.geometries[G],type:"Feature",properties:r.properties},a);ue&&g.push(ue)}return new hi(g);case"FeatureCollection":for(G=0,ee=c.features.length;G<ee;G++){var _e=Wl(c.features[G],a);_e&&g.push(_e)}return new hi(g);default:throw new Error("Invalid GeoJSON object.")}}function em(r,a,c,f){return r?r(a,c):new $l(c,f&&f.markersInheritOptions&&f)}function mh(r){return new we(r[1],r[0],r[2])}function Zl(r,a,c){for(var f=[],g=0,E=r.length,k;g<E;g++)k=a?Zl(r[g],a-1,c):(c||mh)(r[g]),f.push(k);return f}function gh(r,a){return r=ce(r),r.alt!==void 0?[v(r.lng,a),v(r.lat,a),v(r.alt,a)]:[v(r.lng,a),v(r.lat,a)]}function ql(r,a,c,f){for(var g=[],E=0,k=r.length;E<k;E++)g.push(a?ql(r[E],Ae(r[E])?0:a-1,c,f):gh(r[E],f));return!a&&c&&g.length>0&&g.push(g[0].slice()),g}function Os(r,a){return r.feature?s({},r.feature,{geometry:a}):Gl(a)}function Gl(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var _h={toGeoJSON:function(r){return Os(this,{type:"Point",coordinates:gh(this.getLatLng(),r)})}};$l.include(_h),ph.include(_h),Hl.include(_h),fi.include({toGeoJSON:function(r){var a=!Ae(this._latlngs),c=ql(this._latlngs,a?1:0,!1,r);return Os(this,{type:(a?"Multi":"")+"LineString",coordinates:c})}}),Ns.include({toGeoJSON:function(r){var a=!Ae(this._latlngs),c=a&&!Ae(this._latlngs[0]),f=ql(this._latlngs,c?2:a?1:0,!0,r);return a||(f=[f]),Os(this,{type:(c?"Multi":"")+"Polygon",coordinates:f})}}),Rs.include({toMultiPoint:function(r){var a=[];return this.eachLayer(function(c){a.push(c.toGeoJSON(r).geometry.coordinates)}),Os(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(r){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(r);var c=a==="GeometryCollection",f=[];return this.eachLayer(function(g){if(g.toGeoJSON){var E=g.toGeoJSON(r);if(c)f.push(E.geometry);else{var k=Gl(E);k.type==="FeatureCollection"?f.push.apply(f,k.features):f.push(k)}}}),c?Os(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function tm(r,a){return new di(r,a)}var R1=tm,Kl=Cn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,a,c){this._url=r,this._bounds=Pe(a),V(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(te(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ce(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&hn(this._image),this},bringToBack:function(){return this._map&&fn(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=Pe(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",a=this._image=r?this._url:Ee("img");if(te(a,"leaflet-image-layer"),this._zoomAnimated&&te(a,"leaflet-zoom-animated"),this.options.className&&te(a,this.options.className),a.onselectstart=w,a.onmousemove=w,a.onload=l(this.fire,this,"load"),a.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(r){var a=this._map.getZoomScale(r.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;ai(this._image,c,a)},_reset:function(){var r=this._image,a=new le(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=a.getSize();Ge(r,a.min),r.style.width=c.x+"px",r.style.height=c.y+"px"},_updateOpacity:function(){$t(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),b1=function(r,a,c){return new Kl(r,a,c)},nm=Kl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",a=this._image=r?this._url:Ee("video");if(te(a,"leaflet-image-layer"),this._zoomAnimated&&te(a,"leaflet-zoom-animated"),this.options.className&&te(a,this.options.className),a.onselectstart=w,a.onmousemove=w,a.onloadeddata=l(this.fire,this,"load"),r){for(var c=a.getElementsByTagName("source"),f=[],g=0;g<c.length;g++)f.push(c[g].src);this._url=c.length>0?f:[a.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var E=0;E<this._url.length;E++){var k=Ee("source");k.src=this._url[E],a.appendChild(k)}}});function N1(r,a,c){return new nm(r,a,c)}var im=Kl.extend({_initImage:function(){var r=this._image=this._url;te(r,"leaflet-image-layer"),this._zoomAnimated&&te(r,"leaflet-zoom-animated"),this.options.className&&te(r,this.options.className),r.onselectstart=w,r.onmousemove=w}});function O1(r,a,c){return new im(r,a,c)}var Zn=Cn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,a){r&&(r instanceof we||A(r))?(this._latlng=ce(r),V(this,a)):(V(this,r),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&$t(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&$t(this._container,1),this.bringToFront(),this.options.interactive&&(te(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?($t(this._container,0),this._removeTimeout=setTimeout(l(Ce,void 0,this._container),200)):Ce(this._container),this.options.interactive&&(Oe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=ce(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&hn(this._container),this},bringToBack:function(){return this._map&&fn(this._container),this},_prepareOpen:function(r){var a=this._source;if(!a._map)return!1;if(a instanceof hi){a=null;var c=this._source._layers;for(var f in c)if(c[f]._map){a=c[f];break}if(!a)return!1;this._source=a}if(!r)if(a.getCenter)r=a.getCenter();else if(a.getLatLng)r=a.getLatLng();else if(a.getBounds)r=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")r.innerHTML=a;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),a=Y(this.options.offset),c=this._getAnchor();this._zoomAnimated?Ge(this._container,r.add(c)):a=a.add(r).add(c);var f=this._containerBottom=-a.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=f+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});ge.include({_initOverlay:function(r,a,c,f){var g=a;return g instanceof r||(g=new r(f).setContent(a)),c&&g.setLatLng(c),g}}),Cn.include({_initOverlay:function(r,a,c,f){var g=c;return g instanceof r?(V(g,f),g._source=this):(g=a&&!f?a:new r(f,this),g.setContent(c)),g}});var Ql=Zn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,Zn.prototype.openOn.call(this,r)},onAdd:function(r){Zn.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Bi||this._source.on("preclick",ke))},onRemove:function(r){Zn.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Bi||this._source.off("preclick",ke))},getEvents:function(){var r=Zn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",a=this._container=Ee("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=Ee("div",r+"-content-wrapper",a);if(this._contentNode=Ee("div",r+"-content",c),Lr(a),jo(this._contentNode),he(a,"contextmenu",ke),this._tipContainer=Ee("div",r+"-tip-container",a),this._tip=Ee("div",r+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=Ee("a",r+"-close-button",a);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',he(f,"click",function(g){Je(g),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,a=r.style;a.width="",a.whiteSpace="nowrap";var c=r.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),a.width=c+1+"px",a.whiteSpace="",a.height="";var f=r.offsetHeight,g=this.options.maxHeight,E="leaflet-popup-scrolled";g&&f>g?(a.height=g+"px",te(r,E)):Oe(r,E),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),c=this._getAnchor();Ge(this._container,a.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,a=parseInt(Mi(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+a,f=this._containerWidth,g=new H(this._containerLeft,-c-this._containerBottom);g._add(li(this._container));var E=r.layerPointToContainerPoint(g),k=Y(this.options.autoPanPadding),F=Y(this.options.autoPanPaddingTopLeft||k),U=Y(this.options.autoPanPaddingBottomRight||k),G=r.getSize(),ee=0,ue=0;E.x+f+U.x>G.x&&(ee=E.x+f-G.x+U.x),E.x-ee-F.x<0&&(ee=E.x-F.x),E.y+c+U.y>G.y&&(ue=E.y+c-G.y+U.y),E.y-ue-F.y<0&&(ue=E.y-F.y),(ee||ue)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([ee,ue]))}},_getAnchor:function(){return Y(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),D1=function(r,a){return new Ql(r,a)};ge.mergeOptions({closePopupOnClick:!0}),ge.include({openPopup:function(r,a,c){return this._initOverlay(Ql,r,a,c).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),Cn.include({bindPopup:function(r,a){return this._popup=this._initOverlay(Ql,this._popup,r,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof hi||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){jn(r);var a=r.layer||r.target;if(this._popup._source===a&&!(a instanceof Bi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=a,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var Xl=Zn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){Zn.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){Zn.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=Zn.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",a=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ee("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var a,c,f=this._map,g=this._container,E=f.latLngToContainerPoint(f.getCenter()),k=f.layerPointToContainerPoint(r),F=this.options.direction,U=g.offsetWidth,G=g.offsetHeight,ee=Y(this.options.offset),ue=this._getAnchor();F==="top"?(a=U/2,c=G):F==="bottom"?(a=U/2,c=0):F==="center"?(a=U/2,c=G/2):F==="right"?(a=0,c=G/2):F==="left"?(a=U,c=G/2):k.x<E.x?(F="right",a=0,c=G/2):(F="left",a=U+(ee.x+ue.x)*2,c=G/2),r=r.subtract(Y(a,c,!0)).add(ee).add(ue),Oe(g,"leaflet-tooltip-right"),Oe(g,"leaflet-tooltip-left"),Oe(g,"leaflet-tooltip-top"),Oe(g,"leaflet-tooltip-bottom"),te(g,"leaflet-tooltip-"+F),Ge(g,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&$t(this._container,r)},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(a)},_getAnchor:function(){return Y(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),M1=function(r,a){return new Xl(r,a)};ge.include({openTooltip:function(r,a,c){return this._initOverlay(Xl,r,a,c).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),Cn.include({bindTooltip:function(r,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Xl,this._tooltip,r,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var a=r?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[a](c),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof hi||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var a=typeof r.getElement=="function"&&r.getElement();a&&(he(a,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),he(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var a=typeof r.getElement=="function"&&r.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var a=r.latlng,c,f;this._tooltip.options.sticky&&r.originalEvent&&(c=this._map.mouseEventToContainerPoint(r.originalEvent),f=this._map.containerPointToLayerPoint(c),a=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(a)}});var rm=bs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var a=r&&r.tagName==="DIV"?r:document.createElement("div"),c=this.options;if(c.html instanceof Element?(Nt(a),a.appendChild(c.html)):a.innerHTML=c.html!==!1?c.html:"",c.bgPos){var f=Y(c.bgPos);a.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function V1(r){return new rm(r)}bs.Default=Yo;var Jo=Cn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ie.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){V(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Ce(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(hn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(fn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof H?r:new H(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var a=this.getPane().children,c=-r(-1/0,1/0),f=0,g=a.length,E;f<g;f++)E=a[f].style.zIndex,a[f]!==this._container&&E&&(c=r(c,+E));isFinite(c)&&(this.options.zIndex=c+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ie.ielt9){$t(this._container,this.options.opacity);var r=+new Date,a=!1,c=!1;for(var f in this._tiles){var g=this._tiles[f];if(!(!g.current||!g.loaded)){var E=Math.min(1,(r-g.loaded)/200);$t(g.el,E),E<1?a=!0:(g.active?c=!0:this._onOpaqueTile(g),g.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),a&&(D(this._fadeFrame),this._fadeFrame=b(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=Ee("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,a=this.options.maxZoom;if(r!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===r?(this._levels[c].el.style.zIndex=a-Math.abs(r-c),this._onUpdateLevel(c)):(Ce(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var f=this._levels[r],g=this._map;return f||(f=this._levels[r]={},f.el=Ee("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=a,f.origin=g.project(g.unproject(g.getPixelOrigin()),r).round(),f.zoom=r,this._setZoomTransform(f,g.getCenter(),g.getZoom()),w(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var r,a,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)a=this._tiles[r],a.retain=a.current;for(r in this._tiles)if(a=this._tiles[r],a.current&&!a.active){var f=a.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var a in this._tiles)this._tiles[a].coords.z===r&&this._removeTile(a)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Ce(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,a,c,f){var g=Math.floor(r/2),E=Math.floor(a/2),k=c-1,F=new H(+g,+E);F.z=+k;var U=this._tileCoordsToKey(F),G=this._tiles[U];return G&&G.active?(G.retain=!0,!0):(G&&G.loaded&&(G.retain=!0),k>f?this._retainParent(g,E,k,f):!1)},_retainChildren:function(r,a,c,f){for(var g=2*r;g<2*r+2;g++)for(var E=2*a;E<2*a+2;E++){var k=new H(g,E);k.z=c+1;var F=this._tileCoordsToKey(k),U=this._tiles[F];if(U&&U.active){U.retain=!0;continue}else U&&U.loaded&&(U.retain=!0);c+1<f&&this._retainChildren(g,E,c+1,f)}},_resetView:function(r){var a=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var a=this.options;return a.minNativeZoom!==void 0&&r<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<r?a.maxNativeZoom:r},_setView:function(r,a,c,f){var g=Math.round(a);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var E=this.options.updateWhenZooming&&g!==this._tileZoom;(!f||E)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(r),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(r,a)},_setZoomTransforms:function(r,a){for(var c in this._levels)this._setZoomTransform(this._levels[c],r,a)},_setZoomTransform:function(r,a,c){var f=this._map.getZoomScale(c,r.zoom),g=r.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(a,c)).round();ie.any3d?ai(r.el,g,f):Ge(r.el,g)},_resetGrid:function(){var r=this._map,a=r.options.crs,c=this._tileSize=this.getTileSize(),f=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,a.wrapLng[0]],f).x/c.x),Math.ceil(r.project([0,a.wrapLng[1]],f).x/c.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([a.wrapLat[0],0],f).y/c.x),Math.ceil(r.project([a.wrapLat[1],0],f).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var a=this._map,c=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),f=a.getZoomScale(c,this._tileZoom),g=a.project(r,this._tileZoom).floor(),E=a.getSize().divideBy(f*2);return new le(g.subtract(E),g.add(E))},_update:function(r){var a=this._map;if(a){var c=this._clampZoom(a.getZoom());if(r===void 0&&(r=a.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(r),g=this._pxBoundsToTileRange(f),E=g.getCenter(),k=[],F=this.options.keepBuffer,U=new le(g.getBottomLeft().subtract([F,-F]),g.getTopRight().add([F,-F]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var G in this._tiles){var ee=this._tiles[G].coords;(ee.z!==this._tileZoom||!U.contains(new H(ee.x,ee.y)))&&(this._tiles[G].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(r,c);return}for(var ue=g.min.y;ue<=g.max.y;ue++)for(var _e=g.min.x;_e<=g.max.x;_e++){var Dt=new H(_e,ue);if(Dt.z=this._tileZoom,!!this._isValidTile(Dt)){var ct=this._tiles[this._tileCoordsToKey(Dt)];ct?ct.current=!0:k.push(Dt)}}if(k.sort(function(Wt,Ms){return Wt.distanceTo(E)-Ms.distanceTo(E)}),k.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var gn=document.createDocumentFragment();for(_e=0;_e<k.length;_e++)this._addTile(k[_e],gn);this._level.el.appendChild(gn)}}}},_isValidTile:function(r){var a=this._map.options.crs;if(!a.infinite){var c=this._globalTileRange;if(!a.wrapLng&&(r.x<c.min.x||r.x>c.max.x)||!a.wrapLat&&(r.y<c.min.y||r.y>c.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(r);return Pe(this.options.bounds).overlaps(f)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var a=this._map,c=this.getTileSize(),f=r.scaleBy(c),g=f.add(c),E=a.unproject(f,r.z),k=a.unproject(g,r.z);return[E,k]},_tileCoordsToBounds:function(r){var a=this._tileCoordsToNwSe(r),c=new qe(a[0],a[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var a=r.split(":"),c=new H(+a[0],+a[1]);return c.z=+a[2],c},_removeTile:function(r){var a=this._tiles[r];a&&(Ce(a.el),delete this._tiles[r],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){te(r,"leaflet-tile");var a=this.getTileSize();r.style.width=a.x+"px",r.style.height=a.y+"px",r.onselectstart=w,r.onmousemove=w,ie.ielt9&&this.options.opacity<1&&$t(r,this.options.opacity)},_addTile:function(r,a){var c=this._getTilePos(r),f=this._tileCoordsToKey(r),g=this.createTile(this._wrapCoords(r),l(this._tileReady,this,r));this._initTile(g),this.createTile.length<2&&b(l(this._tileReady,this,r,null,g)),Ge(g,c),this._tiles[f]={el:g,coords:r,current:!0},a.appendChild(g),this.fire("tileloadstart",{tile:g,coords:r})},_tileReady:function(r,a,c){a&&this.fire("tileerror",{error:a,tile:c,coords:r});var f=this._tileCoordsToKey(r);c=this._tiles[f],c&&(c.loaded=+new Date,this._map._fadeAnimated?($t(c.el,0),D(this._fadeFrame),this._fadeFrame=b(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),a||(te(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ie.ielt9||!this._map._fadeAnimated?b(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var a=new H(this._wrapX?y(r.x,this._wrapX):r.x,this._wrapY?y(r.y,this._wrapY):r.y);return a.z=r.z,a},_pxBoundsToTileRange:function(r){var a=this.getTileSize();return new le(r.min.unscaleBy(a).floor(),r.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function z1(r){return new Jo(r)}var Ds=Jo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,a){this._url=r,a=V(this,a),a.detectRetina&&ie.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,a){return this._url===r&&a===void 0&&(a=!0),this._url=r,a||this.redraw(),this},createTile:function(r,a){var c=document.createElement("img");return he(c,"load",l(this._tileOnLoad,this,a,c)),he(c,"error",l(this._tileOnError,this,a,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(r),c},getTileUrl:function(r){var a={r:ie.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-r.y;this.options.tms&&(a.y=c),a["-y"]=c}return P(this._url,s(a,this.options))},_tileOnLoad:function(r,a){ie.ielt9?setTimeout(l(r,this,null,a),0):r(null,a)},_tileOnError:function(r,a,c){var f=this.options.errorTileUrl;f&&a.getAttribute("src")!==f&&(a.src=f),r(c,a)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,a=this.options.maxZoom,c=this.options.zoomReverse,f=this.options.zoomOffset;return c&&(r=a-r),r+f},_getSubdomain:function(r){var a=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var r,a;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(a=this._tiles[r].el,a.onload=w,a.onerror=w,!a.complete)){a.src=Z;var c=this._tiles[r].coords;Ce(a),delete this._tiles[r],this.fire("tileabort",{tile:a,coords:c})}},_removeTile:function(r){var a=this._tiles[r];if(a)return a.el.setAttribute("src",Z),Jo.prototype._removeTile.call(this,r)},_tileReady:function(r,a,c){if(!(!this._map||c&&c.getAttribute("src")===Z))return Jo.prototype._tileReady.call(this,r,a,c)}});function sm(r,a){return new Ds(r,a)}var om=Ds.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,a){this._url=r;var c=s({},this.defaultWmsParams);for(var f in a)f in this.options||(c[f]=a[f]);a=V(this,a);var g=a.detectRetina&&ie.retina?2:1,E=this.getTileSize();c.width=E.x*g,c.height=E.y*g,this.wmsParams=c},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,Ds.prototype.onAdd.call(this,r)},getTileUrl:function(r){var a=this._tileCoordsToNwSe(r),c=this._crs,f=ve(c.project(a[0]),c.project(a[1])),g=f.min,E=f.max,k=(this._wmsVersion>=1.3&&this._crs===Ls?[g.y,g.x,E.y,E.x]:[g.x,g.y,E.x,E.y]).join(","),F=Ds.prototype.getTileUrl.call(this,r);return F+W(this.wmsParams,F,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+k},setParams:function(r,a){return s(this.wmsParams,r),a||this.redraw(),this}});function F1(r,a){return new om(r,a)}Ds.WMS=om,sm.wms=F1;var pi=Cn.extend({options:{padding:.1},initialize:function(r){V(this,r),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),te(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,a){var c=this._map.getZoomScale(a,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,a),E=f.multiplyBy(-c).add(g).subtract(this._map._getNewPixelOrigin(r,a));ie.any3d?ai(this._container,E,c):Ge(this._container,E)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,a=this._map.getSize(),c=this._map.containerPointToLayerPoint(a.multiplyBy(-r)).round();this._bounds=new le(c,c.add(a.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),am=pi.extend({options:{tolerance:0},getEvents:function(){var r=pi.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){pi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");he(r,"mousemove",this._onMouseMove,this),he(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),he(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){D(this._redrawRequest),delete this._ctx,Ce(this._container),be(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var a in this._layers)r=this._layers[a],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){pi.prototype._update.call(this);var r=this._bounds,a=this._container,c=r.getSize(),f=ie.retina?2:1;Ge(a,r.min),a.width=f*c.x,a.height=f*c.y,a.style.width=c.x+"px",a.style.height=c.y+"px",ie.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){pi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[d(r)]=r;var a=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var a=r._order,c=a.next,f=a.prev;c?c.prev=f:this._drawLast=f,f?f.next=c:this._drawFirst=c,delete r._order,delete this._layers[d(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var a=r.options.dashArray.split(/[, ]+/),c=[],f,g;for(g=0;g<a.length;g++){if(f=Number(a[g]),isNaN(f))return;c.push(f)}r.options._dashArray=c}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||b(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var a=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new le,this._redrawBounds.extend(r._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(r._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var a=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,a=this._redrawBounds;if(this._ctx.save(),a){var c=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)r=f.layer,(!a||r._pxBounds&&r._pxBounds.intersects(a))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,a){if(this._drawing){var c,f,g,E,k=r._parts,F=k.length,U=this._ctx;if(F){for(U.beginPath(),c=0;c<F;c++){for(f=0,g=k[c].length;f<g;f++)E=k[c][f],U[f?"lineTo":"moveTo"](E.x,E.y);a&&U.closePath()}this._fillStroke(U,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var a=r._point,c=this._ctx,f=Math.max(Math.round(r._radius),1),g=(Math.max(Math.round(r._radiusY),1)||f)/f;g!==1&&(c.save(),c.scale(1,g)),c.beginPath(),c.arc(a.x,a.y/g,f,0,Math.PI*2,!1),g!==1&&c.restore(),this._fillStroke(c,r)}},_fillStroke:function(r,a){var c=a.options;c.fill&&(r.globalAlpha=c.fillOpacity,r.fillStyle=c.fillColor||c.color,r.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(r.setLineDash&&r.setLineDash(a.options&&a.options._dashArray||[]),r.globalAlpha=c.opacity,r.lineWidth=c.weight,r.strokeStyle=c.color,r.lineCap=c.lineCap,r.lineJoin=c.lineJoin,r.stroke())},_onClick:function(r){for(var a=this._map.mouseEventToLayerPoint(r),c,f,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(a)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(c))&&(f=c);this._fireEvent(f?[f]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,a)}},_handleMouseOut:function(r){var a=this._hoveredLayer;a&&(Oe(this._container,"leaflet-interactive"),this._fireEvent([a],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,a){if(!this._mouseHoverThrottled){for(var c,f,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(a)&&(f=c);f!==this._hoveredLayer&&(this._handleMouseOut(r),f&&(te(this._container,"leaflet-interactive"),this._fireEvent([f],r,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,a,c){this._map._fireDOMEvent(a,c||a.type,r)},_bringToFront:function(r){var a=r._order;if(a){var c=a.next,f=a.prev;if(c)c.prev=f;else return;f?f.next=c:c&&(this._drawFirst=c),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(r)}},_bringToBack:function(r){var a=r._order;if(a){var c=a.next,f=a.prev;if(f)f.next=c;else return;c?c.prev=f:f&&(this._drawLast=f),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(r)}}});function lm(r){return ie.canvas?new am(r):null}var ea=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),B1={_initContainer:function(){this._container=Ee("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(pi.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var a=r._container=ea("shape");te(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",r._path=ea("path"),a.appendChild(r._path),this._updateStyle(r),this._layers[d(r)]=r},_addPath:function(r){var a=r._container;this._container.appendChild(a),r.options.interactive&&r.addInteractiveTarget(a)},_removePath:function(r){var a=r._container;Ce(a),r.removeInteractiveTarget(a),delete this._layers[d(r)]},_updateStyle:function(r){var a=r._stroke,c=r._fill,f=r.options,g=r._container;g.stroked=!!f.stroke,g.filled=!!f.fill,f.stroke?(a||(a=r._stroke=ea("stroke")),g.appendChild(a),a.weight=f.weight+"px",a.color=f.color,a.opacity=f.opacity,f.dashArray?a.dashStyle=A(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=f.lineCap.replace("butt","flat"),a.joinstyle=f.lineJoin):a&&(g.removeChild(a),r._stroke=null),f.fill?(c||(c=r._fill=ea("fill")),g.appendChild(c),c.color=f.fillColor||f.color,c.opacity=f.fillOpacity):c&&(g.removeChild(c),r._fill=null)},_updateCircle:function(r){var a=r._point.round(),c=Math.round(r._radius),f=Math.round(r._radiusY||c);this._setPath(r,r._empty()?"M0 0":"AL "+a.x+","+a.y+" "+c+","+f+" 0,"+65535*360)},_setPath:function(r,a){r._path.v=a},_bringToFront:function(r){hn(r._container)},_bringToBack:function(r){fn(r._container)}},Yl=ie.vml?ea:El,ta=pi.extend({_initContainer:function(){this._container=Yl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Yl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ce(this._container),be(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){pi.prototype._update.call(this);var r=this._bounds,a=r.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,c.setAttribute("width",a.x),c.setAttribute("height",a.y)),Ge(c,r.min),c.setAttribute("viewBox",[r.min.x,r.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(r){var a=r._path=Yl("path");r.options.className&&te(a,r.options.className),r.options.interactive&&te(a,"leaflet-interactive"),this._updateStyle(r),this._layers[d(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Ce(r._path),r.removeInteractiveTarget(r._path),delete this._layers[d(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var a=r._path,c=r.options;a&&(c.stroke?(a.setAttribute("stroke",c.color),a.setAttribute("stroke-opacity",c.opacity),a.setAttribute("stroke-width",c.weight),a.setAttribute("stroke-linecap",c.lineCap),a.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?a.setAttribute("stroke-dasharray",c.dashArray):a.removeAttribute("stroke-dasharray"),c.dashOffset?a.setAttribute("stroke-dashoffset",c.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),c.fill?(a.setAttribute("fill",c.fillColor||c.color),a.setAttribute("fill-opacity",c.fillOpacity),a.setAttribute("fill-rule",c.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(r,a){this._setPath(r,us(r._parts,a))},_updateCircle:function(r){var a=r._point,c=Math.max(Math.round(r._radius),1),f=Math.max(Math.round(r._radiusY),1)||c,g="a"+c+","+f+" 0 1,0 ",E=r._empty()?"M0 0":"M"+(a.x-c)+","+a.y+g+c*2+",0 "+g+-c*2+",0 ";this._setPath(r,E)},_setPath:function(r,a){r._path.setAttribute("d",a)},_bringToFront:function(r){hn(r._path)},_bringToBack:function(r){fn(r._path)}});ie.vml&&ta.include(B1);function um(r){return ie.svg||ie.vml?new ta(r):null}ge.include({getRenderer:function(r){var a=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var a=this._paneRenderers[r];return a===void 0&&(a=this._createRenderer({pane:r}),this._paneRenderers[r]=a),a},_createRenderer:function(r){return this.options.preferCanvas&&lm(r)||um(r)}});var cm=Ns.extend({initialize:function(r,a){Ns.prototype.initialize.call(this,this._boundsToLatLngs(r),a)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=Pe(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function j1(r,a){return new cm(r,a)}ta.create=Yl,ta.pointsToPath=us,di.geometryToLayer=Wl,di.coordsToLatLng=mh,di.coordsToLatLngs=Zl,di.latLngToCoords=gh,di.latLngsToCoords=ql,di.getFeature=Os,di.asFeature=Gl,ge.mergeOptions({boxZoom:!0});var hm=en.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){he(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){be(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ce(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Sn(),ws(),this._startPoint=this._map.mouseEventToContainerPoint(r),he(document,{contextmenu:jn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=Ee("div","leaflet-zoom-box",this._container),te(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var a=new le(this._point,this._startPoint),c=a.getSize();Ge(this._box,a.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(Ce(this._box),Oe(this._container,"leaflet-crosshair")),Jt(),Es(),be(document,{contextmenu:jn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var a=new qe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ge.addInitHook("addHandler","boxZoom",hm),ge.mergeOptions({doubleClickZoom:!0});var fm=en.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var a=this._map,c=a.getZoom(),f=a.options.zoomDelta,g=r.originalEvent.shiftKey?c-f:c+f;a.options.doubleClickZoom==="center"?a.setZoom(g):a.setZoomAround(r.containerPoint,g)}});ge.addInitHook("addHandler","doubleClickZoom",fm),ge.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var dm=en.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Pn(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}te(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Oe(this._map._container,"leaflet-grab"),Oe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=Pe(this._map.options.maxBounds);this._offsetLimit=ve(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var a=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(a),this._prunePositions(a)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,a){return r-(r-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;r.x<a.min.x&&(r.x=this._viscousLimit(r.x,a.min.x)),r.y<a.min.y&&(r.y=this._viscousLimit(r.y,a.min.y)),r.x>a.max.x&&(r.x=this._viscousLimit(r.x,a.max.x)),r.y>a.max.y&&(r.y=this._viscousLimit(r.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,a=Math.round(r/2),c=this._initialWorldOffset,f=this._draggable._newPos.x,g=(f-a+c)%r+a-c,E=(f+a+c)%r-a-c,k=Math.abs(g+c)<Math.abs(E+c)?g:E;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=k},_onDragEnd:function(r){var a=this._map,c=a.options,f=!c.inertia||r.noInertia||this._times.length<2;if(a.fire("dragend",r),f)a.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),E=(this._lastTime-this._times[0])/1e3,k=c.easeLinearity,F=g.multiplyBy(k/E),U=F.distanceTo([0,0]),G=Math.min(c.inertiaMaxSpeed,U),ee=F.multiplyBy(G/U),ue=G/(c.inertiaDeceleration*k),_e=ee.multiplyBy(-ue/2).round();!_e.x&&!_e.y?a.fire("moveend"):(_e=a._limitOffset(_e,a.options.maxBounds),b(function(){a.panBy(_e,{duration:ue,easeLinearity:k,noMoveStart:!0,animate:!0})}))}}});ge.addInitHook("addHandler","dragging",dm),ge.mergeOptions({keyboard:!0,keyboardPanDelta:80});var pm=en.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),he(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),be(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,a=document.documentElement,c=r.scrollTop||a.scrollTop,f=r.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(f,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var a=this._panKeys={},c=this.keyCodes,f,g;for(f=0,g=c.left.length;f<g;f++)a[c.left[f]]=[-1*r,0];for(f=0,g=c.right.length;f<g;f++)a[c.right[f]]=[r,0];for(f=0,g=c.down.length;f<g;f++)a[c.down[f]]=[0,r];for(f=0,g=c.up.length;f<g;f++)a[c.up[f]]=[0,-1*r]},_setZoomDelta:function(r){var a=this._zoomKeys={},c=this.keyCodes,f,g;for(f=0,g=c.zoomIn.length;f<g;f++)a[c.zoomIn[f]]=r;for(f=0,g=c.zoomOut.length;f<g;f++)a[c.zoomOut[f]]=-r},_addHooks:function(){he(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){be(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var a=r.keyCode,c=this._map,f;if(a in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(f=this._panKeys[a],r.shiftKey&&(f=Y(f).multiplyBy(3)),c.options.maxBounds&&(f=c._limitOffset(Y(f),c.options.maxBounds)),c.options.worldCopyJump){var g=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(f)));c.panTo(g)}else c.panBy(f)}else if(a in this._zoomKeys)c.setZoom(c.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;jn(r)}}});ge.addInitHook("addHandler","keyboard",pm),ge.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var mm=en.extend({addHooks:function(){he(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){be(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var a=$o(r),c=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var f=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),f),jn(r)},_performZoom:function(){var r=this._map,a=r.getZoom(),c=this._map.options.zoomSnap||0;r._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,E=c?Math.ceil(g/c)*c:g,k=r._limitZoom(a+(this._delta>0?E:-E))-a;this._delta=0,this._startTime=null,k&&(r.options.scrollWheelZoom==="center"?r.setZoom(a+k):r.setZoomAround(this._lastMousePos,a+k))}});ge.addInitHook("addHandler","scrollWheelZoom",mm);var U1=600;ge.mergeOptions({tapHold:ie.touchNative&&ie.safari&&ie.mobile,tapTolerance:15});var gm=en.extend({addHooks:function(){he(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){be(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var a=r.touches[0];this._startPos=this._newPos=new H(a.clientX,a.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(he(document,"touchend",Je),he(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),U1),he(document,"touchend touchcancel contextmenu",this._cancel,this),he(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){be(document,"touchend",Je),be(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),be(document,"touchend touchcancel contextmenu",this._cancel,this),be(document,"touchmove",this._onMove,this)},_onMove:function(r){var a=r.touches[0];this._newPos=new H(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,a){var c=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});c._simulated=!0,a.target.dispatchEvent(c)}});ge.addInitHook("addHandler","tapHold",gm),ge.mergeOptions({touchZoom:ie.touch,bounceAtZoomLimits:!0});var _m=en.extend({addHooks:function(){te(this._map._container,"leaflet-touch-zoom"),he(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Oe(this._map._container,"leaflet-touch-zoom"),be(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var a=this._map;if(!(!r.touches||r.touches.length!==2||a._animatingZoom||this._zooming)){var c=a.mouseEventToContainerPoint(r.touches[0]),f=a.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(c.add(f)._divideBy(2))),this._startDist=c.distanceTo(f),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),he(document,"touchmove",this._onTouchMove,this),he(document,"touchend touchcancel",this._onTouchEnd,this),Je(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var a=this._map,c=a.mouseEventToContainerPoint(r.touches[0]),f=a.mouseEventToContainerPoint(r.touches[1]),g=c.distanceTo(f)/this._startDist;if(this._zoom=a.getScaleZoom(g,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&g<1||this._zoom>a.getMaxZoom()&&g>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var E=c._add(f)._divideBy(2)._subtract(this._centerPoint);if(g===1&&E.x===0&&E.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(E),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),D(this._animRequest);var k=l(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=b(k,this,!0),Je(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,D(this._animRequest),be(document,"touchmove",this._onTouchMove,this),be(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ge.addInitHook("addHandler","touchZoom",_m),ge.BoxZoom=hm,ge.DoubleClickZoom=fm,ge.Drag=dm,ge.Keyboard=pm,ge.ScrollWheelZoom=mm,ge.TapHold=gm,ge.TouchZoom=_m,n.Bounds=le,n.Browser=ie,n.CRS=ot,n.Canvas=am,n.Circle=ph,n.CircleMarker=Hl,n.Class=Se,n.Control=Ht,n.DivIcon=rm,n.DivOverlay=Zn,n.DomEvent=br,n.DomUtil=dh,n.Draggable=Pn,n.Evented=jt,n.FeatureGroup=hi,n.GeoJSON=di,n.GridLayer=Jo,n.Handler=en,n.Icon=bs,n.ImageOverlay=Kl,n.LatLng=we,n.LatLngBounds=qe,n.Layer=Cn,n.LayerGroup=Rs,n.LineUtil=pn,n.Map=ge,n.Marker=$l,n.Mixin=jl,n.Path=Bi,n.Point=H,n.PolyUtil=As,n.Polygon=Ns,n.Polyline=fi,n.Popup=Ql,n.PosAnimation=Wo,n.Projection=Wn,n.Rectangle=cm,n.Renderer=pi,n.SVG=ta,n.SVGOverlay=im,n.TileLayer=Ds,n.Tooltip=Xl,n.Transformation=ko,n.Util=C,n.VideoOverlay=nm,n.bind=l,n.bounds=ve,n.canvas=lm,n.circle=A1,n.circleMarker=C1,n.control=$n,n.divIcon=V1,n.extend=s,n.featureGroup=S1,n.geoJSON=tm,n.geoJson=R1,n.gridLayer=z1,n.icon=P1,n.imageOverlay=b1,n.latLng=ce,n.latLngBounds=Pe,n.layerGroup=x1,n.map=Ss,n.marker=I1,n.point=Y,n.polygon=L1,n.polyline=k1,n.popup=D1,n.rectangle=j1,n.setOptions=V,n.stamp=d,n.svg=um,n.svgOverlay=O1,n.tileLayer=sm,n.tooltip=M1,n.transformation=Li,n.version=i,n.videoOverlay=N1;var $1=window.L;n.noConflict=function(){return window.L=$1,this},window.L=n})})(ed,ed.exports);var fl=ed.exports;const I0=ry(fl);function gp(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function _p(t,e){return e==null?function(i,s){const o=ae.useRef();return o.current||(o.current=t(i,s)),o}:function(i,s){const o=ae.useRef();o.current||(o.current=t(i,s));const l=ae.useRef(i),{instance:h}=o.current;return ae.useEffect(function(){l.current!==i&&(e(h,i,l.current),l.current=i)},[h,i,s]),o}}function lS(t,e){ae.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var o;(o=e.layerContainer)==null||o.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function C0(t){return function(n){const i=S0(),s=t(mp(n,i),i);return E0(i.map,n.attribution),P0(s.current,n.eventHandlers),lS(s.current,i),s}}function uS(t,e){const n=_p(t,e),i=C0(n);return rS(i)}function cS(t,e){const n=_p(t),i=aS(n,e);return sS(i)}function hS(t,e){const n=_p(t,e),i=C0(n);return oS(i)}function fS(t,e,n){const{opacity:i,zIndex:s}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),s!=null&&s!==n.zIndex&&t.setZIndex(s)}function td(){return td=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},td.apply(this,arguments)}function dS({bounds:t,boundsOptions:e,center:n,children:i,className:s,id:o,placeholder:l,style:h,whenReady:d,zoom:m,...y},w){const[v]=ae.useState({className:s,id:o,style:h}),[O,M]=ae.useState(null);ae.useImperativeHandle(w,()=>(O==null?void 0:O.map)??null,[O]);const V=ae.useCallback(N=>{if(N!==null&&O===null){const P=new fl.Map(N,y);n!=null&&m!=null?P.setView(n,m):t!=null&&P.fitBounds(t,e),d!=null&&P.whenReady(d),M(nS(P))}},[]);ae.useEffect(()=>()=>{O==null||O.map.remove()},[O]);const W=O?ju.createElement(x0,{value:O},i):l??null;return ju.createElement("div",td({},v,{ref:V}),W)}const pS=ae.forwardRef(dS),mS=uS(function({position:e,...n},i){const s=new fl.Marker(e,n);return gp(s,iS(i,{overlayContainer:s}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),gS=cS(function(e,n){const i=new fl.Popup(e,n.overlayContainer);return gp(i,n)},function(e,n,{position:i},s){ae.useEffect(function(){const{instance:l}=e;function h(m){m.popup===l&&(l.update(),s(!0))}function d(m){m.popup===l&&s(!1)}return n.map.on({popupopen:h,popupclose:d}),n.overlayContainer==null?(i!=null&&l.setLatLng(i),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){var y;n.map.off({popupopen:h,popupclose:d}),(y=n.overlayContainer)==null||y.unbindPopup(),n.map.removeLayer(l)}},[e,n,s,i])}),_S=hS(function({url:e,...n},i){const s=new fl.TileLayer(e,mp(n,i));return gp(s,i)},function(e,n,i){fS(e,n,i);const{url:s}=n;s!=null&&s!==i.url&&e.setUrl(s)});delete I0.Icon.Default.prototype._getIconUrl;I0.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});function yS(){const{t}=ss(),e=[49.64130672524696,8.361853907920278];return $.jsx("section",{id:"map",className:"py-20 bg-white",children:$.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[$.jsx("div",{className:"text-center mb-12",children:$.jsx("h2",{className:"text-3xl font-serif text-stone-800 mb-4",children:t("map.title")})}),$.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[$.jsx("div",{className:"h-[400px] rounded-lg overflow-hidden shadow-md z-0",children:$.jsxs(pS,{center:e,zoom:13,style:{height:"100%",width:"100%"},children:[$.jsx(_S,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),$.jsx(mS,{position:e,children:$.jsxs(gS,{children:["Wedding Location ",$.jsx("br",{})," Worms"]})})]})}),$.jsxs("div",{className:"space-y-6",children:[$.jsxs("div",{className:"bg-stone-50 p-6 rounded-lg",children:[$.jsxs("h3",{className:"font-serif text-xl mb-4 text-stone-800",children:[t("map.hotel")," 1"]}),$.jsx("p",{className:"text-stone-600 mb-2",children:"Dormero Hotel Worms"}),$.jsx("p",{className:"text-sm text-stone-500",children:"Prinz-Carl-Anlage 10, 67547 Worms"}),$.jsx("a",{href:"https://www.dormero.de/hotel-worms/",className:"text-stone-800 underline text-sm mt-2 inline-block",target:"_blank",children:"Website"})]}),$.jsxs("div",{className:"bg-stone-50 p-6 rounded-lg",children:[$.jsxs("h3",{className:"font-serif text-xl mb-4 text-stone-800",children:[t("map.hotel")," 2"]}),$.jsx("p",{className:"text-stone-600 mb-2",children:"Hotel Montenegro"}),$.jsx("p",{className:"text-sm text-stone-500",children:"Gaustrae 1, 67547 Worms"}),$.jsx("a",{href:"https://hotelmontenegro.de/",className:"text-stone-800 underline text-sm mt-2 inline-block",target:"_blank",children:"Website"})]})]})]})]})})}function vS(){const{t}=ss(),[e,n]=ae.useState(null),i=s=>{n(e===s?null:s)};return $.jsx("section",{id:"faq",className:"py-20 bg-white",children:$.jsxs("div",{className:"max-w-3xl mx-auto px-4",children:[$.jsx("div",{className:"text-center mb-12",children:$.jsx("h2",{className:"text-3xl font-serif text-stone-800 mb-4",children:t("faq.title")})}),$.jsx("div",{className:"space-y-4",children:(t("faq.list",{returnObjects:!0})||[]).map((s,o)=>$.jsxs("div",{className:"border border-stone-200 rounded-lg overflow-hidden transition-all duration-200",children:[$.jsxs("button",{className:"w-full flex justify-between items-center p-4 bg-stone-50 hover:bg-stone-100 transition-colors text-left",onClick:()=>i(o),children:[$.jsx("span",{className:"font-medium text-stone-800 pr-4",children:s.question}),e===o?$.jsx(qx,{className:"w-5 h-5 text-stone-500 flex-shrink-0"}):$.jsx(Zx,{className:"w-5 h-5 text-stone-500 flex-shrink-0"})]}),e===o&&$.jsx("div",{className:"p-4 bg-white text-stone-600 border-t border-stone-100",children:s.answer})]},o))})]})})}const wS=()=>{};var Dg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ES=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],h=t[n++],d=((s&7)<<18|(o&63)<<12|(l&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],l=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},k0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,h=l?t[s+1]:0,d=s+2<t.length,m=d?t[s+2]:0,y=o>>2,w=(o&3)<<4|h>>4;let v=(h&15)<<2|m>>6,O=m&63;d||(O=64,l||(v=64)),i.push(n[y],n[w],n[v],n[O])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(A0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ES(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],h=s<t.length?n[t.charAt(s)]:0;++s;const m=s<t.length?n[t.charAt(s)]:64;++s;const w=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||h==null||m==null||w==null)throw new TS;const v=o<<2|h>>4;if(i.push(v),m!==64){const O=h<<4&240|m>>2;if(i.push(O),w!==64){const M=m<<6&192|w;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class TS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xS=function(t){const e=A0(t);return k0.encodeByteArray(e,!0)},fc=function(t){return xS(t).replace(/\./g,"")},SS=function(t){try{return k0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=()=>PS().__FIREBASE_DEFAULTS__,CS=()=>{if(typeof process>"u"||typeof Dg>"u")return;const t=Dg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&SS(t[1]);return e&&JSON.parse(e)},yp=()=>{try{return wS()||IS()||CS()||AS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kS=t=>{var e,n;return(n=(e=yp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},LS=t=>{const e=kS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},L0=()=>{var t;return(t=yp())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[fc(JSON.stringify(n)),fc(JSON.stringify(l)),""].join(".")}const Aa={};function OS(){const t={prod:[],emulator:[]};for(const e of Object.keys(Aa))Aa[e]?t.emulator.push(e):t.prod.push(e);return t}function DS(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Mg=!1;function MS(t,e){if(typeof window>"u"||typeof document>"u"||!vp(window.location.host)||Aa[t]===e||Aa[t]||Mg)return;Aa[t]=e;function n(v){return`__firebase__banner__${v}`}const i="__firebase__banner",o=OS().prod.length>0;function l(){const v=document.getElementById(i);v&&v.remove()}function h(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,O){v.setAttribute("width","24"),v.setAttribute("id",O),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function m(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Mg=!0,l()},v}function y(v,O){v.setAttribute("id",O),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function w(){const v=DS(i),O=n("text"),M=document.getElementById(O)||document.createElement("span"),V=n("learnmore"),W=document.getElementById(V)||document.createElement("a"),N=n("preprendIcon"),P=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const A=v.element;h(A),y(W,V);const B=m();d(P,N),A.append(P,M,W,B),document.body.appendChild(A)}o?(M.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zS(){var e;const t=(e=yp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function BS(){return!zS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function R0(){try{return typeof indexedDB=="object"}catch{return!1}}function b0(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}function jS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="FirebaseError";class gr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=US,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qc.prototype.create)}}class qc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?$S(o,i):"Error",h=`${this.serviceName}: ${l} (${s}).`;return new gr(s,h,i)}}function $S(t,e){return t.replace(HS,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const HS=/\{\$([^}]+)}/g;function Ya(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const o=t[s],l=e[s];if(Vg(o)&&Vg(l)){if(!Ya(o,l))return!1}else if(o!==l)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function Vg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=1e3,ZS=2,qS=4*60*60*1e3,GS=.5;function zg(t,e=WS,n=ZS){const i=e*Math.pow(n,t),s=Math.round(GS*i*(Math.random()-.5)*2);return Math.min(qS,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(t){return t&&t._delegate?t._delegate:t}class Ci{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new RS;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XS(e))try{this.getOrInitializeService({instanceIdentifier:Dr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=Dr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Dr){return this.instances.has(e)}getOptions(e=Dr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&l.resolve(s)}return s}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:QS(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Dr){return this.component?this.component.multipleInstances?e:Dr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QS(t){return t===Dr?void 0:t}function XS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const JS={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},eP=xe.INFO,tP={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},nP=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=tP[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let wp=class{constructor(e){this.name=e,this._logLevel=eP,this._logHandler=nP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}};const iP=(t,e)=>e.some(n=>t instanceof n);let Fg,Bg;function rP(){return Fg||(Fg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sP(){return Bg||(Bg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const N0=new WeakMap,nd=new WeakMap,O0=new WeakMap,Wh=new WeakMap,Ep=new WeakMap;function oP(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(nr(t.result)),s()},l=()=>{i(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&N0.set(n,t)}).catch(()=>{}),Ep.set(e,t),e}function aP(t){if(nd.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});nd.set(t,e)}let id={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return nd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||O0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lP(t){id=t(id)}function uP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Zh(this),e,...n);return O0.set(i,e.sort?e.sort():[e]),nr(i)}:sP().includes(t)?function(...e){return t.apply(Zh(this),e),nr(N0.get(this))}:function(...e){return nr(t.apply(Zh(this),e))}}function cP(t){return typeof t=="function"?uP(t):(t instanceof IDBTransaction&&aP(t),iP(t,rP())?new Proxy(t,id):t)}function nr(t){if(t instanceof IDBRequest)return oP(t);if(Wh.has(t))return Wh.get(t);const e=cP(t);return e!==t&&(Wh.set(t,e),Ep.set(e,t)),e}const Zh=t=>Ep.get(t);function D0(t,e,{blocked:n,upgrade:i,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),h=nr(l);return i&&l.addEventListener("upgradeneeded",d=>{i(nr(l.result),d.oldVersion,d.newVersion,nr(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const hP=["get","getKey","getAll","getAllKeys","count"],fP=["put","add","delete","clear"],qh=new Map;function jg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qh.get(e))return qh.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=fP.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||hP.includes(n)))return;const o=async function(l,...h){const d=this.transaction(l,s?"readwrite":"readonly");let m=d.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),s&&d.done]))[0]};return qh.set(e,o),o}lP(t=>({...t,get:(e,n,i)=>jg(e,n)||t.get(e,n,i),has:(e,n)=>!!jg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pP(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function pP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rd="@firebase/app",Ug="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new wp("@firebase/app"),mP="@firebase/app-compat",gP="@firebase/analytics-compat",_P="@firebase/analytics",yP="@firebase/app-check-compat",vP="@firebase/app-check",wP="@firebase/auth",EP="@firebase/auth-compat",TP="@firebase/database",xP="@firebase/data-connect",SP="@firebase/database-compat",PP="@firebase/functions",IP="@firebase/functions-compat",CP="@firebase/installations",AP="@firebase/installations-compat",kP="@firebase/messaging",LP="@firebase/messaging-compat",RP="@firebase/performance",bP="@firebase/performance-compat",NP="@firebase/remote-config",OP="@firebase/remote-config-compat",DP="@firebase/storage",MP="@firebase/storage-compat",VP="@firebase/firestore",zP="@firebase/ai",FP="@firebase/firestore-compat",BP="firebase",jP="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd="[DEFAULT]",UP={[rd]:"fire-core",[mP]:"fire-core-compat",[_P]:"fire-analytics",[gP]:"fire-analytics-compat",[vP]:"fire-app-check",[yP]:"fire-app-check-compat",[wP]:"fire-auth",[EP]:"fire-auth-compat",[TP]:"fire-rtdb",[xP]:"fire-data-connect",[SP]:"fire-rtdb-compat",[PP]:"fire-fn",[IP]:"fire-fn-compat",[CP]:"fire-iid",[AP]:"fire-iid-compat",[kP]:"fire-fcm",[LP]:"fire-fcm-compat",[RP]:"fire-perf",[bP]:"fire-perf-compat",[NP]:"fire-rc",[OP]:"fire-rc-compat",[DP]:"fire-gcs",[MP]:"fire-gcs-compat",[VP]:"fire-fst",[FP]:"fire-fst-compat",[zP]:"fire-vertex","fire-js":"fire-js",[BP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=new Map,$P=new Map,od=new Map;function $g(t,e){try{t.container.addComponent(e)}catch(n){Ai.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function lr(t){const e=t.name;if(od.has(e))return Ai.debug(`There were multiple attempts to register component ${e}.`),!1;od.set(e,t);for(const n of dc.values())$g(n,t);for(const n of $P.values())$g(n,t);return!0}function dl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function HP(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new qc("app","Firebase",WP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ci("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP=jP;function M0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:sd,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw ir.create("bad-app-name",{appName:String(s)});if(n||(n=L0()),!n)throw ir.create("no-options");const o=dc.get(s);if(o){if(Ya(n,o.options)&&Ya(i,o.config))return o;throw ir.create("duplicate-app",{appName:s})}const l=new YS(s);for(const d of od.values())l.addComponent(d);const h=new ZP(n,i,l);return dc.set(s,h),h}function V0(t=sd){const e=dc.get(t);if(!e&&t===sd&&L0())return M0();if(!e)throw ir.create("no-app",{appName:t});return e}function ei(t,e,n){let i=UP[t]??t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ai.warn(l.join(" "));return}lr(new Ci(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP="firebase-heartbeat-database",KP=1,Ja="firebase-heartbeat-store";let Gh=null;function z0(){return Gh||(Gh=D0(GP,KP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ja)}catch(n){console.warn(n)}}}}).catch(t=>{throw ir.create("idb-open",{originalErrorMessage:t.message})})),Gh}async function QP(t){try{const n=(await z0()).transaction(Ja),i=await n.objectStore(Ja).get(F0(t));return await n.done,i}catch(e){if(e instanceof gr)Ai.warn(e.message);else{const n=ir.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ai.warn(n.message)}}}async function Hg(t,e){try{const i=(await z0()).transaction(Ja,"readwrite");await i.objectStore(Ja).put(e,F0(t)),await i.done}catch(n){if(n instanceof gr)Ai.warn(n.message);else{const i=ir.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ai.warn(i.message)}}}function F0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=1024,YP=30;class JP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tI(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Wg();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>YP){const l=nI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ai.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Wg(),{heartbeatsToSend:i,unsentEntries:s}=eI(this._heartbeatsCache.heartbeats),o=fc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ai.warn(n),""}}}function Wg(){return new Date().toISOString().substring(0,10)}function eI(t,e=XP){const n=[];let i=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),Zg(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Zg(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class tI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return R0()?b0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Hg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Hg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Zg(t){return fc(JSON.stringify({version:2,heartbeats:t})).length}function nI(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(t){lr(new Ci("platform-logger",e=>new dP(e),"PRIVATE")),lr(new Ci("heartbeat",e=>new JP(e),"PRIVATE")),ei(rd,Ug,t),ei(rd,Ug,"esm2020"),ei("fire-js","")}iI("");var rI="firebase",sI="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei(rI,sI,"app");const B0="@firebase/installations",Tp="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=1e4,U0=`w:${Tp}`,$0="FIS_v2",oI="https://firebaseinstallations.googleapis.com/v1",aI=60*60*1e3,lI="installations",uI="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Xr=new qc(lI,uI,cI);function H0(t){return t instanceof gr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0({projectId:t}){return`${oI}/projects/${t}/installations`}function Z0(t){return{token:t.token,requestStatus:2,expiresIn:fI(t.expiresIn),creationTime:Date.now()}}async function q0(t,e){const i=(await e.json()).error;return Xr.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function G0({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function hI(t,{refreshToken:e}){const n=G0(t);return n.append("Authorization",dI(e)),n}async function K0(t){const e=await t();return e.status>=500&&e.status<600?t():e}function fI(t){return Number(t.replace("s","000"))}function dI(t){return`${$0} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=W0(t),s=G0(t),o=e.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&s.append("x-firebase-client",m)}const l={fid:n,authVersion:$0,appId:t.appId,sdkVersion:U0},h={method:"POST",headers:s,body:JSON.stringify(l)},d=await K0(()=>fetch(i,h));if(d.ok){const m=await d.json();return{fid:m.fid||n,registrationStatus:2,refreshToken:m.refreshToken,authToken:Z0(m.authToken)}}else throw await q0("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=/^[cdef][\w-]{21}$/,ad="";function _I(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=yI(t);return gI.test(n)?n:ad}catch{return ad}}function yI(t){return mI(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=new Map;function Y0(t,e){const n=Gc(t);J0(n,e),vI(n,e)}function J0(t,e){const n=X0.get(t);if(n)for(const i of n)i(e)}function vI(t,e){const n=wI();n&&n.postMessage({key:t,fid:e}),EI()}let Fr=null;function wI(){return!Fr&&"BroadcastChannel"in self&&(Fr=new BroadcastChannel("[Firebase] FID Change"),Fr.onmessage=t=>{J0(t.data.key,t.data.fid)}),Fr}function EI(){X0.size===0&&Fr&&(Fr.close(),Fr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="firebase-installations-database",xI=1,Yr="firebase-installations-store";let Kh=null;function xp(){return Kh||(Kh=D0(TI,xI,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Yr)}}})),Kh}async function pc(t,e){const n=Gc(t),s=(await xp()).transaction(Yr,"readwrite"),o=s.objectStore(Yr),l=await o.get(n);return await o.put(e,n),await s.done,(!l||l.fid!==e.fid)&&Y0(t,e.fid),e}async function ew(t){const e=Gc(t),i=(await xp()).transaction(Yr,"readwrite");await i.objectStore(Yr).delete(e),await i.done}async function Kc(t,e){const n=Gc(t),s=(await xp()).transaction(Yr,"readwrite"),o=s.objectStore(Yr),l=await o.get(n),h=e(l);return h===void 0?await o.delete(n):await o.put(h,n),await s.done,h&&(!l||l.fid!==h.fid)&&Y0(t,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sp(t){let e;const n=await Kc(t.appConfig,i=>{const s=SI(i),o=PI(t,s);return e=o.registrationPromise,o.installationEntry});return n.fid===ad?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function SI(t){const e=t||{fid:_I(),registrationStatus:0};return tw(e)}function PI(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Xr.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=II(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:CI(t)}:{installationEntry:e}}async function II(t,e){try{const n=await pI(t,e);return pc(t.appConfig,n)}catch(n){throw H0(n)&&n.customData.serverCode===409?await ew(t.appConfig):await pc(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function CI(t){let e=await qg(t.appConfig);for(;e.registrationStatus===1;)await Q0(100),e=await qg(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Sp(t);return i||n}return e}function qg(t){return Kc(t,e=>{if(!e)throw Xr.create("installation-not-found");return tw(e)})}function tw(t){return AI(t)?{fid:t.fid,registrationStatus:0}:t}function AI(t){return t.registrationStatus===1&&t.registrationTime+j0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI({appConfig:t,heartbeatServiceProvider:e},n){const i=LI(t,n),s=hI(t,n),o=e.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&s.append("x-firebase-client",m)}const l={installation:{sdkVersion:U0,appId:t.appId}},h={method:"POST",headers:s,body:JSON.stringify(l)},d=await K0(()=>fetch(i,h));if(d.ok){const m=await d.json();return Z0(m)}else throw await q0("Generate Auth Token",d)}function LI(t,{fid:e}){return`${W0(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pp(t,e=!1){let n;const i=await Kc(t.appConfig,o=>{if(!nw(o))throw Xr.create("not-registered");const l=o.authToken;if(!e&&NI(l))return o;if(l.requestStatus===1)return n=RI(t,e),o;{if(!navigator.onLine)throw Xr.create("app-offline");const h=DI(o);return n=bI(t,h),h}});return n?await n:i.authToken}async function RI(t,e){let n=await Gg(t.appConfig);for(;n.authToken.requestStatus===1;)await Q0(100),n=await Gg(t.appConfig);const i=n.authToken;return i.requestStatus===0?Pp(t,e):i}function Gg(t){return Kc(t,e=>{if(!nw(e))throw Xr.create("not-registered");const n=e.authToken;return MI(n)?{...e,authToken:{requestStatus:0}}:e})}async function bI(t,e){try{const n=await kI(t,e),i={...e,authToken:n};return await pc(t.appConfig,i),n}catch(n){if(H0(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await ew(t.appConfig);else{const i={...e,authToken:{requestStatus:0}};await pc(t.appConfig,i)}throw n}}function nw(t){return t!==void 0&&t.registrationStatus===2}function NI(t){return t.requestStatus===2&&!OI(t)}function OI(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+aI}function DI(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function MI(t){return t.requestStatus===1&&t.requestTime+j0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VI(t){const e=t,{installationEntry:n,registrationPromise:i}=await Sp(e);return i?i.catch(console.error):Pp(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(t,e=!1){const n=t;return await FI(n),(await Pp(n,e)).token}async function FI(t){const{registrationPromise:e}=await Sp(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(t){if(!t||!t.options)throw Qh("App Configuration");if(!t.name)throw Qh("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Qh(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Qh(t){return Xr.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="installations",jI="installations-internal",UI=t=>{const e=t.getProvider("app").getImmediate(),n=BI(e),i=dl(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},$I=t=>{const e=t.getProvider("app").getImmediate(),n=dl(e,iw).getImmediate();return{getId:()=>VI(n),getToken:s=>zI(n,s)}};function HI(){lr(new Ci(iw,UI,"PUBLIC")),lr(new Ci(jI,$I,"PRIVATE"))}HI();ei(B0,Tp);ei(B0,Tp,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc="analytics",WI="firebase_id",ZI="origin",qI=60*1e3,GI="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ip="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt=new wp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},sn=new qc("analytics","Analytics",KI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(t){if(!t.startsWith(Ip)){const e=sn.create("invalid-gtag-resource",{gtagURL:t});return zt.warn(e.message),""}return t}function rw(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function XI(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function YI(t,e){const n=XI("firebase-js-sdk-policy",{createScriptURL:QI}),i=document.createElement("script"),s=`${Ip}?l=${t}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function JI(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function eC(t,e,n,i,s,o){const l=i[s];try{if(l)await e[l];else{const d=(await rw(n)).find(m=>m.measurementId===s);d&&await e[d.appId]}}catch(h){zt.error(h)}t("config",s,o)}async function tC(t,e,n,i,s){try{let o=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const h=await rw(n);for(const d of l){const m=h.find(w=>w.measurementId===d),y=m&&e[m.appId];if(y)o.push(y);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",i,s||{})}catch(o){zt.error(o)}}function nC(t,e,n,i){async function s(o,...l){try{if(o==="event"){const[h,d]=l;await tC(t,e,n,h,d)}else if(o==="config"){const[h,d]=l;await eC(t,e,n,i,h,d)}else if(o==="consent"){const[h,d]=l;t("consent",h,d)}else if(o==="get"){const[h,d,m]=l;t("get",h,d,m)}else if(o==="set"){const[h]=l;t("set",h)}else t(o,...l)}catch(h){zt.error(h)}}return s}function iC(t,e,n,i,s){let o=function(...l){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(o=window[s]),window[s]=nC(o,t,e,n),{gtagCore:o,wrappedGtag:window[s]}}function rC(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Ip)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=30,oC=1e3;class aC{constructor(e={},n=oC){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const sw=new aC;function lC(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function uC(t){var l;const{appId:e,apiKey:n}=t,i={method:"GET",headers:lC(n)},s=GI.replace("{app-id}",e),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let h="";try{const d=await o.json();(l=d.error)!=null&&l.message&&(h=d.error.message)}catch{}throw sn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:h})}return o.json()}async function cC(t,e=sw,n){const{appId:i,apiKey:s,measurementId:o}=t.options;if(!i)throw sn.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:i};throw sn.create("no-api-key")}const l=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new dC;return setTimeout(async()=>{h.abort()},qI),ow({appId:i,apiKey:s,measurementId:o},l,h,e)}async function ow(t,{throttleEndTimeMillis:e,backoffCount:n},i,s=sw){var h;const{appId:o,measurementId:l}=t;try{await hC(i,e)}catch(d){if(l)return zt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:l};throw d}try{const d=await uC(t);return s.deleteThrottleMetadata(o),d}catch(d){const m=d;if(!fC(m)){if(s.deleteThrottleMetadata(o),l)return zt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:o,measurementId:l};throw d}const y=Number((h=m==null?void 0:m.customData)==null?void 0:h.httpStatus)===503?zg(n,s.intervalMillis,sC):zg(n,s.intervalMillis),w={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return s.setThrottleMetadata(o,w),zt.debug(`Calling attemptFetch again in ${y} millis`),ow(t,w,i,s)}}function hC(t,e){return new Promise((n,i)=>{const s=Math.max(e-Date.now(),0),o=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(o),i(sn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function fC(t){if(!(t instanceof gr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class dC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function pC(t,e,n,i,s){if(s&&s.global){t("event",n,i);return}else{const o=await e,l={...i,send_to:o};t("event",n,l)}}async function mC(t,e,n,i){if(i&&i.global){const s={};for(const o of Object.keys(n))s[`user_properties.${o}`]=n[o];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(){if(R0())try{await b0()}catch(t){return zt.warn(sn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return zt.warn(sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function _C(t,e,n,i,s,o,l){const h=cC(t);h.then(v=>{n[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&zt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>zt.error(v)),e.push(h);const d=gC().then(v=>{if(v)return i.getId()}),[m,y]=await Promise.all([h,d]);rC(o)||YI(o,m.measurementId),s("js",new Date);const w=(l==null?void 0:l.config)??{};return w[ZI]="firebase",w.update=!0,y!=null&&(w[WI]=y),s("config",m.measurementId,w),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.app=e}_delete(){return delete oo[this.app.options.appId],Promise.resolve()}}let oo={},Kg=[];const Qg={};let Xh="dataLayer",vC="gtag",Xg,Cp,Yg=!1;function wC(){const t=[];if(FS()&&t.push("This is a browser extension environment."),jS()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,s)=>`(${s+1}) ${i}`).join(" "),n=sn.create("invalid-analytics-context",{errorInfo:e});zt.warn(n.message)}}function EC(t,e,n){wC();const i=t.options.appId;if(!i)throw sn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)zt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw sn.create("no-api-key");if(oo[i]!=null)throw sn.create("already-exists",{id:i});if(!Yg){JI(Xh);const{wrappedGtag:o,gtagCore:l}=iC(oo,Kg,Qg,Xh,vC);Cp=o,Xg=l,Yg=!0}return oo[i]=_C(t,Kg,Qg,e,Xg,Xh,n),new yC(t)}function TC(t=V0()){t=ar(t);const e=dl(t,mc);return e.isInitialized()?e.getImmediate():xC(t)}function xC(t,e={}){const n=dl(t,mc);if(n.isInitialized()){const s=n.getImmediate();if(Ya(e,n.getOptions()))return s;throw sn.create("already-initialized")}return n.initialize({options:e})}function SC(t,e,n){t=ar(t),mC(Cp,oo[t.app.options.appId],e,n).catch(i=>zt.error(i))}function PC(t,e,n,i){t=ar(t),pC(Cp,oo[t.app.options.appId],e,n,i).catch(s=>zt.error(s))}const Jg="@firebase/analytics",e_="0.10.19";function IC(){lr(new Ci(mc,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return EC(i,s,n)},"PUBLIC")),lr(new Ci("analytics-internal",t,"PRIVATE")),ei(Jg,e_),ei(Jg,e_,"esm2020");function t(e){try{const n=e.getProvider(mc).getImmediate();return{logEvent:(i,s,o)=>PC(n,i,s,o),setUserProperties:(i,s)=>SC(n,i,s)}}catch(n){throw sn.create("interop-component-reg-failed",{reason:n})}}}IC();var t_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ap;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,x){function I(){}I.prototype=x.prototype,S.F=x.prototype,S.prototype=new I,S.prototype.constructor=S,S.D=function(R,b,D){for(var C=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)C[Se-2]=arguments[Se];return x.prototype[b].apply(R,C)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,x,I){I||(I=0);const R=Array(16);if(typeof x=="string")for(var b=0;b<16;++b)R[b]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(b=0;b<16;++b)R[b]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=S.g[0],I=S.g[1],b=S.g[2];let D=S.g[3],C;C=x+(D^I&(b^D))+R[0]+3614090360&4294967295,x=I+(C<<7&4294967295|C>>>25),C=D+(b^x&(I^b))+R[1]+3905402710&4294967295,D=x+(C<<12&4294967295|C>>>20),C=b+(I^D&(x^I))+R[2]+606105819&4294967295,b=D+(C<<17&4294967295|C>>>15),C=I+(x^b&(D^x))+R[3]+3250441966&4294967295,I=b+(C<<22&4294967295|C>>>10),C=x+(D^I&(b^D))+R[4]+4118548399&4294967295,x=I+(C<<7&4294967295|C>>>25),C=D+(b^x&(I^b))+R[5]+1200080426&4294967295,D=x+(C<<12&4294967295|C>>>20),C=b+(I^D&(x^I))+R[6]+2821735955&4294967295,b=D+(C<<17&4294967295|C>>>15),C=I+(x^b&(D^x))+R[7]+4249261313&4294967295,I=b+(C<<22&4294967295|C>>>10),C=x+(D^I&(b^D))+R[8]+1770035416&4294967295,x=I+(C<<7&4294967295|C>>>25),C=D+(b^x&(I^b))+R[9]+2336552879&4294967295,D=x+(C<<12&4294967295|C>>>20),C=b+(I^D&(x^I))+R[10]+4294925233&4294967295,b=D+(C<<17&4294967295|C>>>15),C=I+(x^b&(D^x))+R[11]+2304563134&4294967295,I=b+(C<<22&4294967295|C>>>10),C=x+(D^I&(b^D))+R[12]+1804603682&4294967295,x=I+(C<<7&4294967295|C>>>25),C=D+(b^x&(I^b))+R[13]+4254626195&4294967295,D=x+(C<<12&4294967295|C>>>20),C=b+(I^D&(x^I))+R[14]+2792965006&4294967295,b=D+(C<<17&4294967295|C>>>15),C=I+(x^b&(D^x))+R[15]+1236535329&4294967295,I=b+(C<<22&4294967295|C>>>10),C=x+(b^D&(I^b))+R[1]+4129170786&4294967295,x=I+(C<<5&4294967295|C>>>27),C=D+(I^b&(x^I))+R[6]+3225465664&4294967295,D=x+(C<<9&4294967295|C>>>23),C=b+(x^I&(D^x))+R[11]+643717713&4294967295,b=D+(C<<14&4294967295|C>>>18),C=I+(D^x&(b^D))+R[0]+3921069994&4294967295,I=b+(C<<20&4294967295|C>>>12),C=x+(b^D&(I^b))+R[5]+3593408605&4294967295,x=I+(C<<5&4294967295|C>>>27),C=D+(I^b&(x^I))+R[10]+38016083&4294967295,D=x+(C<<9&4294967295|C>>>23),C=b+(x^I&(D^x))+R[15]+3634488961&4294967295,b=D+(C<<14&4294967295|C>>>18),C=I+(D^x&(b^D))+R[4]+3889429448&4294967295,I=b+(C<<20&4294967295|C>>>12),C=x+(b^D&(I^b))+R[9]+568446438&4294967295,x=I+(C<<5&4294967295|C>>>27),C=D+(I^b&(x^I))+R[14]+3275163606&4294967295,D=x+(C<<9&4294967295|C>>>23),C=b+(x^I&(D^x))+R[3]+4107603335&4294967295,b=D+(C<<14&4294967295|C>>>18),C=I+(D^x&(b^D))+R[8]+1163531501&4294967295,I=b+(C<<20&4294967295|C>>>12),C=x+(b^D&(I^b))+R[13]+2850285829&4294967295,x=I+(C<<5&4294967295|C>>>27),C=D+(I^b&(x^I))+R[2]+4243563512&4294967295,D=x+(C<<9&4294967295|C>>>23),C=b+(x^I&(D^x))+R[7]+1735328473&4294967295,b=D+(C<<14&4294967295|C>>>18),C=I+(D^x&(b^D))+R[12]+2368359562&4294967295,I=b+(C<<20&4294967295|C>>>12),C=x+(I^b^D)+R[5]+4294588738&4294967295,x=I+(C<<4&4294967295|C>>>28),C=D+(x^I^b)+R[8]+2272392833&4294967295,D=x+(C<<11&4294967295|C>>>21),C=b+(D^x^I)+R[11]+1839030562&4294967295,b=D+(C<<16&4294967295|C>>>16),C=I+(b^D^x)+R[14]+4259657740&4294967295,I=b+(C<<23&4294967295|C>>>9),C=x+(I^b^D)+R[1]+2763975236&4294967295,x=I+(C<<4&4294967295|C>>>28),C=D+(x^I^b)+R[4]+1272893353&4294967295,D=x+(C<<11&4294967295|C>>>21),C=b+(D^x^I)+R[7]+4139469664&4294967295,b=D+(C<<16&4294967295|C>>>16),C=I+(b^D^x)+R[10]+3200236656&4294967295,I=b+(C<<23&4294967295|C>>>9),C=x+(I^b^D)+R[13]+681279174&4294967295,x=I+(C<<4&4294967295|C>>>28),C=D+(x^I^b)+R[0]+3936430074&4294967295,D=x+(C<<11&4294967295|C>>>21),C=b+(D^x^I)+R[3]+3572445317&4294967295,b=D+(C<<16&4294967295|C>>>16),C=I+(b^D^x)+R[6]+76029189&4294967295,I=b+(C<<23&4294967295|C>>>9),C=x+(I^b^D)+R[9]+3654602809&4294967295,x=I+(C<<4&4294967295|C>>>28),C=D+(x^I^b)+R[12]+3873151461&4294967295,D=x+(C<<11&4294967295|C>>>21),C=b+(D^x^I)+R[15]+530742520&4294967295,b=D+(C<<16&4294967295|C>>>16),C=I+(b^D^x)+R[2]+3299628645&4294967295,I=b+(C<<23&4294967295|C>>>9),C=x+(b^(I|~D))+R[0]+4096336452&4294967295,x=I+(C<<6&4294967295|C>>>26),C=D+(I^(x|~b))+R[7]+1126891415&4294967295,D=x+(C<<10&4294967295|C>>>22),C=b+(x^(D|~I))+R[14]+2878612391&4294967295,b=D+(C<<15&4294967295|C>>>17),C=I+(D^(b|~x))+R[5]+4237533241&4294967295,I=b+(C<<21&4294967295|C>>>11),C=x+(b^(I|~D))+R[12]+1700485571&4294967295,x=I+(C<<6&4294967295|C>>>26),C=D+(I^(x|~b))+R[3]+2399980690&4294967295,D=x+(C<<10&4294967295|C>>>22),C=b+(x^(D|~I))+R[10]+4293915773&4294967295,b=D+(C<<15&4294967295|C>>>17),C=I+(D^(b|~x))+R[1]+2240044497&4294967295,I=b+(C<<21&4294967295|C>>>11),C=x+(b^(I|~D))+R[8]+1873313359&4294967295,x=I+(C<<6&4294967295|C>>>26),C=D+(I^(x|~b))+R[15]+4264355552&4294967295,D=x+(C<<10&4294967295|C>>>22),C=b+(x^(D|~I))+R[6]+2734768916&4294967295,b=D+(C<<15&4294967295|C>>>17),C=I+(D^(b|~x))+R[13]+1309151649&4294967295,I=b+(C<<21&4294967295|C>>>11),C=x+(b^(I|~D))+R[4]+4149444226&4294967295,x=I+(C<<6&4294967295|C>>>26),C=D+(I^(x|~b))+R[11]+3174756917&4294967295,D=x+(C<<10&4294967295|C>>>22),C=b+(x^(D|~I))+R[2]+718787259&4294967295,b=D+(C<<15&4294967295|C>>>17),C=I+(D^(b|~x))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+x&4294967295,S.g[1]=S.g[1]+(b+(C<<21&4294967295|C>>>11))&4294967295,S.g[2]=S.g[2]+b&4294967295,S.g[3]=S.g[3]+D&4294967295}i.prototype.v=function(S,x){x===void 0&&(x=S.length);const I=x-this.blockSize,R=this.C;let b=this.h,D=0;for(;D<x;){if(b==0)for(;D<=I;)s(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<x;)if(R[b++]=S.charCodeAt(D++),b==this.blockSize){s(this,R),b=0;break}}else for(;D<x;)if(R[b++]=S[D++],b==this.blockSize){s(this,R),b=0;break}}this.h=b,this.o+=x},i.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var x=1;x<S.length-8;++x)S[x]=0;x=this.o*8;for(var I=S.length-8;I<S.length;++I)S[I]=x&255,x/=256;for(this.v(S),S=Array(16),x=0,I=0;I<4;++I)for(let R=0;R<32;R+=8)S[x++]=this.g[I]>>>R&255;return S};function o(S,x){var I=h;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=x(S)}function l(S,x){this.h=x;const I=[];let R=!0;for(let b=S.length-1;b>=0;b--){const D=S[b]|0;R&&D==x||(I[b]=D,R=!1)}this.g=I}var h={};function d(S){return-128<=S&&S<128?o(S,function(x){return new l([x|0],x<0?-1:0)}):new l([S|0],S<0?-1:0)}function m(S){if(isNaN(S)||!isFinite(S))return w;if(S<0)return W(m(-S));const x=[];let I=1;for(let R=0;S>=I;R++)x[R]=S/I|0,I*=4294967296;return new l(x,0)}function y(S,x){if(S.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(S.charAt(0)=="-")return W(y(S.substring(1),x));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=m(Math.pow(x,8));let R=w;for(let D=0;D<S.length;D+=8){var b=Math.min(8,S.length-D);const C=parseInt(S.substring(D,D+b),x);b<8?(b=m(Math.pow(x,b)),R=R.j(b).add(m(C))):(R=R.j(I),R=R.add(m(C)))}return R}var w=d(0),v=d(1),O=d(16777216);t=l.prototype,t.m=function(){if(V(this))return-W(this).m();let S=0,x=1;for(let I=0;I<this.g.length;I++){const R=this.i(I);S+=(R>=0?R:4294967296+R)*x,x*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(M(this))return"0";if(V(this))return"-"+W(this).toString(S);const x=m(Math.pow(S,6));var I=this;let R="";for(;;){const b=B(I,x).g;I=N(I,b.j(x));let D=((I.g.length>0?I.g[0]:I.h)>>>0).toString(S);if(I=b,M(I))return D+R;for(;D.length<6;)D="0"+D;R=D+R}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function M(S){if(S.h!=0)return!1;for(let x=0;x<S.g.length;x++)if(S.g[x]!=0)return!1;return!0}function V(S){return S.h==-1}t.l=function(S){return S=N(this,S),V(S)?-1:M(S)?0:1};function W(S){const x=S.g.length,I=[];for(let R=0;R<x;R++)I[R]=~S.g[R];return new l(I,~S.h).add(v)}t.abs=function(){return V(this)?W(this):this},t.add=function(S){const x=Math.max(this.g.length,S.g.length),I=[];let R=0;for(let b=0;b<=x;b++){let D=R+(this.i(b)&65535)+(S.i(b)&65535),C=(D>>>16)+(this.i(b)>>>16)+(S.i(b)>>>16);R=C>>>16,D&=65535,C&=65535,I[b]=C<<16|D}return new l(I,I[I.length-1]&-2147483648?-1:0)};function N(S,x){return S.add(W(x))}t.j=function(S){if(M(this)||M(S))return w;if(V(this))return V(S)?W(this).j(W(S)):W(W(this).j(S));if(V(S))return W(this.j(W(S)));if(this.l(O)<0&&S.l(O)<0)return m(this.m()*S.m());const x=this.g.length+S.g.length,I=[];for(var R=0;R<2*x;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(let b=0;b<S.g.length;b++){const D=this.i(R)>>>16,C=this.i(R)&65535,Se=S.i(b)>>>16,mt=S.i(b)&65535;I[2*R+2*b]+=C*mt,P(I,2*R+2*b),I[2*R+2*b+1]+=D*mt,P(I,2*R+2*b+1),I[2*R+2*b+1]+=C*Se,P(I,2*R+2*b+1),I[2*R+2*b+2]+=D*Se,P(I,2*R+2*b+2)}for(S=0;S<x;S++)I[S]=I[2*S+1]<<16|I[2*S];for(S=x;S<2*x;S++)I[S]=0;return new l(I,0)};function P(S,x){for(;(S[x]&65535)!=S[x];)S[x+1]+=S[x]>>>16,S[x]&=65535,x++}function A(S,x){this.g=S,this.h=x}function B(S,x){if(M(x))throw Error("division by zero");if(M(S))return new A(w,w);if(V(S))return x=B(W(S),x),new A(W(x.g),W(x.h));if(V(x))return x=B(S,W(x)),new A(W(x.g),x.h);if(S.g.length>30){if(V(S)||V(x))throw Error("slowDivide_ only works with positive integers.");for(var I=v,R=x;R.l(S)<=0;)I=Z(I),R=Z(R);var b=K(I,1),D=K(R,1);for(R=K(R,2),I=K(I,2);!M(R);){var C=D.add(R);C.l(S)<=0&&(b=b.add(I),D=C),R=K(R,1),I=K(I,1)}return x=N(S,b.j(x)),new A(b,x)}for(b=w;S.l(x)>=0;){for(I=Math.max(1,Math.floor(S.m()/x.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),D=m(I),C=D.j(x);V(C)||C.l(S)>0;)I-=R,D=m(I),C=D.j(x);M(D)&&(D=v),b=b.add(D),S=N(S,C)}return new A(b,S)}t.B=function(S){return B(this,S).h},t.and=function(S){const x=Math.max(this.g.length,S.g.length),I=[];for(let R=0;R<x;R++)I[R]=this.i(R)&S.i(R);return new l(I,this.h&S.h)},t.or=function(S){const x=Math.max(this.g.length,S.g.length),I=[];for(let R=0;R<x;R++)I[R]=this.i(R)|S.i(R);return new l(I,this.h|S.h)},t.xor=function(S){const x=Math.max(this.g.length,S.g.length),I=[];for(let R=0;R<x;R++)I[R]=this.i(R)^S.i(R);return new l(I,this.h^S.h)};function Z(S){const x=S.g.length+1,I=[];for(let R=0;R<x;R++)I[R]=S.i(R)<<1|S.i(R-1)>>>31;return new l(I,S.h)}function K(S,x){const I=x>>5;x%=32;const R=S.g.length-I,b=[];for(let D=0;D<R;D++)b[D]=x>0?S.i(D+I)>>>x|S.i(D+I+1)<<32-x:S.i(D+I);return new l(b,S.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=y,Ap=l}).apply(typeof t_<"u"?t_:typeof self<"u"?self:typeof window<"u"?window:{});var _u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aw,ya,lw,Mu,ld,uw,cw,hw;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof _u=="object"&&_u];for(var p=0;p<u.length;++p){var _=u[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=n(this);function s(u,p){if(p)e:{var _=i;u=u.split(".");for(var T=0;T<u.length-1;T++){var z=u[T];if(!(z in _))break e;_=_[z]}u=u[u.length-1],T=_[u],p=p(T),p!=T&&p!=null&&e(_,u,{configurable:!0,writable:!0,value:p})}}s("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(u){return u||function(p){var _=[],T;for(T in p)Object.prototype.hasOwnProperty.call(p,T)&&_.push([T,p[T]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function h(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,_){return u.call.apply(u.bind,arguments)}function m(u,p,_){return m=d,m.apply(null,arguments)}function y(u,p){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,p){function _(){}_.prototype=p.prototype,u.Z=p.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,z,j){for(var J=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)J[fe-2]=arguments[fe];return p.prototype[z].apply(T,J)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function O(u){const p=u.length;if(p>0){const _=Array(p);for(let T=0;T<p;T++)_[T]=u[T];return _}return[]}function M(u,p){for(let T=1;T<arguments.length;T++){const z=arguments[T];var _=typeof z;if(_=_!="object"?_:z?Array.isArray(z)?"array":_:"null",_=="array"||_=="object"&&typeof z.length=="number"){_=u.length||0;const j=z.length||0;u.length=_+j;for(let J=0;J<j;J++)u[_+J]=z[J]}else u.push(z)}}class V{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function W(u){l.setTimeout(()=>{throw u},0)}function N(){var u=S;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class P{constructor(){this.h=this.g=null}add(p,_){const T=A.get();T.set(p,_),this.h?this.h.next=T:this.g=T,this.h=T}}var A=new V(()=>new B,u=>u.reset());class B{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,K=!1,S=new P,x=()=>{const u=Promise.resolve(void 0);Z=()=>{u.then(I)}};function I(){for(var u;u=N();){try{u.h.call(u.g)}catch(_){W(_)}var p=A;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}K=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function b(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}b.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};l.addEventListener("test",_,p),l.removeEventListener("test",_,p)}catch{}return u}();function C(u){return/^[\s\xa0]*$/.test(u)}function Se(u,p){b.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}w(Se,b),Se.prototype.init=function(u,p){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(_=="mouseover"?p=u.fromElement:_=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Se.Z.h.call(this)},Se.prototype.h=function(){Se.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var mt="closure_listenable_"+(Math.random()*1e6|0),Fe=0;function jt(u,p,_,T,z){this.listener=u,this.proxy=null,this.src=p,this.type=_,this.capture=!!T,this.ha=z,this.key=++Fe,this.da=this.fa=!1}function H(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function se(u,p,_){for(const T in u)p.call(_,u[T],T,u)}function Y(u,p){for(const _ in u)p.call(void 0,u[_],_,u)}function le(u){const p={};for(const _ in u)p[_]=u[_];return p}const ve="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qe(u,p){let _,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(_ in T)u[_]=T[_];for(let j=0;j<ve.length;j++)_=ve[j],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function Pe(u){this.src=u,this.g={},this.h=0}Pe.prototype.add=function(u,p,_,T,z){const j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);const J=ce(u,p,T,z);return J>-1?(p=u[J],_||(p.fa=!1)):(p=new jt(p,this.src,j,!!T,z),p.fa=_,u.push(p)),p};function we(u,p){const _=p.type;if(_ in u.g){var T=u.g[_],z=Array.prototype.indexOf.call(T,p,void 0),j;(j=z>=0)&&Array.prototype.splice.call(T,z,1),j&&(H(p),u.g[_].length==0&&(delete u.g[_],u.h--))}}function ce(u,p,_,T){for(let z=0;z<u.length;++z){const j=u[z];if(!j.da&&j.listener==p&&j.capture==!!_&&j.ha==T)return z}return-1}var ot="closure_lm_"+(Math.random()*1e6|0),un={};function Co(u,p,_,T,z){if(Array.isArray(p)){for(let j=0;j<p.length;j++)Co(u,p[j],_,T,z);return null}return _=vr(_),u&&u[mt]?u.J(p,_,h(T)?!!T.capture:!1,z):Ao(u,p,_,!1,T,z)}function Ao(u,p,_,T,z,j){if(!p)throw Error("Invalid event type");const J=h(z)?!!z.capture:!!z;let fe=us(u);if(fe||(u[ot]=fe=new Pe(u)),_=fe.add(p,_,T,J,j),_.proxy)return _;if(T=ko(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)D||(z=J),z===void 0&&(z=!1),u.addEventListener(p.toString(),T,z);else if(u.attachEvent)u.attachEvent(wl(p.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ko(){function u(_){return p.call(u.src,u.listener,_)}const p=El;return u}function Li(u,p,_,T,z){if(Array.isArray(p))for(var j=0;j<p.length;j++)Li(u,p[j],_,T,z);else T=h(T)?!!T.capture:!!T,_=vr(_),u&&u[mt]?(u=u.i,j=String(p).toString(),j in u.g&&(p=u.g[j],_=ce(p,_,T,z),_>-1&&(H(p[_]),Array.prototype.splice.call(p,_,1),p.length==0&&(delete u.g[j],u.h--)))):u&&(u=us(u))&&(p=u.g[p.toString()],u=-1,p&&(u=ce(p,_,T,z)),(_=u>-1?p[u]:null)&&_r(_))}function _r(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[mt])we(p.i,u);else{var _=u.type,T=u.proxy;p.removeEventListener?p.removeEventListener(_,T,u.capture):p.detachEvent?p.detachEvent(wl(_),T):p.addListener&&p.removeListener&&p.removeListener(T),(_=us(p))?(we(_,u),_.h==0&&(_.src=null,p[ot]=null)):H(u)}}}function wl(u){return u in un?un[u]:un[u]="on"+u}function El(u,p){if(u.da)u=!0;else{p=new Se(p,this);const _=u.listener,T=u.ha||u.src;u.fa&&_r(u),u=_.call(T,p)}return u}function us(u){return u=u[ot],u instanceof Pe?u:null}var yr="__closure_events_fn_"+(Math.random()*1e9>>>0);function vr(u){return typeof u=="function"?u:(u[yr]||(u[yr]=function(p){return u.handleEvent(p)}),u[yr])}function at(){R.call(this),this.i=new Pe(this),this.M=this,this.G=null}w(at,R),at.prototype[mt]=!0,at.prototype.removeEventListener=function(u,p,_,T){Li(this,u,p,_,T)};function lt(u,p){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=p.type||p,typeof p=="string")p=new b(p,u);else if(p instanceof b)p.target=p.target||u;else{var z=p;p=new b(T,u),qe(p,z)}z=!0;let j,J;if(_)for(J=_.length-1;J>=0;J--)j=p.g=_[J],z=Ri(j,T,!0,p)&&z;if(j=p.g=u,z=Ri(j,T,!0,p)&&z,z=Ri(j,T,!1,p)&&z,_)for(J=0;J<_.length;J++)j=p.g=_[J],z=Ri(j,T,!1,p)&&z}at.prototype.N=function(){if(at.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const _=u.g[p];for(let T=0;T<_.length;T++)H(_[T]);delete u.g[p],u.h--}}this.G=null},at.prototype.J=function(u,p,_,T){return this.i.add(String(u),p,!1,_,T)},at.prototype.K=function(u,p,_,T){return this.i.add(String(u),p,!0,_,T)};function Ri(u,p,_,T){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let z=!0;for(let j=0;j<p.length;++j){const J=p[j];if(J&&!J.da&&J.capture==_){const fe=J.listener,Ae=J.ha||J.src;J.fa&&we(u.i,J),z=fe.call(Ae,T)!==!1&&z}}return z&&!T.defaultPrevented}function Tl(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:l.setTimeout(u,p||0)}function Lo(u){u.g=Tl(()=>{u.g=null,u.i&&(u.i=!1,Lo(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class oh extends R{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Lo(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wr(u){R.call(this),this.h=u,this.g={}}w(wr,R);var cs=[];function Ro(u){se(u.g,function(p,_){this.g.hasOwnProperty(_)&&_r(p)},u),u.g={}}wr.prototype.N=function(){wr.Z.N.call(this),Ro(this)},wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hs=l.JSON.stringify,ah=l.JSON.parse,xl=class{stringify(u){return l.JSON.stringify(u,void 0)}parse(u){return l.JSON.parse(u,void 0)}};function bo(){}function Sl(){}var bi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Er(){b.call(this,"d")}w(Er,b);function fs(){b.call(this,"c")}w(fs,b);var ii={},Ni=null;function ds(){return Ni=Ni||new at}ii.Ia="serverreachability";function Pl(u){b.call(this,ii.Ia,u)}w(Pl,b);function Oi(u){const p=ds();lt(p,new Pl(p))}ii.STAT_EVENT="statevent";function No(u,p){b.call(this,ii.STAT_EVENT,u),this.stat=p}w(No,b);function ut(u){const p=ds();lt(p,new No(p,u))}ii.Ja="timingevent";function Il(u,p){b.call(this,ii.Ja,u),this.size=p}w(Il,b);function Tr(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){u()},p)}function xr(){this.g=!0}xr.prototype.ua=function(){this.g=!1};function lh(u,p,_,T,z,j){u.info(function(){if(u.g)if(j){var J="",fe=j.split("&");for(let Le=0;Le<fe.length;Le++){var Ae=fe[Le].split("=");if(Ae.length>1){const Xe=Ae[0];Ae=Ae[1];const pn=Xe.split("_");J=pn.length>=2&&pn[1]=="type"?J+(Xe+"="+Ae+"&"):J+(Xe+"=redacted&")}}}else J=null;else J=j;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+p+`
`+_+`
`+J})}function uh(u,p,_,T,z,j,J){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+p+`
`+_+`
`+j+" "+J})}function Di(u,p,_,T){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+ch(u,_)+(T?" "+T:"")})}function Oo(u,p){u.info(function(){return"TIMEOUT: "+p})}xr.prototype.info=function(){};function ch(u,p){if(!u.g)return p;if(!p)return null;try{const j=JSON.parse(p);if(j){for(u=0;u<j.length;u++)if(Array.isArray(j[u])){var _=j[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var z=T[0];if(z!="noop"&&z!="stop"&&z!="close")for(let J=1;J<T.length;J++)T[J]=""}}}}return hs(j)}catch{return p}}var ps={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Al;function Ut(){}w(Ut,bo),Ut.prototype.g=function(){return new XMLHttpRequest},Al=new Ut;function ie(u){return encodeURIComponent(String(u))}function kl(u){var p=1;u=u.split(":");const _=[];for(;p>0&&u.length;)_.push(u.shift()),p--;return u.length&&_.push(u.join(":")),_}function xn(u,p,_,T){this.j=u,this.i=p,this.l=_,this.S=T||1,this.V=new wr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Do}function Do(){this.i=null,this.g="",this.h=!1}var Mo={},Sr={};function ms(u,p,_){u.M=1,u.A=Oe(Nt(p)),u.u=_,u.R=!0,ri(u,null)}function ri(u,p){u.F=Date.now(),gs(u),u.B=Nt(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Es(_.i,"t",T),u.C=0,_=u.j.L,u.h=new Do,u.g=Qo(u.j,_?p:null,!u.u),u.P>0&&(u.O=new oh(m(u.Y,u,u.g),u.P)),p=u.V,_=u.g,T=u.ba;var z="readystatechange";Array.isArray(z)||(z&&(cs[0]=z.toString()),z=cs);for(let j=0;j<z.length;j++){const J=Co(_,z[j],T||p.handleEvent,!1,p.h||p);if(!J)break;p.g[J.key]=J}p=u.J?le(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),Oi(),lh(u.i,u.v,u.B,u.l,u.S,u.u)}xn.prototype.ba=function(u){u=u.target;const p=this.O;p&&Un(u)==3?p.j():this.Y(u)},xn.prototype.Y=function(u){try{if(u==this.g)e:{const fe=Un(this.g),Ae=this.g.ya(),Le=this.g.ca();if(!(fe<3)&&(fe!=3||this.g&&(this.h.h||this.g.la()||$o(this.g)))){this.K||fe!=4||Ae==7||(Ae==8||Le<=0?Oi(3):Oi(2)),_s(this);var p=this.g.ca();this.X=p;var _=Ll(this);if(this.o=p==200,uh(this.i,this.v,this.B,this.l,this.S,fe,p),this.o){if(this.U&&!this.L){t:{if(this.g){var T,z=this.g;if((T=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(T)){var j=T;break t}}j=null}if(u=j)Di(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vo(this,u);else{this.o=!1,this.m=3,ut(12),cn(this),Pr(this);break e}}if(this.R){u=!0;let Xe;for(;!this.K&&this.C<_.length;)if(Xe=hh(this,_),Xe==Sr){fe==4&&(this.m=4,ut(14),u=!1),Di(this.i,this.l,null,"[Incomplete Response]");break}else if(Xe==Mo){this.m=4,ut(15),Di(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else Di(this.i,this.l,Xe,null),Vo(this,Xe);if(Rl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fe!=4||_.length!=0||this.h.h||(this.m=1,ut(16),u=!1),this.o=this.o&&u,!u)Di(this.i,this.l,_,"[Invalid Chunked Response]"),cn(this),Pr(this);else if(_.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Go(J),J.P=!0,ut(11))}}else Di(this.i,this.l,_,null),Vo(this,_);fe==4&&cn(this),this.o&&!this.K&&(fe==4?en(this.j,this):(this.o=!1,gs(this)))}else Ho(this.g),p==400&&_.indexOf("Unknown SID")>0?(this.m=3,ut(12)):(this.m=0,ut(13)),cn(this),Pr(this)}}}catch{}finally{}};function Ll(u){if(!Rl(u))return u.g.la();const p=$o(u.g);if(p==="")return"";let _="";const T=p.length,z=Un(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return cn(u),Pr(u),"";u.h.i=new l.TextDecoder}for(let j=0;j<T;j++)u.h.h=!0,_+=u.h.i.decode(p[j],{stream:!(z&&j==T-1)});return p.length=0,u.h.g+=_,u.C=0,u.h.g}function Rl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function hh(u,p){var _=u.C,T=p.indexOf(`
`,_);return T==-1?Sr:(_=Number(p.substring(_,T)),isNaN(_)?Mo:(T+=1,T+_>p.length?Sr:(p=p.slice(T,T+_),u.C=T+_,p)))}xn.prototype.cancel=function(){this.K=!0,cn(this)};function gs(u){u.T=Date.now()+u.H,bl(u,u.H)}function bl(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Tr(m(u.aa,u),p)}function _s(u){u.D&&(l.clearTimeout(u.D),u.D=null)}xn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Oo(this.i,this.B),this.M!=2&&(Oi(),ut(17)),cn(this),this.m=2,Pr(this)):bl(this,this.T-u)};function Pr(u){u.j.I==0||u.K||en(u.j,u)}function cn(u){_s(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,Ro(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function Vo(u,p){try{var _=u.j;if(_.I!=0&&(_.g==u||Ir(_.h,u))){if(!u.L&&Ir(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(p)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)Is(_),Ss(_);else break e;qo(_),ut(18)}}else _.xa=z[1],0<_.xa-_.K&&z[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Tr(m(_.Va,_),6e3));Dl(_.h)<=1&&_.ta&&(_.ta=void 0)}else Hn(_,11)}else if((u.L||_.g==u)&&Is(_),!C(p))for(z=_.Ba.g.parse(p),p=0;p<z.length;p++){let Le=z[p];const Xe=Le[0];if(!(Xe<=_.K))if(_.K=Xe,Le=Le[1],_.I==2)if(Le[0]=="c"){_.M=Le[1],_.ba=Le[2];const pn=Le[3];pn!=null&&(_.ka=pn,_.j.info("VER="+_.ka));const In=Le[4];In!=null&&(_.za=In,_.j.info("SVER="+_.za));const mn=Le[5];mn!=null&&typeof mn=="number"&&mn>0&&(T=1.5*mn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Wn=u.g;if(Wn){const ks=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ks){var j=T.h;j.g||ks.indexOf("spdy")==-1&&ks.indexOf("quic")==-1&&ks.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(si(j,j.h),j.h=null))}if(T.G){const Ls=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ls&&(T.wa=Ls,te(T.J,T.G,Ls))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var J=u;if(T.na=Ko(T,T.L?T.ba:null,T.W),J.L){zo(T.h,J);var fe=J,Ae=T.O;Ae&&(fe.H=Ae),fe.D&&(_s(fe),gs(fe)),T.g=J}else Zo(T);_.i.length>0&&$n(_)}else Le[0]!="stop"&&Le[0]!="close"||Hn(_,7);else _.I==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Hn(_,7):ge(_):Le[0]!="noop"&&_.l&&_.l.qa(Le),_.A=0)}}Oi(4)}catch{}}var fh=class{constructor(u,p){this.g=u,this.map=p}};function Nl(u){this.l=u||10,l.PerformanceNavigationTiming?(u=l.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ol(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Dl(u){return u.h?1:u.g?u.g.size:0}function Ir(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function si(u,p){u.g?u.g.add(p):u.h=p}function zo(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Nl.prototype.cancel=function(){if(this.i=Fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Fo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const _ of u.g.values())p=p.concat(_.G);return p}return O(u.i)}var Mi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ee(u,p){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let z,j=null;T>=0?(z=u[_].substring(0,T),j=u[_].substring(T+1)):z=u[_],p(z,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Ce(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof Ce?(this.l=u.l,hn(this,u.j),this.o=u.o,this.g=u.g,fn(this,u.u),this.h=u.h,Cr(this,Ar(u.i)),this.m=u.m):u&&(p=String(u).match(Mi))?(this.l=!1,hn(this,p[1]||"",!0),this.o=oi(p[2]||""),this.g=oi(p[3]||"",!0),fn(this,p[4]),this.h=oi(p[5]||"",!0),Cr(this,p[6]||"",!0),this.m=oi(p[7]||"")):(this.l=!1,this.i=new Sn(null,this.l))}Ce.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(Fn(p,Ml,!0),":");var _=this.g;return(_||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Fn(p,Ml,!0),"@"),u.push(ie(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Fn(_,_.charAt(0)=="/"?ai:ys,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Fn(_,li)),u.join("")},Ce.prototype.resolve=function(u){const p=Nt(this);let _=!!u.j;_?hn(p,u.j):_=!!u.o,_?p.o=u.o:_=!!u.g,_?p.g=u.g:_=u.u!=null;var T=u.h;if(_)fn(p,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var z=p.h.lastIndexOf("/");z!=-1&&(T=p.h.slice(0,z+1)+T)}if(z=T,z==".."||z==".")T="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){T=z.lastIndexOf("/",0)==0,z=z.split("/");const j=[];for(let J=0;J<z.length;){const fe=z[J++];fe=="."?T&&J==z.length&&j.push(""):fe==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),T&&J==z.length&&j.push("")):(j.push(fe),T=!0)}T=j.join("/")}else T=z}return _?p.h=T:_=u.i.toString()!=="",_?Cr(p,Ar(u.i)):_=!!u.m,_&&(p.m=u.m),p};function Nt(u){return new Ce(u)}function hn(u,p,_){u.j=_?oi(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function fn(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function Cr(u,p,_){p instanceof Sn?(u.i=p,Bo(u.i,u.l)):(_||(p=Fn(p,Ge)),u.i=new Sn(p,u.l))}function te(u,p,_){u.i.set(p,_)}function Oe(u){return te(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function oi(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Fn(u,p,_){return typeof u=="string"?(u=encodeURI(u).replace(p,$t),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function $t(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ml=/[#\/\?@]/g,ys=/[#\?:]/g,ai=/[#\?]/g,Ge=/[#\?@]/g,li=/#/g;function Sn(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Jt(u){u.g||(u.g=new Map,u.h=0,u.i&&Ee(u.i,function(p,_){u.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}t=Sn.prototype,t.add=function(u,p){Jt(this),this.i=null,u=Bn(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(p),this.h+=1,this};function vs(u,p){Jt(u),p=Bn(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Vi(u,p){return Jt(u),p=Bn(u,p),u.g.has(p)}t.forEach=function(u,p){Jt(this),this.g.forEach(function(_,T){_.forEach(function(z){u.call(p,z,T,this)},this)},this)};function ws(u,p){Jt(u);let _=[];if(typeof p=="string")Vi(u,p)&&(_=_.concat(u.g.get(Bn(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)_=_.concat(u[p]);return _}t.set=function(u,p){return Jt(this),this.i=null,u=Bn(this,u),Vi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=ws(this,u),u.length>0?String(u[0]):p):p};function Es(u,p,_){vs(u,p),_.length>0&&(u.i=null,u.g.set(Bn(u,p),O(_)),u.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let T=0;T<p.length;T++){var _=p[T];const z=ie(_);_=ws(this,_);for(let j=0;j<_.length;j++){let J=z;_[j]!==""&&(J+="="+ie(_[j])),u.push(J)}}return this.i=u.join("&")};function Ar(u){const p=new Sn;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function Bn(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Bo(u,p){p&&!u.j&&(Jt(u),u.i=null,u.g.forEach(function(_,T){const z=T.toLowerCase();T!=z&&(vs(this,T),Es(this,z,_))},u)),u.j=p}function Ts(u,p){const _=new xr;if(l.Image){const T=new Image;T.onload=y(dn,_,"TestLoadImage: loaded",!0,p,T),T.onerror=y(dn,_,"TestLoadImage: error",!1,p,T),T.onabort=y(dn,_,"TestLoadImage: abort",!1,p,T),T.ontimeout=y(dn,_,"TestLoadImage: timeout",!1,p,T),l.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else p(!1)}function Vl(u,p){const _=new xr,T=new AbortController,z=setTimeout(()=>{T.abort(),dn(_,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(z),j.ok?dn(_,"TestPingServer: ok",!0,p):dn(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(z),dn(_,"TestPingServer: error",!1,p)})}function dn(u,p,_,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(_)}catch{}}function dh(){this.g=new xl}function he(u){this.i=u.Sb||null,this.h=u.ab||!1}w(he,bo),he.prototype.g=function(){return new Ot(this.i,this.h)};function Ot(u,p){at.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Ot,at),t=Ot.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,ui(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||l).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zi(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;be(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function be(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?zi(this):ui(this),this.readyState==3&&be(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,zi(this))},t.Na=function(u){this.g&&(this.response=u,zi(this))},t.ga=function(){this.g&&zi(this)};function zi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ui(u)}t.setRequestHeader=function(u,p){this.A.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=p.next();return u.join(`\r
`)};function ui(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ot.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function xs(u){let p="";return se(u,function(_,T){p+=T,p+=":",p+=_,p+=`\r
`}),p}function kr(u,p,_){e:{for(T in _){var T=!1;break e}T=!0}T||(_=xs(_),typeof u=="string"?_!=null&&ie(_):te(u,p,_))}function ke(u){at.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(ke,at);var jo=/^https?$/i,Lr=["POST","PUT"];t=ke.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,p,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Al.g(),this.g.onreadystatechange=v(m(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(j){Je(this,j);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)_.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())_.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(j=>j.toLowerCase()=="content-type"),z=l.FormData&&u instanceof l.FormData,!(Array.prototype.indexOf.call(Lr,p,void 0)>=0)||T||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,J]of _)this.g.setRequestHeader(j,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(j){Je(this,j)}};function Je(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,jn(u),Rr(u)}function jn(u){u.A||(u.A=!0,lt(u,"complete"),lt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,lt(this,"complete"),lt(this,"abort"),Rr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rr(this,!0)),ke.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Uo(this):this.Xa())},t.Xa=function(){Uo(this)};function Uo(u){if(u.h&&typeof o<"u"){if(u.v&&Un(u)==4)setTimeout(u.Ca.bind(u),0);else if(lt(u,"readystatechange"),Un(u)==4){u.h=!1;try{const j=u.ca();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var T;if(T=j===0){let J=String(u.D).match(Mi)[1]||null;!J&&l.self&&l.self.location&&(J=l.self.location.protocol.slice(0,-1)),T=!jo.test(J?J.toLowerCase():"")}_=T}if(_)lt(u,"complete"),lt(u,"success");else{u.o=6;try{var z=Un(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",jn(u)}}finally{Rr(u)}}}}function Rr(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,p||lt(u,"ready");try{_.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Un(u){return u.g?u.g.readyState:0}t.ca=function(){try{return Un(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),ah(p)}};function $o(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ho(u){const p={};u=(u.g&&Un(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(C(u[T]))continue;var _=kl(u[T]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const j=p[z]||[];p[z]=j,j.push(_)}Y(p,function(T){return T.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function br(u,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||p}function Wo(u){this.za=0,this.i=[],this.j=new xr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=br("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=br("baseRetryDelayMs",5e3,u),this.Za=br("retryDelaySeedMs",1e4,u),this.Ta=br("forwardChannelMaxRetries",2,u),this.va=br("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Nl(u&&u.concurrentRequestLimit),this.Ba=new dh,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Wo.prototype,t.ka=8,t.I=1,t.connect=function(u,p,_,T){ut(0),this.W=u,this.H=p||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=Ko(this,null,this.W),$n(this)};function ge(u){if(Ht(u),u.I==3){var p=u.V++,_=Nt(u.J);if(te(_,"SID",u.M),te(_,"RID",p),te(_,"TYPE","terminate"),ci(u,_),p=new xn(u,u.j,p),p.M=2,p.A=Oe(Nt(_)),_=!1,l.navigator&&l.navigator.sendBeacon)try{_=l.navigator.sendBeacon(p.A.toString(),"")}catch{}!_&&l.Image&&(new Image().src=p.A,_=!0),_||(p.g=Qo(p.j,null),p.g.ea(p.A)),p.F=Date.now(),gs(p)}Pn(u)}function Ss(u){u.g&&(Go(u),u.g.cancel(),u.g=null)}function Ht(u){Ss(u),u.v&&(l.clearTimeout(u.v),u.v=null),Is(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&l.clearTimeout(u.m),u.m=null)}function $n(u){if(!Ol(u.h)&&!u.m){u.m=!0;var p=u.Ea;Z||x(),K||(Z(),K=!0),S.add(p,u),u.D=0}}function zl(u,p){return Dl(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Tr(m(u.Ea,u,p),jl(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new xn(this,this.j,u);let j=this.o;if(this.U&&(j?(j=le(j),qe(j,this.U)):j=this.U),this.u!==null||this.R||(z.J=j,j=null),this.S)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(p+=T,p>4096){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=Bl(this,z,p),_=Nt(this.J),te(_,"RID",u),te(_,"CVER",22),this.G&&te(_,"X-HTTP-Session-Id",this.G),ci(this,_),j&&(this.R?p="headers="+ie(xs(j))+"&"+p:this.u&&kr(_,this.u,j)),si(this.h,z),this.Ra&&te(_,"TYPE","init"),this.S?(te(_,"$req",p),te(_,"SID","null"),z.U=!0,ms(z,_,null)):ms(z,_,p),this.I=2}}else this.I==3&&(u?Fl(this,u):this.i.length==0||Ol(this.h)||Fl(this))};function Fl(u,p){var _;p?_=p.l:_=u.V++;const T=Nt(u.J);te(T,"SID",u.M),te(T,"RID",_),te(T,"AID",u.K),ci(u,T),u.u&&u.o&&kr(T,u.u,u.o),_=new xn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),p&&(u.i=p.G.concat(u.i)),p=Bl(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),si(u.h,_),ms(_,T,p)}function ci(u,p){u.H&&se(u.H,function(_,T){te(p,T,_)}),u.l&&se({},function(_,T){te(p,T,_)})}function Bl(u,p,_){_=Math.min(u.i.length,_);const T=u.l?m(u.l.Ka,u.l,u):null;e:{var z=u.i;let fe=-1;for(;;){const Ae=["count="+_];fe==-1?_>0?(fe=z[0].g,Ae.push("ofs="+fe)):fe=0:Ae.push("ofs="+fe);let Le=!0;for(let Xe=0;Xe<_;Xe++){var j=z[Xe].g;const pn=z[Xe].map;if(j-=fe,j<0)fe=Math.max(0,z[Xe].g-100),Le=!1;else try{j="req"+j+"_"||"";try{var J=pn instanceof Map?pn:Object.entries(pn);for(const[In,mn]of J){let Wn=mn;h(mn)&&(Wn=hs(mn)),Ae.push(j+In+"="+encodeURIComponent(Wn))}}catch(In){throw Ae.push(j+"type="+encodeURIComponent("_badmap")),In}}catch{T&&T(pn)}}if(Le){J=Ae.join("&");break e}}J=void 0}return u=u.i.splice(0,_),p.G=u,J}function Zo(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;Z||x(),K||(Z(),K=!0),S.add(p,u),u.A=0}}function qo(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Tr(m(u.Da,u),jl(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,Ps(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Tr(m(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ut(10),Ss(this),Ps(this))};function Go(u){u.B!=null&&(l.clearTimeout(u.B),u.B=null)}function Ps(u){u.g=new xn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=Nt(u.na);te(p,"RID","rpc"),te(p,"SID",u.M),te(p,"AID",u.K),te(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&te(p,"TO",u.ia),te(p,"TYPE","xmlhttp"),ci(u,p),u.u&&u.o&&kr(p,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Oe(Nt(p)),_.u=null,_.R=!0,ri(_,u)}t.Va=function(){this.C!=null&&(this.C=null,Ss(this),qo(this),ut(19))};function Is(u){u.C!=null&&(l.clearTimeout(u.C),u.C=null)}function en(u,p){var _=null;if(u.g==p){Is(u),Go(u),u.g=null;var T=2}else if(Ir(u.h,p))_=p.G,zo(u.h,p),T=1;else return;if(u.I!=0){if(p.o)if(T==1){_=p.u?p.u.length:0,p=Date.now()-p.F;var z=u.D;T=ds(),lt(T,new Il(T,_)),$n(u)}else Zo(u);else if(z=p.m,z==3||z==0&&p.X>0||!(T==1&&zl(u,p)||T==2&&qo(u)))switch(_&&_.length>0&&(p=u.h,p.i=p.i.concat(_)),z){case 1:Hn(u,5);break;case 4:Hn(u,10);break;case 3:Hn(u,6);break;default:Hn(u,2)}}}function jl(u,p){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*p}function Hn(u,p){if(u.j.info("Error code "+p),p==2){var _=m(u.bb,u),T=u.Ua;const z=!T;T=new Ce(T||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||hn(T,"https"),Oe(T),z?Ts(T.toString(),_):Vl(T.toString(),_)}else ut(2);u.I=0,u.l&&u.l.pa(p),Pn(u),Ht(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Pn(u){if(u.I=0,u.ja=[],u.l){const p=Fo(u.h);(p.length!=0||u.i.length!=0)&&(M(u.ja,p),M(u.ja,u.i),u.h.i.length=0,O(u.i),u.i.length=0),u.l.oa()}}function Ko(u,p,_){var T=_ instanceof Ce?Nt(_):new Ce(_);if(T.g!="")p&&(T.g=p+"."+T.g),fn(T,T.u);else{var z=l.location;T=z.protocol,p=p?p+"."+z.hostname:z.hostname,z=+z.port;const j=new Ce(null);T&&hn(j,T),p&&(j.g=p),z&&fn(j,z),_&&(j.h=_),T=j}return _=u.G,p=u.wa,_&&p&&te(T,_,p),te(T,"VER",u.ka),ci(u,T),T}function Qo(u,p,_){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new ke(new he({ab:_})):new ke(u.ma),p.Fa(u.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cs(){}t=Cs.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function As(){}As.prototype.g=function(u,p){return new xt(u,p)};function xt(u,p){at.call(this),this.g=new Wo(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!C(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!C(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Fi(this)}w(xt,at),xt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xt.prototype.close=function(){ge(this.g)},xt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=hs(u),u=_);p.i.push(new fh(p.Ya++,u)),p.I==3&&$n(p)},xt.prototype.N=function(){this.g.l=null,delete this.j,ge(this.g),delete this.g,xt.Z.N.call(this)};function Xo(u){Er.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const _ in p){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}w(Xo,Er);function Ul(){fs.call(this),this.status=1}w(Ul,fs);function Fi(u){this.g=u}w(Fi,Cs),Fi.prototype.ra=function(){lt(this.g,"a")},Fi.prototype.qa=function(u){lt(this.g,new Xo(u))},Fi.prototype.pa=function(u){lt(this.g,new Ul)},Fi.prototype.oa=function(){lt(this.g,"b")},As.prototype.createWebChannel=As.prototype.g,xt.prototype.send=xt.prototype.o,xt.prototype.open=xt.prototype.m,xt.prototype.close=xt.prototype.close,hw=function(){return new As},cw=function(){return ds()},uw=ii,ld={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ps.NO_ERROR=0,ps.TIMEOUT=8,ps.HTTP_ERROR=6,Mu=ps,Cl.COMPLETE="complete",lw=Cl,Sl.EventType=bi,bi.OPEN="a",bi.CLOSE="b",bi.ERROR="c",bi.MESSAGE="d",at.prototype.listen=at.prototype.J,ya=Sl,ke.prototype.listenOnce=ke.prototype.K,ke.prototype.getLastError=ke.prototype.Ha,ke.prototype.getLastErrorCode=ke.prototype.ya,ke.prototype.getStatus=ke.prototype.ca,ke.prototype.getResponseJson=ke.prototype.La,ke.prototype.getResponseText=ke.prototype.la,ke.prototype.send=ke.prototype.ea,ke.prototype.setWithCredentials=ke.prototype.Fa,aw=ke}).apply(typeof _u<"u"?_u:typeof self<"u"?self:typeof window<"u"?window:{});const n_="@firebase/firestore",i_="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ct.UNAUTHENTICATED=new Ct(null),Ct.GOOGLE_CREDENTIALS=new Ct("google-credentials-uid"),Ct.FIRST_PARTY=new Ct("first-party-uid"),Ct.MOCK_USER=new Ct("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Po="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr=new wp("@firebase/firestore");function Bs(){return Jr.logLevel}function re(t,...e){if(Jr.logLevel<=xe.DEBUG){const n=e.map(kp);Jr.debug(`Firestore (${Po}): ${t}`,...n)}}function es(t,...e){if(Jr.logLevel<=xe.ERROR){const n=e.map(kp);Jr.error(`Firestore (${Po}): ${t}`,...n)}}function Qc(t,...e){if(Jr.logLevel<=xe.WARN){const n=e.map(kp);Jr.warn(`Firestore (${Po}): ${t}`,...n)}}function kp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,fw(t,i,n)}function fw(t,e,n){let i=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw es(i),new Error(i)}function Qe(t,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,t||fw(e,s,i)}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ct.UNAUTHENTICATED))}shutdown(){}}class AC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kC{constructor(e){this.t=e,this.currentUser=Ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let i=this.i;const s=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let o=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Hr,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},h=d=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Hr)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qe(typeof i.accessToken=="string",31837,{l:i}),new dw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new Ct(e)}}class LC{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Ct.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class RC{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new LC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,HP(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const i=o=>{o.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,re("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const s=o=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new r_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new r_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=NC(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<n&&(i+=e.charAt(s[o]%62))}return i}}function Re(t,e){return t<e?-1:t>e?1:0}function ud(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const s=t.charAt(i),o=e.charAt(i);if(s!==o)return Yh(s)===Yh(o)?Re(s,o):Yh(s)?1:-1}return Re(t.length,e.length)}const OC=55296,DC=57343;function Yh(t){const e=t.charCodeAt(0);return e>=OC&&e<=DC}function _o(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="__name__";class Kn{constructor(e,n,i){n===void 0?n=0:n>e.length&&me(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&me(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Kn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kn?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const o=Kn.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return Re(e.length,n.length)}static compareSegments(e,n){const i=Kn.isNumericId(e),s=Kn.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Kn.extractNumericId(e).compare(Kn.extractNumericId(n)):ud(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ap.fromString(e.substring(4,e.length-2))}}class He extends Kn{construct(e,n,i){return new He(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new oe(Q.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new He(n)}static emptyPath(){return new He([])}}const MC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends Kn{construct(e,n,i){return new vt(e,n,i)}static isValidIdentifier(e){return MC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s_}static keyField(){return new vt([s_])}static fromServerFormat(e){const n=[];let i="",s=0;const o=()=>{if(i.length===0)throw new oe(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new oe(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new oe(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,s+=2}else h==="`"?(l=!l,s++):h!=="."||l?(i+=h,s++):(o(),s++)}if(o(),l)throw new oe(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(n)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(He.fromString(e))}static fromName(e){return new pe(He.fromString(e).popFirst(5))}static empty(){return new pe(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new He(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(t,e,n){if(!n)throw new oe(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function VC(t,e,n,i){if(e===!0&&i===!0)throw new oe(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function o_(t){if(!pe.isDocumentKey(t))throw new oe(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function a_(t){if(pe.isDocumentKey(t))throw new oe(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mw(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Rp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":me(12329,{type:typeof t})}function gw(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new oe(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rp(t);throw new oe(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t,e){const n={typeString:t};return e&&(n.value=e),n}function pl(t,e){if(!mw(t))throw new oe(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const s=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const l=t[i];if(s&&typeof l!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${i}' field to equal '${o.value}'`;break}}if(n)throw new oe(Q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=-62135596800,u_=1e6;class Ue{static now(){return Ue.fromMillis(Date.now())}static fromDate(e){return Ue.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*u_);return new Ue(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<l_)throw new oe(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/u_}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pl(e,Ue._jsonSchema))return new Ue(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-l_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ue._jsonSchemaVersion="firestore/timestamp/1.0",Ue._jsonSchema={type:it("string",Ue._jsonSchemaVersion),seconds:it("number"),nanoseconds:it("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new Ue(0,0))}static max(){return new Be(new Ue(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=-1;function zC(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Be.fromTimestamp(i===1e9?new Ue(n+1,0):new Ue(n,i));return new ur(s,pe.empty(),e)}function FC(t){return new ur(t.readTime,t.key,el)}class ur{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ur(Be.min(),pe.empty(),el)}static max(){return new ur(Be.max(),pe.empty(),el)}}function BC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bp(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==jC)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,i)=>{n(e)})}static reject(e){return new q((n,i)=>{i(e)})}static waitFor(e){return new q((n,i)=>{let s=0,o=0,l=!1;e.forEach(h=>{++s,h.next(()=>{++o,l&&o===s&&n()},d=>i(d))}),l=!0,o===s&&n()})}static or(e){let n=q.resolve(!1);for(const i of e)n=n.next(s=>s?q.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,o)=>{i.push(n.call(this,s,o))}),this.waitFor(i)}static mapArray(e,n){return new q((i,s)=>{const o=e.length,l=new Array(o);let h=0;for(let d=0;d<o;d++){const m=d;n(e[m]).next(y=>{l[m]=y,++h,h===o&&i(l)},y=>s(y))}})}static doWhile(e,n){return new q((i,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):i()};o()})}}function $C(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ml(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Np.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op=-1;function Dp(t){return t==null}function gc(t){return t===0&&1/t==-1/0}function HC(t){return typeof t=="number"&&Number.isInteger(t)&&!gc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="";function WC(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=c_(e)),e=ZC(t.get(n),e);return c_(e)}function ZC(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case _w:n+="";break;default:n+=o}}return n}function c_(t){return t+_w+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Io(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n){this.comparator=e,this.root=n||_t.EMPTY}insert(e,n){return new Yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new Yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yu(this.root,e,this.comparator,!0)}}class yu{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,n,i,s,o){this.key=e,this.value=n,this.color=i??_t.RED,this.left=s??_t.EMPTY,this.right=o??_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,o){return new _t(e??this.key,n??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,i),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _t.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw me(27949);return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1;_t.EMPTY=new class{constructor(){this.size=0}get key(){throw me(57766)}get value(){throw me(16141)}get color(){throw me(16727)}get left(){throw me(29726)}get right(){throw me(36894)}copy(e,n,i,s,o){return this}insert(e,n,i){return new _t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new f_(this.data.getIterator())}getIteratorFrom(e){return new f_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Et(this.comparator);return n.data=e,n}}class f_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new Et(vt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new qC("Invalid base64 string: "+o):o}}(e);return new ti(n)}static fromUint8Array(e){const n=function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o}(e);return new ti(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ti.EMPTY_BYTE_STRING=new ti("");const GC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(t){if(Qe(!!t,39018),typeof t=="string"){let e=0;const n=GC.exec(t);if(Qe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:yt(t.seconds),nanos:yt(t.nanos)}}function yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function yo(t){return typeof t=="string"?ti.fromBase64String(t):ti.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="server_timestamp",ww="__type__",Ew="__previous_value__",Tw="__local_write_time__";function Mp(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[ww])==null?void 0:i.stringValue)===vw}function Vp(t){const e=t.mapValue.fields[Ew];return Mp(e)?Vp(e):e}function _c(t){const e=ts(t.mapValue.fields[Tw].timestampValue);return new Ue(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n,i,s,o,l,h,d,m,y){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=y}}const yc="(default)";class vc{constructor(e,n){this.projectId=e,this.database=n||yc}static empty(){return new vc("","")}get isDefaultDatabase(){return this.database===yc}isEqual(e){return e instanceof vc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="__type__",QC="__max__",vu={mapValue:{}},Sw="__vector__",cd="value";function ns(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mp(t)?4:YC(t)?9007199254740991:XC(t)?10:11:me(28295,{value:t})}function ni(t,e){if(t===e)return!0;const n=ns(t);if(n!==ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _c(t).isEqual(_c(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=ts(s.timestampValue),h=ts(o.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return yo(s.bytesValue).isEqual(yo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return yt(s.geoPointValue.latitude)===yt(o.geoPointValue.latitude)&&yt(s.geoPointValue.longitude)===yt(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return yt(s.integerValue)===yt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=yt(s.doubleValue),h=yt(o.doubleValue);return l===h?gc(l)===gc(h):isNaN(l)&&isNaN(h)}return!1}(t,e);case 9:return _o(t.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(s,o){const l=s.mapValue.fields||{},h=o.mapValue.fields||{};if(h_(l)!==h_(h))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(h[d]===void 0||!ni(l[d],h[d])))return!1;return!0}(t,e);default:return me(52216,{left:t})}}function tl(t,e){return(t.values||[]).find(n=>ni(n,e))!==void 0}function vo(t,e){if(t===e)return 0;const n=ns(t),i=ns(e);if(n!==i)return Re(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(o,l){const h=yt(o.integerValue||o.doubleValue),d=yt(l.integerValue||l.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(t,e);case 3:return d_(t.timestampValue,e.timestampValue);case 4:return d_(_c(t),_c(e));case 5:return ud(t.stringValue,e.stringValue);case 6:return function(o,l){const h=yo(o),d=yo(l);return h.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const h=o.split("/"),d=l.split("/");for(let m=0;m<h.length&&m<d.length;m++){const y=Re(h[m],d[m]);if(y!==0)return y}return Re(h.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const h=Re(yt(o.latitude),yt(l.latitude));return h!==0?h:Re(yt(o.longitude),yt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return p_(t.arrayValue,e.arrayValue);case 10:return function(o,l){var v,O,M,V;const h=o.fields||{},d=l.fields||{},m=(v=h[cd])==null?void 0:v.arrayValue,y=(O=d[cd])==null?void 0:O.arrayValue,w=Re(((M=m==null?void 0:m.values)==null?void 0:M.length)||0,((V=y==null?void 0:y.values)==null?void 0:V.length)||0);return w!==0?w:p_(m,y)}(t.mapValue,e.mapValue);case 11:return function(o,l){if(o===vu.mapValue&&l===vu.mapValue)return 0;if(o===vu.mapValue)return 1;if(l===vu.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),m=l.fields||{},y=Object.keys(m);d.sort(),y.sort();for(let w=0;w<d.length&&w<y.length;++w){const v=ud(d[w],y[w]);if(v!==0)return v;const O=vo(h[d[w]],m[y[w]]);if(O!==0)return O}return Re(d.length,y.length)}(t.mapValue,e.mapValue);default:throw me(23264,{he:n})}}function d_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=ts(t),i=ts(e),s=Re(n.seconds,i.seconds);return s!==0?s:Re(n.nanos,i.nanos)}function p_(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const o=vo(n[s],i[s]);if(o)return o}return Re(n.length,i.length)}function wo(t){return hd(t)}function hd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=ts(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return yo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const o of n.values||[])s?s=!1:i+=",",i+=hd(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const l of i)o?o=!1:s+=",",s+=`${l}:${hd(n.fields[l])}`;return s+"}"}(t.mapValue):me(61005,{value:t})}function Vu(t){switch(ns(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vp(t);return e?16+Vu(e):16;case 5:return 2*t.stringValue.length;case 6:return yo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,o)=>s+Vu(o),0)}(t.arrayValue);case 10:case 11:return function(i){let s=0;return Io(i.fields,(o,l)=>{s+=o.length+Vu(l)}),s}(t.mapValue);default:throw me(13486,{value:t})}}function fd(t){return!!t&&"integerValue"in t}function zp(t){return!!t&&"arrayValue"in t}function zu(t){return!!t&&"mapValue"in t}function XC(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[xw])==null?void 0:i.stringValue)===Sw}function ka(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Io(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=ka(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ka(t.arrayValue.values[n]);return e}return{...t}}function YC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===QC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!zu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ka(n)}setAll(e){let n=vt.emptyPath(),i={},s=[];e.forEach((l,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,i,s),i={},s=[],n=h.popLast()}l?i[h.lastSegment()]=ka(l):s.push(h.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,s)}delete(e){const n=this.field(e.popLast());zu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];zu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){Io(n,(s,o)=>e[s]=o);for(const s of i)delete e[s]}clone(){return new Nn(ka(this.value))}}function Pw(t){const e=[];return Io(t.fields,(n,i)=>{const s=new vt([n]);if(zu(i)){const o=Pw(i.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n,i,s,o,l,h){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=o,this.data=l,this.documentState=h}static newInvalidDocument(e){return new bn(e,0,Be.min(),Be.min(),Be.min(),Nn.empty(),0)}static newFoundDocument(e,n,i,s){return new bn(e,1,n,Be.min(),i,s,0)}static newNoDocument(e,n){return new bn(e,2,n,Be.min(),Be.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new bn(e,3,n,Be.min(),Be.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n){this.position=e,this.inclusive=n}}function m_(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const o=e[s],l=t.position[s];if(o.field.isKeyField()?i=pe.comparator(pe.fromName(l.referenceValue),n.key):i=vo(l,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function g_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ni(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n="asc"){this.field=e,this.dir=n}}function JC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{}class dt extends Iw{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new tA(e,n,i):n==="array-contains"?new rA(e,i):n==="in"?new sA(e,i):n==="not-in"?new oA(e,i):n==="array-contains-any"?new aA(e,i):new dt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new nA(e,i):new iA(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vo(n,this.value)):n!==null&&ns(this.value)===ns(n)&&this.matchesComparison(vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends Iw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new cr(e,n)}matches(e){return Cw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Cw(t){return t.op==="and"}function Aw(t){return eA(t)&&Cw(t)}function eA(t){for(const e of t.filters)if(e instanceof cr)return!1;return!0}function dd(t){if(t instanceof dt)return t.field.canonicalString()+t.op.toString()+wo(t.value);if(Aw(t))return t.filters.map(e=>dd(e)).join(",");{const e=t.filters.map(n=>dd(n)).join(",");return`${t.op}(${e})`}}function kw(t,e){return t instanceof dt?function(i,s){return s instanceof dt&&i.op===s.op&&i.field.isEqual(s.field)&&ni(i.value,s.value)}(t,e):t instanceof cr?function(i,s){return s instanceof cr&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,l,h)=>o&&kw(l,s.filters[h]),!0):!1}(t,e):void me(19439)}function Lw(t){return t instanceof dt?function(n){return`${n.field.canonicalString()} ${n.op} ${wo(n.value)}`}(t):t instanceof cr?function(n){return n.op.toString()+" {"+n.getFilters().map(Lw).join(" ,")+"}"}(t):"Filter"}class tA extends dt{constructor(e,n,i){super(e,n,i),this.key=pe.fromName(i.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class nA extends dt{constructor(e,n){super(e,"in",n),this.keys=Rw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class iA extends dt{constructor(e,n){super(e,"not-in",n),this.keys=Rw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Rw(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(i=>pe.fromName(i.referenceValue))}class rA extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zp(n)&&tl(n.arrayValue,this.value)}}class sA extends dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tl(this.value.arrayValue,n)}}class oA extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(tl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!tl(this.value.arrayValue,n)}}class aA extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>tl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,n=null,i=[],s=[],o=null,l=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=l,this.endAt=h,this.Te=null}}function __(t,e=null,n=[],i=[],s=null,o=null,l=null){return new lA(t,e,n,i,s,o,l)}function Fp(t){const e=Me(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>dd(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Dp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>wo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>wo(i)).join(",")),e.Te=n}return e.Te}function Bp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!JC(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!g_(t.startAt,e.startAt)&&g_(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n=null,i=[],s=[],o=null,l="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=l,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function uA(t,e,n,i,s,o,l,h){return new Xc(t,e,n,i,s,o,l,h)}function cA(t){return new Xc(t)}function y_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hA(t){return t.collectionGroup!==null}function La(t){const e=Me(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let h=new Et(vt.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Ec(o,i))}),n.has(vt.keyField().canonicalString())||e.Ie.push(new Ec(vt.keyField(),i))}return e.Ie}function Wr(t){const e=Me(t);return e.Ee||(e.Ee=fA(e,La(t))),e.Ee}function fA(t,e){if(t.limitType==="F")return __(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Ec(s.field,o)});const n=t.endAt?new wc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new wc(t.startAt.position,t.startAt.inclusive):null;return __(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function pd(t,e,n){return new Xc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bw(t,e){return Bp(Wr(t),Wr(e))&&t.limitType===e.limitType}function Nw(t){return`${Fp(Wr(t))}|lt:${t.limitType}`}function ca(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>Lw(s)).join(", ")}]`),Dp(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>wo(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>wo(s)).join(",")),`Target(${i})`}(Wr(t))}; limitType=${t.limitType})`}function jp(t,e){return e.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):pe.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,s){for(const o of La(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(l,h,d){const m=m_(l,h,d);return l.inclusive?m<=0:m<0}(i.startAt,La(i),s)||i.endAt&&!function(l,h,d){const m=m_(l,h,d);return l.inclusive?m>=0:m>0}(i.endAt,La(i),s))}(t,e)}function dA(t){return(e,n)=>{let i=!1;for(const s of La(t)){const o=pA(s,e,n);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function pA(t,e,n){const i=t.field.isKeyField()?pe.comparator(e.key,n.key):function(o,l,h){const d=l.data.field(o),m=h.data.field(o);return d!==null&&m!==null?vo(d,m):me(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return me(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Io(this.inner,(n,i)=>{for(const[s,o]of i)e(s,o)})}isEmpty(){return yw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=new Yt(pe.comparator);function Tc(){return mA}const Ow=new Yt(pe.comparator);function wu(...t){let e=Ow;for(const n of t)e=e.insert(n.key,n);return e}function Dw(t){let e=Ow;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Br(){return Ra()}function Mw(){return Ra()}function Ra(){return new as(t=>t.toString(),(t,e)=>t.isEqual(e))}const gA=new Yt(pe.comparator),_A=new Et(pe.comparator);function kt(...t){let e=_A;for(const n of t)e=e.add(n);return e}const yA=new Et(Re);function vA(){return yA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gc(e)?"-0":e}}function Vw(t){return{integerValue:""+t}}function wA(t,e){return HC(e)?Vw(e):Up(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(){this._=void 0}}function EA(t,e,n){return t instanceof nl?function(s,o){const l={fields:{[ww]:{stringValue:vw},[Tw]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Mp(o)&&(o=Vp(o)),o&&(l.fields[Ew]=o),{mapValue:l}}(n,e):t instanceof il?Fw(t,e):t instanceof rl?Bw(t,e):function(s,o){const l=zw(s,o),h=v_(l)+v_(s.Ae);return fd(l)&&fd(s.Ae)?Vw(h):Up(s.serializer,h)}(t,e)}function TA(t,e,n){return t instanceof il?Fw(t,e):t instanceof rl?Bw(t,e):n}function zw(t,e){return t instanceof xc?function(i){return fd(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class nl extends Yc{}class il extends Yc{constructor(e){super(),this.elements=e}}function Fw(t,e){const n=jw(e);for(const i of t.elements)n.some(s=>ni(s,i))||n.push(i);return{arrayValue:{values:n}}}class rl extends Yc{constructor(e){super(),this.elements=e}}function Bw(t,e){let n=jw(e);for(const i of t.elements)n=n.filter(s=>!ni(s,i));return{arrayValue:{values:n}}}class xc extends Yc{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function v_(t){return yt(t.integerValue||t.doubleValue)}function jw(t){return zp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,n){this.field=e,this.transform=n}}function SA(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof il&&s instanceof il||i instanceof rl&&s instanceof rl?_o(i.elements,s.elements,ni):i instanceof xc&&s instanceof xc?ni(i.Ae,s.Ae):i instanceof nl&&s instanceof nl}(t.transform,e.transform)}class PA{constructor(e,n){this.version=e,this.transformResults=n}}class wi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jc{}function Uw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hw(t.key,wi.none()):new gl(t.key,t.data,wi.none());{const n=t.data,i=Nn.empty();let s=new Et(vt.comparator);for(let o of e.fields)if(!s.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?i.delete(o):i.set(o,l),s=s.add(o)}return new ls(t.key,i,new Dn(s.toArray()),wi.none())}}function IA(t,e,n){t instanceof gl?function(s,o,l){const h=s.value.clone(),d=E_(s.fieldTransforms,o,l.transformResults);h.setAll(d),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):t instanceof ls?function(s,o,l){if(!Fu(s.precondition,o))return void o.convertToUnknownDocument(l.version);const h=E_(s.fieldTransforms,o,l.transformResults),d=o.data;d.setAll($w(s)),d.setAll(h),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function ba(t,e,n,i){return t instanceof gl?function(o,l,h,d){if(!Fu(o.precondition,l))return h;const m=o.value.clone(),y=T_(o.fieldTransforms,d,l);return m.setAll(y),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null}(t,e,n,i):t instanceof ls?function(o,l,h,d){if(!Fu(o.precondition,l))return h;const m=T_(o.fieldTransforms,d,l),y=l.data;return y.setAll($w(o)),y.setAll(m),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(w=>w.field))}(t,e,n,i):function(o,l,h){return Fu(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h}(t,e,n)}function CA(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),o=zw(i.transform,s||null);o!=null&&(n===null&&(n=Nn.empty()),n.set(i.field,o))}return n||null}function w_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&_o(i,s,(o,l)=>SA(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gl extends Jc{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ls extends Jc{constructor(e,n,i,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function $w(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function E_(t,e,n){const i=new Map;Qe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const o=t[s],l=o.transform,h=e.data.field(o.field);i.set(o.field,TA(l,h,n[s]))}return i}function T_(t,e,n){const i=new Map;for(const s of t){const o=s.transform,l=n.data.field(s.field);i.set(s.field,EA(o,l,e))}return i}class Hw extends Jc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AA extends Jc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&IA(o,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=ba(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=ba(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=Mw();return this.mutations.forEach(s=>{const o=e.get(s.key),l=o.overlayedDocument;let h=this.applyToLocalView(l,o.mutatedFields);h=n.has(s.key)?null:h;const d=Uw(l,h);d!==null&&i.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Be.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),kt())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,(n,i)=>w_(n,i))&&_o(this.baseMutations,e.baseMutations,(n,i)=>w_(n,i))}}class $p{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){Qe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let s=function(){return gA}();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,i[l].version);return new $p(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt,Te;function RA(t){switch(t){case Q.OK:return me(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return me(15467,{code:t})}}function bA(t){if(t===void 0)return es("GRPC error has no .code"),Q.UNKNOWN;switch(t){case tt.OK:return Q.OK;case tt.CANCELLED:return Q.CANCELLED;case tt.UNKNOWN:return Q.UNKNOWN;case tt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case tt.INTERNAL:return Q.INTERNAL;case tt.UNAVAILABLE:return Q.UNAVAILABLE;case tt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case tt.NOT_FOUND:return Q.NOT_FOUND;case tt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case tt.ABORTED:return Q.ABORTED;case tt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case tt.DATA_LOSS:return Q.DATA_LOSS;default:return me(39323,{code:t})}}(Te=tt||(tt={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Ap([4294967295,4294967295],0);class NA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function md(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function DA(t,e){return md(t,e.toTimestamp())}function ao(t){return Qe(!!t,49232),Be.fromTimestamp(function(n){const i=ts(n);return new Ue(i.seconds,i.nanos)}(t))}function Ww(t,e){return gd(t,e).canonicalString()}function gd(t,e){const n=function(s){return new He(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function MA(t){const e=He.fromString(t);return Qe(HA(e),10190,{key:e.toString()}),e}function _d(t,e){return Ww(t.databaseId,e.path)}function VA(t){const e=MA(t);return e.length===4?He.emptyPath():FA(e)}function zA(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FA(t){return Qe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function x_(t,e,n){return{name:_d(t,e),fields:n.value.mapValue.fields}}function BA(t,e){let n;if(e instanceof gl)n={update:x_(t,e.key,e.value)};else if(e instanceof Hw)n={delete:_d(t,e.key)};else if(e instanceof ls)n={update:x_(t,e.key,e.data),updateMask:$A(e.fieldMask)};else{if(!(e instanceof AA))return me(16599,{Vt:e.type});n={verify:_d(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,l){const h=l.transform;if(h instanceof nl)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof il)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof rl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof xc)return{fieldPath:l.field.canonicalString(),increment:h.Ae};throw me(20930,{transform:l.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:DA(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:me(27497)}(t,e.precondition)),n}function jA(t,e){return t&&t.length>0?(Qe(e!==void 0,14353),t.map(n=>function(s,o){let l=s.updateTime?ao(s.updateTime):ao(o);return l.isEqual(Be.min())&&(l=ao(o)),new PA(l,s.transformResults||[])}(n,e))):[]}function UA(t){let e=VA(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){Qe(i===1,65062);const y=n.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let o=[];n.where&&(o=function(w){const v=Zw(w);return v instanceof cr&&Aw(v)?v.getFilters():[v]}(n.where));let l=[];n.orderBy&&(l=function(w){return w.map(v=>function(M){return new Ec(js(M.field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(v))}(n.orderBy));let h=null;n.limit&&(h=function(w){let v;return v=typeof w=="object"?w.value:w,Dp(v)?null:v}(n.limit));let d=null;n.startAt&&(d=function(w){const v=!!w.before,O=w.values||[];return new wc(O,v)}(n.startAt));let m=null;return n.endAt&&(m=function(w){const v=!w.before,O=w.values||[];return new wc(O,v)}(n.endAt)),uA(e,s,l,o,h,"F",d,m)}function Zw(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=js(n.unaryFilter.field);return dt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=js(n.unaryFilter.field);return dt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=js(n.unaryFilter.field);return dt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=js(n.unaryFilter.field);return dt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return me(61313);default:return me(60726)}}(t):t.fieldFilter!==void 0?function(n){return dt.create(js(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return me(58110);default:return me(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return cr.create(n.compositeFilter.filters.map(i=>Zw(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return me(1026)}}(n.compositeFilter.op))}(t):me(30097,{filter:t})}function js(t){return vt.fromServerFormat(t.fieldPath)}function $A(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function HA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.yt=e}}function ZA(t){const e=UA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?pd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this.Cn=new GA}addToCollectionParentIndex(e,n){return this.Cn.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(ur.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(ur.min())}updateCollectionGroup(e,n,i){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class GA{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new Et(He.comparator),o=!s.has(i);return this.index[n]=s.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Et(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qw=41943040;class Zt{static withCacheSize(e){return new Zt(e,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zt.DEFAULT_COLLECTION_PERCENTILE=10,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zt.DEFAULT=new Zt(qw,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zt.DISABLED=new Zt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Eo(0)}static cr(){return new Eo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="LruGarbageCollector",KA=1048576;function I_([t,e],[n,i]){const s=Re(t,n);return s===0?Re(e,i):s}class QA{constructor(e){this.Ir=e,this.buffer=new Et(I_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();I_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class XA{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){re(P_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ml(n)?re(P_,"Ignoring IndexedDB error during garbage collection: ",n):await bp(n)}await this.Vr(3e5)})}}class YA{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return q.resolve(Np.ce);const i=new QA(n);return this.mr.forEachTarget(e,s=>i.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>i.Ar(s))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(S_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),S_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,s,o,l,h,d,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,l=Date.now(),this.nthSequenceNumber(e,s))).next(w=>(i=w,h=Date.now(),this.removeTargets(e,i,n))).next(w=>(o=w,d=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(m=Date.now(),Bs()<=xe.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${s} in `+(h-l)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${w} documents in `+(m-d)+`ms
Total Duration: ${m-y}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:w})))}}function JA(t,e){return new YA(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(){this.changes=new as(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?q.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&ba(i.mutation,s,Dn.empty(),Ue.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,kt()).next(()=>i))}getLocalViewOfDocuments(e,n,i=kt()){const s=Br();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(o=>{let l=wu();return o.forEach((h,d)=>{l=l.insert(h,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const i=Br();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,kt()))}populateOverlays(e,n,i){const s=[];return i.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((l,h)=>{n.set(l,h)})})}computeViews(e,n,i,s){let o=Tc();const l=Ra(),h=function(){return Ra()}();return n.forEach((d,m)=>{const y=i.get(m.key);s.has(m.key)&&(y===void 0||y.mutation instanceof ls)?o=o.insert(m.key,m):y!==void 0?(l.set(m.key,y.mutation.getFieldMask()),ba(y.mutation,m,y.mutation.getFieldMask(),Ue.now())):l.set(m.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((m,y)=>l.set(m,y)),n.forEach((m,y)=>h.set(m,new tk(y,l.get(m)??null))),h))}recalculateAndSaveOverlays(e,n){const i=Ra();let s=new Yt((l,h)=>l-h),o=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const h of l)h.keys().forEach(d=>{const m=n.get(d);if(m===null)return;let y=i.get(d)||Dn.empty();y=h.applyToLocalView(m,y),i.set(d,y);const w=(s.get(h.batchId)||kt()).add(d);s=s.insert(h.batchId,w)})}).next(()=>{const l=[],h=s.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,y=d.value,w=Mw();y.forEach(v=>{if(!o.has(v)){const O=Uw(n.get(v),i.get(v));O!==null&&w.set(v,O),o=o.add(v)}}),l.push(this.documentOverlayCache.saveOverlays(e,m,w))}return q.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(l){return pe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-o.size):q.resolve(Br());let h=el,d=o;return l.next(m=>q.forEach(m,(y,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),o.get(y)?q.resolve():this.remoteDocumentCache.getEntry(e,y).next(v=>{d=d.insert(y,v)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,d,m,kt())).next(y=>({batchId:h,changes:Dw(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(i=>{let s=wu();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const o=n.collectionGroup;let l=wu();return this.indexManager.getCollectionParents(e,o).next(h=>q.forEach(h,d=>{const m=function(w,v){return new Xc(v,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,i,s).next(y=>{y.forEach((w,v)=>{l=l.insert(w,v)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,s))).next(l=>{o.forEach((d,m)=>{const y=m.getKey();l.get(y)===null&&(l=l.insert(y,bn.newInvalidDocument(y)))});let h=wu();return l.forEach((d,m)=>{const y=o.get(d);y!==void 0&&ba(y.mutation,m,Dn.empty(),Ue.now()),jp(n,m)&&(h=h.insert(d,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ao(s.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:ZA(s.bundledQuery),readTime:ao(s.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(){this.overlays=new Yt(pe.comparator),this.qr=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Br();return q.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,o)=>{this.St(e,n,o)}),q.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(i)),q.resolve()}getOverlaysForCollection(e,n,i){const s=Br(),o=n.length+1,l=new pe(n.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===o&&d.largestBatchId>i&&s.set(d.getKey(),d)}return q.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let o=new Yt((m,y)=>m-y);const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let y=o.get(m.largestBatchId);y===null&&(y=Br(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=Br(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((m,y)=>h.set(m,y)),!(h.size()>=s)););return q.resolve(h)}St(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new LA(n,i));let o=this.qr.get(n);o===void 0&&(o=kt(),this.qr.set(n,o)),this.qr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(){this.sessionToken=ti.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(){this.Qr=new Et(ht.$r),this.Ur=new Et(ht.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new ht(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Gr(new ht(e,n))}zr(e,n){e.forEach(i=>this.removeReference(i,n))}jr(e){const n=new pe(new He([])),i=new ht(n,e),s=new ht(n,e+1),o=[];return this.Ur.forEachInRange([i,s],l=>{this.Gr(l),o.push(l.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new He([])),i=new ht(n,e),s=new ht(n,e+1);let o=kt();return this.Ur.forEachInRange([i,s],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new ht(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class ht{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||Re(e.Yr,n.Yr)}static Kr(e,n){return Re(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Et(ht.$r)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new kA(o,n,i,s);this.mutationQueue.push(l);for(const h of s)this.Zr=this.Zr.add(new ht(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return q.resolve(l)}lookupMutationBatch(e,n){return q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.ei(i),o=s<0?0:s;return q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?Op:this.tr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new ht(n,0),s=new ht(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,s],l=>{const h=this.Xr(l.Yr);o.push(h)}),q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Et(Re);return n.forEach(s=>{const o=new ht(s,0),l=new ht(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],h=>{i=i.add(h.Yr)})}),q.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let o=i;pe.isDocumentKey(o)||(o=o.child(""));const l=new ht(new pe(o),0);let h=new Et(Re);return this.Zr.forEachWhile(d=>{const m=d.key.path;return!!i.isPrefixOf(m)&&(m.length===s&&(h=h.add(d.Yr)),!0)},l),q.resolve(this.ti(h))}ti(e){const n=[];return e.forEach(i=>{const s=this.Xr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return q.forEach(n.mutations,s=>{const o=new ht(s.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,n){const i=new ht(n,0),s=this.Zr.firstAfterOrEqual(i);return q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e){this.ri=e,this.docs=function(){return new Yt(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),o=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return q.resolve(i?i.document.mutableCopy():bn.newInvalidDocument(n))}getEntries(e,n){let i=Tc();return n.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():bn.newInvalidDocument(s))}),q.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let o=Tc();const l=n.path,h=new pe(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:y}}=d.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||BC(FC(y),i)<=0||(s.has(y.key)||jp(n,y))&&(o=o.insert(y.key,y.mutableCopy()))}return q.resolve(o)}getAllFromCollectionGroup(e,n,i,s){me(9500)}ii(e,n){return q.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new lk(this)}getSize(e){return q.resolve(this.size)}}class lk extends ek{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(i)}),q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.persistence=e,this.si=new as(n=>Fp(n),Bp),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.oi=0,this._i=new Hp,this.targetCount=0,this.ai=Eo.ur()}forEachTarget(e,n){return this.si.forEach((i,s)=>n(s)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Eo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Pr(n),q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,i){let s=0;const o=[];return this.si.forEach((l,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),q.waitFor(o).next(()=>s)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return q.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),q.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(l=>{o.push(s.markPotentiallyOrphaned(e,l))}),q.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return q.resolve(i)}containsKey(e,n){return q.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,n){this.ui={},this.overlays={},this.ci=new Np(0),this.li=!1,this.li=!0,this.hi=new sk,this.referenceDelegate=e(this),this.Pi=new uk(this),this.indexManager=new qA,this.remoteDocumentCache=function(s){return new ak(s)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new WA(n),this.Ii=new ik(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new ok(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){re("MemoryPersistence","Starting transaction:",e);const s=new ck(this.ci.next());return this.referenceDelegate.Ei(),i(s).next(o=>this.referenceDelegate.di(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ai(e,n){return q.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,n)))}}class ck extends UC{constructor(e){super(),this.currentSequenceNumber=e}}class Wp{constructor(e){this.persistence=e,this.Ri=new Hp,this.Vi=null}static mi(e){return new Wp(e)}get fi(){if(this.Vi)return this.Vi;throw me(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),q.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.fi.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.fi,i=>{const s=pe.fromPath(i);return this.gi(e,s).next(o=>{o||n.removeEntry(s,Be.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return q.or([()=>q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Sc{constructor(e,n){this.persistence=e,this.pi=new as(i=>WC(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=JA(this,n)}static mi(e,n){return new Sc(e,n)}Ei(){}di(e){return q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(s=>i+s))}wr(e){let n=0;return this.pr(e,i=>{n++}).next(()=>n)}pr(e,n){return q.forEach(this.pi,(i,s)=>this.br(e,i,s).next(o=>o?q.resolve():n(s)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,l=>this.br(e,l,n).next(h=>{h||(i++,o.removeEntry(l,Be.min()))})).next(()=>o.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),q.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Vu(e.data.value)),n}br(e,n,i){return q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return q.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=s}static As(e,n){let i=kt(),s=kt();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Zp(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return BS()?8:$C(VS())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,s){const o={result:null};return this.ys(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ws(e,n,s,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new hk;return this.Ss(e,n,l).next(h=>{if(o.result=h,this.Vs)return this.bs(e,n,l,h.size)})}).next(()=>o.result)}bs(e,n,i,s){return i.documentReadCount<this.fs?(Bs()<=xe.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",ca(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),q.resolve()):(Bs()<=xe.DEBUG&&re("QueryEngine","Query:",ca(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(Bs()<=xe.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",ca(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wr(n))):q.resolve())}ys(e,n){if(y_(n))return q.resolve(null);let i=Wr(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=pd(n,null,"F"),i=Wr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const l=kt(...o);return this.ps.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,i).next(d=>{const m=this.Ds(n,h);return this.Cs(n,m,l,d.readTime)?this.ys(e,pd(n,null,"F")):this.vs(e,m,n,d)}))})))}ws(e,n,i,s){return y_(n)||s.isEqual(Be.min())?q.resolve(null):this.ps.getDocuments(e,i).next(o=>{const l=this.Ds(n,o);return this.Cs(n,l,i,s)?q.resolve(null):(Bs()<=xe.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ca(n)),this.vs(e,l,n,zC(s,el)).next(h=>h))})}Ds(e,n){let i=new Et(dA(e));return n.forEach((s,o)=>{jp(e,o)&&(i=i.add(o))}),i}Cs(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,i){return Bs()<=xe.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",ca(n)),this.ps.getDocumentsMatchingQuery(e,n,ur.min(),i)}vs(e,n,i,s){return this.ps.getDocumentsMatchingQuery(e,i,s).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk="LocalStore";class pk{constructor(e,n,i,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Yt(Re),this.xs=new as(o=>Fp(o),Bp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function mk(t,e,n,i){return new pk(t,e,n,i)}async function Kw(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],h=[];let d=kt();for(const m of s){l.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}for(const m of o){h.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(i,d).next(m=>({Ls:m,removedBatchIds:l,addedBatchIds:h}))})})}function gk(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(h,d,m,y){const w=m.batch,v=w.keys();let O=q.resolve();return v.forEach(M=>{O=O.next(()=>y.getEntry(d,M)).next(V=>{const W=m.docVersions.get(M);Qe(W!==null,48541),V.version.compareTo(W)<0&&(w.applyToRemoteDocument(V,m),V.isValidDocument()&&(V.setReadTime(m.commitVersion),y.addEntry(V)))})}),O.next(()=>h.mutationQueue.removeMutationBatch(d,w))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let d=kt();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function _k(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function yk(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Op),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}class C_{constructor(){this.activeTargetIds=vA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vk{constructor(){this.Mo=new C_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new C_,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="ConnectivityMonitor";class k_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){re(A_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){re(A_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eu=null;function yd(){return Eu===null?Eu=function(){return 268435456+Math.round(2147483648*Math.random())}():Eu++,"0x"+Eu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh="RestConnection",Ek={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Tk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===yc?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(e,n,i,s,o){const l=yd(),h=this.zo(e,n.toUriEncodedString());re(Jh,`Sending RPC '${e}' ${l}:`,h,i);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,s,o);const{host:m}=new URL(h),y=vp(m);return this.Jo(e,h,d,i,y).then(w=>(re(Jh,`Received RPC '${e}' ${l}: `,w),w),w=>{throw Qc(Jh,`RPC '${e}' ${l} failed with error: `,w,"url: ",h,"request:",i),w})}Ho(e,n,i,s,o,l){return this.Go(e,n,i,s,o)}jo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Po}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),i&&i.headers.forEach((s,o)=>e[o]=s)}zo(e,n){const i=Ek[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const It="WebChannelConnection";class Sk extends Tk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,s,o){const l=yd();return new Promise((h,d)=>{const m=new aw;m.setWithCredentials(!0),m.listenOnce(lw.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Mu.NO_ERROR:const w=m.getResponseJson();re(It,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(w)),h(w);break;case Mu.TIMEOUT:re(It,`RPC '${e}' ${l} timed out`),d(new oe(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Mu.HTTP_ERROR:const v=m.getStatus();if(re(It,`RPC '${e}' ${l} failed with status:`,v,"response text:",m.getResponseText()),v>0){let O=m.getResponseJson();Array.isArray(O)&&(O=O[0]);const M=O==null?void 0:O.error;if(M&&M.status&&M.message){const V=function(N){const P=N.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(P)>=0?P:Q.UNKNOWN}(M.status);d(new oe(V,M.message))}else d(new oe(Q.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new oe(Q.UNAVAILABLE,"Connection failed."));break;default:me(9055,{l_:e,streamId:l,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{re(It,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(s);re(It,`RPC '${e}' ${l} sending request:`,s),m.send(n,"POST",y,i,15)})}T_(e,n,i){const s=yd(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=hw(),h=cw(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const y=o.join("");re(It,`Creating RPC '${e}' stream ${s}: ${y}`,d);const w=l.createWebChannel(y,d);this.I_(w);let v=!1,O=!1;const M=new xk({Yo:W=>{O?re(It,`Not sending because RPC '${e}' stream ${s} is closed:`,W):(v||(re(It,`Opening RPC '${e}' stream ${s} transport.`),w.open(),v=!0),re(It,`RPC '${e}' stream ${s} sending:`,W),w.send(W))},Zo:()=>w.close()}),V=(W,N,P)=>{W.listen(N,A=>{try{P(A)}catch(B){setTimeout(()=>{throw B},0)}})};return V(w,ya.EventType.OPEN,()=>{O||(re(It,`RPC '${e}' stream ${s} transport opened.`),M.o_())}),V(w,ya.EventType.CLOSE,()=>{O||(O=!0,re(It,`RPC '${e}' stream ${s} transport closed`),M.a_(),this.E_(w))}),V(w,ya.EventType.ERROR,W=>{O||(O=!0,Qc(It,`RPC '${e}' stream ${s} transport errored. Name:`,W.name,"Message:",W.message),M.a_(new oe(Q.UNAVAILABLE,"The operation could not be completed")))}),V(w,ya.EventType.MESSAGE,W=>{var N;if(!O){const P=W.data[0];Qe(!!P,16349);const A=P,B=(A==null?void 0:A.error)||((N=A[0])==null?void 0:N.error);if(B){re(It,`RPC '${e}' stream ${s} received error:`,B);const Z=B.status;let K=function(I){const R=tt[I];if(R!==void 0)return bA(R)}(Z),S=B.message;K===void 0&&(K=Q.INTERNAL,S="Unknown error status: "+Z+" with message "+B.message),O=!0,M.a_(new oe(K,S)),w.close()}else re(It,`RPC '${e}' stream ${s} received:`,P),M.u_(P)}}),V(h,uw.STAT_EVENT,W=>{W.stat===ld.PROXY?re(It,`RPC '${e}' stream ${s} detected buffering proxy`):W.stat===ld.NOPROXY&&re(It,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{M.__()},0),M}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function ef(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t){return new NA(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,n,i=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&re("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="PersistentStream";class Pk{constructor(e,n,i,s,o,l,h,d){this.Mi=e,this.S_=i,this.b_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Qw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(es(n.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.D_===n&&this.G_(i,s)},i=>{e(()=>{const s=new oe(Q.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)})})}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{i(()=>this.z_(s))}),this.stream.onMessage(s=>{i(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return re(L_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(re(L_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ik extends Pk{constructor(e,n,i,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=jA(e.writeResults,e.commitTime),i=ao(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=zA(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>BA(this.serializer,i))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{}class Ak extends Ck{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new oe(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Go(e,gd(n,i),s,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe(Q.UNKNOWN,o.toString())})}Ho(e,n,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Ho(e,gd(n,i),s,l,h,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new oe(Q.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class kk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(es(n),this.aa=!1):re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l="RemoteStore";class Lk{constructor(e,n,i,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(l=>{i.enqueueAndForget(async()=>{vl(this)&&(re(_l,"Restarting streams for network reachability change."),await async function(d){const m=Me(d);m.Ea.add(4),await yl(m),m.Ra.set("Unknown"),m.Ea.delete(4),await th(m)}(this))})}),this.Ra=new kk(i,s)}}async function th(t){if(vl(t))for(const e of t.da)await e(!0)}async function yl(t){for(const e of t.da)await e(!1)}function vl(t){return Me(t).Ea.size===0}async function Xw(t,e,n){if(!ml(e))throw e;t.Ea.add(1),await yl(t),t.Ra.set("Offline"),n||(n=()=>_k(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re(_l,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await th(t)})}function Yw(t,e){return e().catch(n=>Xw(t,n,e))}async function nh(t){const e=Me(t),n=hr(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Op;for(;Rk(e);)try{const s=await yk(e.localStore,i);if(s===null){e.Ta.length===0&&n.L_();break}i=s.batchId,bk(e,s)}catch(s){await Xw(e,s)}Jw(e)&&e1(e)}function Rk(t){return vl(t)&&t.Ta.length<10}function bk(t,e){t.Ta.push(e);const n=hr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Jw(t){return vl(t)&&!hr(t).x_()&&t.Ta.length>0}function e1(t){hr(t).start()}async function Nk(t){hr(t).ra()}async function Ok(t){const e=hr(t);for(const n of t.Ta)e.ea(n.mutations)}async function Dk(t,e,n){const i=t.Ta.shift(),s=$p.from(i,e,n);await Yw(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await nh(t)}async function Mk(t,e){e&&hr(t).X_&&await async function(i,s){if(function(l){return RA(l)&&l!==Q.ABORTED}(s.code)){const o=i.Ta.shift();hr(i).B_(),await Yw(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),await nh(i)}}(t,e),Jw(t)&&e1(t)}async function R_(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),re(_l,"RemoteStore received new credentials");const i=vl(n);n.Ea.add(3),await yl(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await th(n)}async function Vk(t,e){const n=Me(t);e?(n.Ea.delete(2),await th(n)):e||(n.Ea.add(2),await yl(n),n.Ra.set("Unknown"))}function hr(t){return t.fa||(t.fa=function(n,i,s){const o=Me(n);return o.sa(),new Ik(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Nk.bind(null,t),r_:Mk.bind(null,t),ta:Ok.bind(null,t),na:Dk.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await nh(t)):(await t.fa.stop(),t.Ta.length>0&&(re(_l,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n,i,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,o){const l=Date.now()+i,h=new qp(e,n,l,s,o);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function t1(t,e){if(es("AsyncQueue",`${e}: ${t}`),ml(t))return new oe(Q.UNAVAILABLE,`${e}: ${t}`);throw t}class zk{constructor(){this.queries=b_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=Me(n),o=s.queries;s.queries=b_(),o.forEach((l,h)=>{for(const d of h.Sa)d.onError(i)})})(this,new oe(Q.ABORTED,"Firestore shutting down"))}}function b_(){return new as(t=>Nw(t),bw)}function Fk(t){t.Ca.forEach(e=>{e.next()})}var N_,O_;(O_=N_||(N_={})).Ma="default",O_.Cache="cache";const Bk="SyncEngine";class jk{constructor(e,n,i,s,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new as(h=>Nw(h),bw),this.Iu=new Map,this.Eu=new Set,this.du=new Yt(pe.comparator),this.Au=new Map,this.Ru=new Hp,this.Vu={},this.mu=new Map,this.fu=Eo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Uk(t,e,n){const i=Zk(t);try{const s=await function(l,h){const d=Me(l),m=Ue.now(),y=h.reduce((O,M)=>O.add(M.key),kt());let w,v;return d.persistence.runTransaction("Locally write mutations","readwrite",O=>{let M=Tc(),V=kt();return d.Ns.getEntries(O,y).next(W=>{M=W,M.forEach((N,P)=>{P.isValidDocument()||(V=V.add(N))})}).next(()=>d.localDocuments.getOverlayedDocuments(O,M)).next(W=>{w=W;const N=[];for(const P of h){const A=CA(P,w.get(P.key).overlayedDocument);A!=null&&N.push(new ls(P.key,A,Pw(A.value.mapValue),wi.exists(!0)))}return d.mutationQueue.addMutationBatch(O,m,N,h)}).next(W=>{v=W;const N=W.applyToLocalDocumentSet(w,V);return d.documentOverlayCache.saveOverlays(O,W.batchId,N)})}).then(()=>({batchId:v.batchId,changes:Dw(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(l,h,d){let m=l.Vu[l.currentUser.toKey()];m||(m=new Yt(Re)),m=m.insert(h,d),l.Vu[l.currentUser.toKey()]=m}(i,s.batchId,n),await ih(i,s.changes),await nh(i.remoteStore)}catch(s){const o=t1(s,"Failed to persist write");n.reject(o)}}function D_(t,e,n){const i=Me(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Tu.forEach((o,l)=>{const h=l.view.va(e);h.snapshot&&s.push(h.snapshot)}),function(l,h){const d=Me(l);d.onlineState=h;let m=!1;d.queries.forEach((y,w)=>{for(const v of w.Sa)v.va(h)&&(m=!0)}),m&&Fk(d)}(i.eventManager,e),s.length&&i.Pu.H_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function $k(t,e){const n=Me(t),i=e.batch.batchId;try{const s=await gk(n.localStore,e);i1(n,i,null),n1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await ih(n,s)}catch(s){await bp(s)}}async function Hk(t,e,n){const i=Me(t);try{const s=await function(l,h){const d=Me(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return d.mutationQueue.lookupMutationBatch(m,h).next(w=>(Qe(w!==null,37113),y=w.keys(),d.mutationQueue.removeMutationBatch(m,w))).next(()=>d.mutationQueue.performConsistencyCheck(m)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(m,y,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>d.localDocuments.getDocuments(m,y))})}(i.localStore,e);i1(i,e,n),n1(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await ih(i,s)}catch(s){await bp(s)}}function n1(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function i1(t,e,n){const i=Me(t);let s=i.Vu[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),i.Vu[i.currentUser.toKey()]=s}}async function ih(t,e,n){const i=Me(t),s=[],o=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach((h,d)=>{l.push(i.pu(d,e,n).then(m=>{var y;if((m||n)&&i.isPrimaryClient){const w=m?!m.fromCache:(y=n==null?void 0:n.targetChanges.get(d.targetId))==null?void 0:y.current;i.sharedClientState.updateQueryState(d.targetId,w?"current":"not-current")}if(m){s.push(m);const w=Zp.As(d.targetId,m);o.push(w)}}))}),await Promise.all(l),i.Pu.H_(s),await async function(d,m){const y=Me(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>q.forEach(m,v=>q.forEach(v.Es,O=>y.persistence.referenceDelegate.addReference(w,v.targetId,O)).next(()=>q.forEach(v.ds,O=>y.persistence.referenceDelegate.removeReference(w,v.targetId,O)))))}catch(w){if(!ml(w))throw w;re(dk,"Failed to update sequence numbers: "+w)}for(const w of m){const v=w.targetId;if(!w.fromCache){const O=y.Ms.get(v),M=O.snapshotVersion,V=O.withLastLimboFreeSnapshotVersion(M);y.Ms=y.Ms.insert(v,V)}}}(i.localStore,o))}async function Wk(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){re(Bk,"User change. New user:",e.toKey());const i=await Kw(n.localStore,e);n.currentUser=e,function(o,l){o.mu.forEach(h=>{h.forEach(d=>{d.reject(new oe(Q.CANCELLED,l))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ih(n,i.Ls)}}function Zk(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$k.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Hk.bind(null,e),e}class Pc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=eh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return mk(this.persistence,new fk,e.initialUser,this.serializer)}Cu(e){return new Gw(Wp.mi,this.serializer)}Du(e){return new vk}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pc.provider={build:()=>new Pc};class qk extends Pc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof Sc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new XA(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Zt.withCacheSize(this.cacheSizeBytes):Zt.DEFAULT;return new Gw(i=>Sc.mi(i,n),this.serializer)}}class vd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>D_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Wk.bind(null,this.syncEngine),await Vk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zk}()}createDatastore(e){const n=eh(e.databaseInfo.databaseId),i=function(o){return new Sk(o)}(e.databaseInfo);return function(o,l,h,d){return new Ak(o,l,h,d)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,o,l,h){return new Lk(i,s,o,l,h)}(this.localStore,this.datastore,e.asyncQueue,n=>D_(this.syncEngine,n,0),function(){return k_.v()?new k_:new wk}())}createSyncEngine(e,n){return function(s,o,l,h,d,m,y){const w=new jk(s,o,l,h,d,m);return y&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=Me(s);re(_l,"RemoteStore shutting down."),o.Ea.add(5),await yl(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}vd.provider={build:()=>new vd};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="FirestoreClient";class Gk{constructor(e,n,i,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Ct.UNAUTHENTICATED,this.clientId=Lp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async l=>{re(fr,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(re(fr,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=t1(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function tf(t,e){t.asyncQueue.verifyOperationInProgress(),re(fr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await Kw(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function M_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Kk(t);re(fr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>R_(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>R_(e.remoteStore,s)),t._onlineComponents=e}async function Kk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re(fr,"Using user provided OfflineComponentProvider");try{await tf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===Q.FAILED_PRECONDITION||s.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Qc("Error using user provided cache. Falling back to memory cache: "+n),await tf(t,new Pc)}}else re(fr,"Using default OfflineComponentProvider"),await tf(t,new qk(void 0));return t._offlineComponents}async function Qk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re(fr,"Using user provided OnlineComponentProvider"),await M_(t,t._uninitializedComponentsProvider._online)):(re(fr,"Using default OnlineComponentProvider"),await M_(t,new vd))),t._onlineComponents}function Xk(t){return Qk(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="firestore.googleapis.com",z_=!0;class F_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=s1,this.ssl=z_}else this.host=e.host,this.ssl=e.ssl??z_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KA)throw new oe(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=r1(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new oe(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new oe(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new oe(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rh{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new CC;switch(i.type){case"firstParty":return new RC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new oe(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=V_.get(n);i&&(re("ComponentProvider","Removing Datastore"),V_.delete(n),i.terminate())}(this),Promise.resolve()}}function Yk(t,e,n,i={}){var m;t=gw(t,rh);const s=vp(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;s&&(bS(`https://${h}`),MS("Firestore",!0)),o.host!==s1&&o.host!==h&&Qc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:s,emulatorOptions:i};if(!Ya(d,l)&&(t._setSettings(d),i.mockUserToken)){let y,w;if(typeof i.mockUserToken=="string")y=i.mockUserToken,w=Ct.MOCK_USER;else{y=NS(i.mockUserToken,(m=t._app)==null?void 0:m.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new oe(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Ct(v)}t._authCredentials=new AC(new dw(y,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Gp(this.firestore,e,this._query)}}class Lt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(pl(n,Lt._jsonSchema))return new Lt(e,i||null,new pe(He.fromString(n.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:it("string",Lt._jsonSchemaVersion),referencePath:it("string")};class rr extends Gp{constructor(e,n,i){super(e,n,cA(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new pe(e))}withConverter(e){return new rr(this.firestore,e,this._path)}}function Jk(t,e,...n){if(t=ar(t),pw("collection","path",e),t instanceof rh){const i=He.fromString(e,...n);return a_(i),new rr(t,null,i)}{if(!(t instanceof Lt||t instanceof rr))throw new oe(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(He.fromString(e,...n));return a_(i),new rr(t.firestore,null,i)}}function e2(t,e,...n){if(t=ar(t),arguments.length===1&&(e=Lp.newId()),pw("doc","path",e),t instanceof rh){const i=He.fromString(e,...n);return o_(i),new Lt(t,null,new pe(i))}{if(!(t instanceof Lt||t instanceof rr))throw new oe(Q.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(He.fromString(e,...n));return o_(i),new Lt(t.firestore,t instanceof rr?t.converter:null,new pe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="AsyncQueue";class j_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Qw(this,"async_queue_retry"),this._c=()=>{const i=ef();i&&re(B_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=ef();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ef();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Hr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ml(e))throw e;re(B_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,es("INTERNAL UNHANDLED ERROR: ",U_(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=qp.createAndSchedule(this,e,n,i,o=>this.hc(o));return this.tc.push(s),s}uc(){this.nc&&me(47125,{Pc:U_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function U_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class o1 extends rh{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new j_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new j_(e),this._firestoreClient=void 0,await e}}}function t2(t,e){const n=typeof t=="object"?t:V0(),i=typeof t=="string"?t:yc,s=dl(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=LS("firestore");o&&Yk(s,...o)}return s}function n2(t){if(t._terminated)throw new oe(Q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||i2(t),t._firestoreClient}function i2(t){var i,s,o;const e=t._freezeSettings(),n=function(h,d,m,y){return new KC(h,d,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,r1(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Gk(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(ti.fromBase64String(e))}catch(n){throw new oe(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new On(ti.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pl(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:it("string",On._jsonSchemaVersion),bytes:it("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ei._jsonSchemaVersion}}static fromJSON(e){if(pl(e,Ei._jsonSchema))return new Ei(e.latitude,e.longitude)}}Ei._jsonSchemaVersion="firestore/geoPoint/1.0",Ei._jsonSchema={type:it("string",Ei._jsonSchemaVersion),latitude:it("number"),longitude:it("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pl(e,Ti._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ti(e.vectorValues);throw new oe(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ti._jsonSchemaVersion="firestore/vectorValue/1.0",Ti._jsonSchema={type:it("string",Ti._jsonSchemaVersion),vectorValues:it("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=/^__.*__$/;class s2{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ls(e,this.data,this.fieldMask,n,this.fieldTransforms):new gl(e,this.data,n,this.fieldTransforms)}}function a1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me(40011,{Ac:t})}}class Xp{constructor(e,n,i,s,o,l){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ic(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(a1(this.Ac)&&r2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class o2{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||eh(e)}Cc(e,n,i,s=!1){return new Xp({Ac:e,methodName:n,Dc:i,path:vt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function a2(t){const e=t._freezeSettings(),n=eh(t._databaseId);return new o2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function l2(t,e,n,i,s,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,s);h1("Data must be an object, but it was:",l,i);const h=u1(i,l);let d,m;if(o.merge)d=new Dn(l.fieldMask),m=l.fieldTransforms;else if(o.mergeFields){const y=[];for(const w of o.mergeFields){const v=u2(e,w,n);if(!l.contains(v))throw new oe(Q.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);h2(y,v)||y.push(v)}d=new Dn(y),m=l.fieldTransforms.filter(w=>d.covers(w.field))}else d=null,m=l.fieldTransforms;return new s2(new Nn(h),d,m)}class Yp extends Qp{_toFieldTransform(e){return new xA(e.path,new nl)}isEqual(e){return e instanceof Yp}}function l1(t,e){if(c1(t=ar(t)))return h1("Unsupported field value:",e,t),u1(t,e);if(t instanceof Qp)return function(i,s){if(!a1(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,s){const o=[];let l=0;for(const h of i){let d=l1(h,s.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(t,e)}return function(i,s){if((i=ar(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return wA(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Ue.fromDate(i);return{timestampValue:md(s.serializer,o)}}if(i instanceof Ue){const o=new Ue(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:md(s.serializer,o)}}if(i instanceof Ei)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof On)return{bytesValue:OA(s.serializer,i._byteString)};if(i instanceof Lt){const o=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ww(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Ti)return function(l,h){return{mapValue:{fields:{[xw]:{stringValue:Sw},[cd]:{arrayValue:{values:l.toArray().map(m=>{if(typeof m!="number")throw h.Sc("VectorValues must only contain numeric values.");return Up(h.serializer,m)})}}}}}}(i,s);throw s.Sc(`Unsupported field value: ${Rp(i)}`)}(t,e)}function u1(t,e){const n={};return yw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Io(t,(i,s)=>{const o=l1(s,e.mc(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function c1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ue||t instanceof Ei||t instanceof On||t instanceof Lt||t instanceof Qp||t instanceof Ti)}function h1(t,e,n){if(!c1(n)||!mw(n)){const i=Rp(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function u2(t,e,n){if((e=ar(e))instanceof Kp)return e._internalPath;if(typeof e=="string")return f1(t,e);throw Ic("Field path arguments must be of type string or ",t,!1,void 0,n)}const c2=new RegExp("[~\\*/\\[\\]]");function f1(t,e,n){if(e.search(c2)>=0)throw Ic(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Kp(...e.split("."))._internalPath}catch{throw Ic(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ic(t,e,n,i,s){const o=i&&!i.isEmpty(),l=s!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${i}`),l&&(d+=` in document ${s}`),d+=")"),new oe(Q.INVALID_ARGUMENT,h+t+d)}function h2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,n,i,s,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new f2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(p1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class f2 extends d1{data(){return super.data()}}function p1(t,e){return typeof e=="string"?f1(t,e):e instanceof Kp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Tu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lo extends d1{constructor(e,n,i,s,o,l){super(e,n,i,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(p1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=lo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}lo._jsonSchemaVersion="firestore/documentSnapshot/1.0",lo._jsonSchema={type:it("string",lo._jsonSchemaVersion),bundleSource:it("string","DocumentSnapshot"),bundleName:it("string"),bundle:it("string")};class Bu extends lo{data(e={}){return super.data(e)}}class Na{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Tu(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Bu(this._firestore,this._userDataWriter,i.key,i,new Tu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(h=>{const d=new Bu(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Tu(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const d=new Bu(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Tu(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,y=-1;return h.type!==0&&(m=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),h.type!==1&&(l=l.add(h.doc),y=l.indexOf(h.doc.key)),{type:p2(h.type),doc:d,oldIndex:m,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Na._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function p2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me(61501,{type:t})}}Na._jsonSchemaVersion="firestore/querySnapshot/1.0",Na._jsonSchema={type:it("string",Na._jsonSchemaVersion),bundleSource:it("string","QuerySnapshot"),bundleName:it("string"),bundle:it("string")};function m2(t,e){const n=gw(t.firestore,o1),i=e2(t),s=d2(t.converter,e);return g2(n,[l2(a2(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,wi.exists(!1))]).then(()=>i)}function g2(t,e){return function(i,s){const o=new Hr;return i.asyncQueue.enqueueAndForget(async()=>Uk(await Xk(i),s,o)),o.promise}(n2(t),e)}function _2(){return new Yp("serverTimestamp")}(function(e,n=!0){(function(s){Po=s})(qP),lr(new Ci("firestore",(i,{instanceIdentifier:s,options:o})=>{const l=i.getProvider("app").getImmediate(),h=new o1(new kC(i.getProvider("auth-internal")),new bC(l,i.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new oe(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vc(m.options.projectId,y)}(l,s),l);return o={useFetchStreams:n,...o},h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),ei(n_,i_,e),ei(n_,i_,"esm2020")})();const y2={apiKey:"AIzaSyANr9cM0fl0KxAgFGRlV6FQr0moR8w2CiU",authDomain:"gina-patryk.firebaseapp.com",projectId:"gina-patryk",storageBucket:"gina-patryk.firebasestorage.app",messagingSenderId:"758279659862",appId:"1:758279659862:web:5b68daf11c929e5b43b6f7",measurementId:"G-04GGBD6XDD"},m1=M0(y2);TC(m1);const v2=t2(m1);function w2(){const{t}=ss(),[e,n]=ae.useState(!1),[i,s]=ae.useState(!1),[o,l]=ae.useState(null),[h,d]=ae.useState(1),[m,y]=ae.useState([""]),[w,v]=ae.useState("accept"),[O,M]=ae.useState(""),[V,W]=ae.useState("");ae.useEffect(()=>{y(A=>{const B=[...A];if(h>A.length)for(let Z=A.length;Z<h;Z++)B.push("");else B.splice(h);return B})},[h]);const N=(A,B)=>{const Z=[...m];Z[A]=B,y(Z)},P=async A=>{A.preventDefault(),s(!0),l(null);try{await m2(Jk(v2,"rsvps"),{guestCount:h,guestNames:m,attendance:w,dietaryRestrictions:O,email:V,timestamp:_2(),userAgent:navigator.userAgent}),n(!0)}catch(B){console.error("Error adding document: ",B),l(t("rsvp.error"))}finally{s(!1)}};return $.jsx("section",{id:"rsvp",className:"py-20 bg-stone-50",children:$.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[$.jsx("div",{className:"text-center mb-12",children:$.jsx("h2",{className:"text-3xl font-serif text-stone-800 mb-4",children:t("rsvp.title")})}),e?$.jsxs("div",{className:"bg-white p-12 rounded-xl shadow-lg text-center transform transition-all duration-500 ease-in-out",children:[$.jsx("div",{className:"mb-6 text-green-600",children:$.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:$.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),$.jsx("h3",{className:"text-2xl font-serif text-stone-800 mb-2",children:t("rsvp.successMessage")})]}):$.jsxs("form",{onSubmit:P,className:"bg-white p-8 md:p-10 rounded-xl shadow-lg space-y-8",children:[$.jsxs("div",{children:[$.jsx("label",{htmlFor:"guestCount",className:"block text-sm font-medium text-stone-600 mb-2 uppercase tracking-wide",children:t("rsvp.guestsLabel")}),$.jsx("select",{id:"guestCount",value:h,onChange:A=>d(parseInt(A.target.value)),className:"w-full px-4 py-3 border border-stone-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-stone-400 bg-stone-50 transition-colors",children:[1,2,3,4,5].map(A=>$.jsx("option",{value:A,children:A},A))})]}),$.jsxs("div",{className:"space-y-4",children:[$.jsx("label",{className:"block text-sm font-medium text-stone-600 uppercase tracking-wide",children:h===1?t("rsvp.nameLabel"):t("rsvp.nameLabel")+"s"}),m.map((A,B)=>$.jsx("div",{className:"relative",children:$.jsx("input",{type:"text",placeholder:`${t("rsvp.nameLabel")} ${B+1}`,required:!0,value:A,onChange:Z=>N(B,Z.target.value),className:"w-full px-4 py-3 border border-stone-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-stone-400 bg-stone-50 transition-colors"})},B))]}),$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-stone-600 mb-3 uppercase tracking-wide",children:t("rsvp.statusLabel")}),$.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[$.jsxs("label",{className:`relative cursor-pointer p-4 rounded-lg border-2 transition-all duration-200 ${w==="accept"?"border-stone-800 bg-stone-50":"border-stone-200 hover:border-stone-300"}`,children:[$.jsx("input",{type:"radio",name:"attendance",value:"accept",checked:w==="accept",onChange:()=>v("accept"),className:"absolute opacity-0 w-full h-full top-0 left-0 cursor-pointer"}),$.jsxs("div",{className:"flex items-center space-x-3",children:[$.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${w==="accept"?"border-stone-800":"border-stone-300"}`,children:w==="accept"&&$.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-stone-800"})}),$.jsx("span",{className:"font-medium text-stone-800",children:t("rsvp.statusAccept")})]})]}),$.jsxs("label",{className:`relative cursor-pointer p-4 rounded-lg border-2 transition-all duration-200 ${w==="decline"?"border-stone-800 bg-stone-50":"border-stone-200 hover:border-stone-300"}`,children:[$.jsx("input",{type:"radio",name:"attendance",value:"decline",checked:w==="decline",onChange:()=>v("decline"),className:"absolute opacity-0 w-full h-full top-0 left-0 cursor-pointer"}),$.jsxs("div",{className:"flex items-center space-x-3",children:[$.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${w==="decline"?"border-stone-800":"border-stone-300"}`,children:w==="decline"&&$.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-stone-800"})}),$.jsx("span",{className:"font-medium text-stone-800",children:t("rsvp.statusDecline")})]})]})]})]}),$.jsxs("div",{children:[$.jsx("label",{htmlFor:"diet",className:"block text-sm font-medium text-stone-600 mb-2 uppercase tracking-wide",children:t("rsvp.dietLabel")}),$.jsx("textarea",{id:"diet",rows:"3",value:O,onChange:A=>M(A.target.value),placeholder:t("rsvp.dietPlaceholder"),className:"w-full px-4 py-3 border border-stone-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-stone-400 bg-stone-50 transition-colors"})]}),$.jsxs("div",{children:[$.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-stone-600 mb-2 uppercase tracking-wide",children:t("rsvp.emailLabel")}),$.jsx("input",{type:"email",id:"email",value:V,onChange:A=>W(A.target.value),className:"w-full px-4 py-3 border border-stone-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-stone-400 bg-stone-50 transition-colors"}),$.jsx("p",{className:"mt-2 text-xs text-stone-500",children:t("rsvp.emailHint")})]}),o&&$.jsx("div",{className:"text-red-600 text-sm text-center",children:o}),$.jsx("button",{type:"submit",disabled:i,className:`w-full py-4 px-6 rounded-lg text-white font-medium text-lg shadow-md transition-all duration-200 transform hover:-translate-y-0.5
                ${i?"bg-stone-400 cursor-not-allowed":"bg-stone-800 hover:bg-stone-700 hover:shadow-lg"}`,children:t(i?"rsvp.submitLoading":"rsvp.submit")})]})]})})}function E2(){return $.jsxs("footer",{className:"bg-stone-900 text-stone-400 py-8 text-center",children:[$.jsx("p",{className:"font-serif text-lg text-stone-300 mb-2",children:"Gina & Patryk"}),$.jsx("p",{className:"text-sm",children:" 2026"})]})}function T2(){return $.jsxs("div",{className:"min-h-screen bg-stone-50 text-stone-800 font-sans",children:[$.jsx(Xx,{}),$.jsx(Yx,{}),$.jsx(Jx,{}),$.jsx(eS,{}),$.jsx(yS,{}),$.jsx(vS,{}),$.jsx(w2,{}),$.jsx(E2,{})]})}const de=t=>typeof t=="string",ha=()=>{let t,e;const n=new Promise((i,s)=>{t=i,e=s});return n.resolve=t,n.reject=e,n},$_=t=>t==null?"":""+t,x2=(t,e,n)=>{t.forEach(i=>{e[i]&&(n[i]=e[i])})},S2=/###/g,H_=t=>t&&t.indexOf("###")>-1?t.replace(S2,"."):t,W_=t=>!t||de(t),Oa=(t,e,n)=>{const i=de(e)?e.split("."):e;let s=0;for(;s<i.length-1;){if(W_(t))return{};const o=H_(i[s]);!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++s}return W_(t)?{}:{obj:t,k:H_(i[s])}},Z_=(t,e,n)=>{const{obj:i,k:s}=Oa(t,e,Object);if(i!==void 0||e.length===1){i[s]=n;return}let o=e[e.length-1],l=e.slice(0,e.length-1),h=Oa(t,l,Object);for(;h.obj===void 0&&l.length;)o=`${l[l.length-1]}.${o}`,l=l.slice(0,l.length-1),h=Oa(t,l,Object),h&&h.obj&&typeof h.obj[`${h.k}.${o}`]<"u"&&(h.obj=void 0);h.obj[`${h.k}.${o}`]=n},P2=(t,e,n,i)=>{const{obj:s,k:o}=Oa(t,e,Object);s[o]=s[o]||[],s[o].push(n)},Cc=(t,e)=>{const{obj:n,k:i}=Oa(t,e);if(n)return n[i]},I2=(t,e,n)=>{const i=Cc(t,n);return i!==void 0?i:Cc(e,n)},g1=(t,e,n)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in t?de(t[i])||t[i]instanceof String||de(e[i])||e[i]instanceof String?n&&(t[i]=e[i]):g1(t[i],e[i],n):t[i]=e[i]);return t},zs=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var C2={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const A2=t=>de(t)?t.replace(/[&<>"'\/]/g,e=>C2[e]):t;class k2{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const L2=[" ",",","?","!",";"],R2=new k2(20),b2=(t,e,n)=>{e=e||"",n=n||"";const i=L2.filter(l=>e.indexOf(l)<0&&n.indexOf(l)<0);if(i.length===0)return!0;const s=R2.getRegExp(`(${i.map(l=>l==="?"?"\\?":l).join("|")})`);let o=!s.test(t);if(!o){const l=t.indexOf(n);l>0&&!s.test(t.substring(0,l))&&(o=!0)}return o},wd=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const i=e.split(n);let s=t;for(let o=0;o<i.length;){if(!s||typeof s!="object")return;let l,h="";for(let d=o;d<i.length;++d)if(d!==o&&(h+=n),h+=i[d],l=s[h],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&d<i.length-1)continue;o+=d-o+1;break}s=l}return s},Ac=t=>t&&t.replace("_","-"),N2={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class kc{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||N2,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,i,s){return s&&!this.debug?null:(de(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new kc(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new kc(this.logger,e)}}var Xn=new kc;class sh{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const s=this.observers[i].get(n)||0;this.observers[i].set(n,s+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(l=>{let[h,d]=l;for(let m=0;m<d;m++)h(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(l=>{let[h,d]=l;for(let m=0;m<d;m++)h.apply(h,[e,...i])})}}class q_ extends sh{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let h;e.indexOf(".")>-1?h=e.split("."):(h=[e,n],i&&(Array.isArray(i)?h.push(...i):de(i)&&o?h.push(...i.split(o)):h.push(i)));const d=Cc(this.data,h);return!d&&!n&&!i&&e.indexOf(".")>-1&&(e=h[0],n=h[1],i=h.slice(2).join(".")),d||!l||!de(i)?d:wd(this.data&&this.data[e]&&this.data[e][n],i,o)}addResource(e,n,i,s){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let h=[e,n];i&&(h=h.concat(l?i.split(l):i)),e.indexOf(".")>-1&&(h=e.split("."),s=n,n=h[1]),this.addNamespaces(n),Z_(this.data,h,s),o.silent||this.emit("added",e,n,i,s)}addResources(e,n,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in i)(de(i[o])||Array.isArray(i[o]))&&this.addResource(e,n,o,i[o],{silent:!0});s.silent||this.emit("added",e,n,i)}addResourceBundle(e,n,i,s,o){let l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},h=[e,n];e.indexOf(".")>-1&&(h=e.split("."),s=i,i=n,n=h[1]),this.addNamespaces(n);let d=Cc(this.data,h)||{};l.skipCopy||(i=JSON.parse(JSON.stringify(i))),s?g1(d,i,o):d={...d,...i},Z_(this.data,h,d),l.silent||this.emit("added",e,n,i)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var _1={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,i,s){return t.forEach(o=>{this.processors[o]&&(e=this.processors[o].process(e,n,i,s))}),e}};const G_={};class Lc extends sh{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),x2(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Xn.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const i=this.resolve(e,n);return i&&i.res!==void 0}extractFromKey(e,n){let i=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const l=i&&e.indexOf(i)>-1,h=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!b2(e,i,s);if(l&&!h){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:de(o)?[o]:o};const m=e.split(i);(i!==s||i===s&&this.options.ns.indexOf(m[0])>-1)&&(o=m.shift()),e=m.join(s)}return{key:e,namespaces:de(o)?[o]:o}}translate(e,n,i){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:l,namespaces:h}=this.extractFromKey(e[e.length-1],n),d=h[h.length-1],m=n.lng||this.language,y=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(m&&m.toLowerCase()==="cimode"){if(y){const B=n.nsSeparator||this.options.nsSeparator;return s?{res:`${d}${B}${l}`,usedKey:l,exactUsedKey:l,usedLng:m,usedNS:d,usedParams:this.getUsedParamsDetails(n)}:`${d}${B}${l}`}return s?{res:l,usedKey:l,exactUsedKey:l,usedLng:m,usedNS:d,usedParams:this.getUsedParamsDetails(n)}:l}const w=this.resolve(e,n);let v=w&&w.res;const O=w&&w.usedKey||l,M=w&&w.exactUsedKey||l,V=Object.prototype.toString.apply(v),W=["[object Number]","[object Function]","[object RegExp]"],N=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,P=!this.i18nFormat||this.i18nFormat.handleAsObject,A=!de(v)&&typeof v!="boolean"&&typeof v!="number";if(P&&v&&A&&W.indexOf(V)<0&&!(de(N)&&Array.isArray(v))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const B=this.options.returnedObjectHandler?this.options.returnedObjectHandler(O,v,{...n,ns:h}):`key '${l} (${this.language})' returned an object instead of string.`;return s?(w.res=B,w.usedParams=this.getUsedParamsDetails(n),w):B}if(o){const B=Array.isArray(v),Z=B?[]:{},K=B?M:O;for(const S in v)if(Object.prototype.hasOwnProperty.call(v,S)){const x=`${K}${o}${S}`;Z[S]=this.translate(x,{...n,joinArrays:!1,ns:h}),Z[S]===x&&(Z[S]=v[S])}v=Z}}else if(P&&de(N)&&Array.isArray(v))v=v.join(N),v&&(v=this.extendTranslation(v,e,n,i));else{let B=!1,Z=!1;const K=n.count!==void 0&&!de(n.count),S=Lc.hasDefaultValue(n),x=K?this.pluralResolver.getSuffix(m,n.count,n):"",I=n.ordinal&&K?this.pluralResolver.getSuffix(m,n.count,{ordinal:!1}):"",R=K&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),b=R&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${x}`]||n[`defaultValue${I}`]||n.defaultValue;!this.isValidLookup(v)&&S&&(B=!0,v=b),this.isValidLookup(v)||(Z=!0,v=l);const C=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Z?void 0:v,Se=S&&b!==v&&this.options.updateMissing;if(Z||B||Se){if(this.logger.log(Se?"updateKey":"missingKey",m,d,l,Se?b:v),o){const H=this.resolve(l,{...n,keySeparator:!1});H&&H.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let mt=[];const Fe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Fe&&Fe[0])for(let H=0;H<Fe.length;H++)mt.push(Fe[H]);else this.options.saveMissingTo==="all"?mt=this.languageUtils.toResolveHierarchy(n.lng||this.language):mt.push(n.lng||this.language);const jt=(H,se,Y)=>{const le=S&&Y!==v?Y:C;this.options.missingKeyHandler?this.options.missingKeyHandler(H,d,se,le,Se,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(H,d,se,le,Se,n),this.emit("missingKey",H,d,se,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&K?mt.forEach(H=>{const se=this.pluralResolver.getSuffixes(H,n);R&&n[`defaultValue${this.options.pluralSeparator}zero`]&&se.indexOf(`${this.options.pluralSeparator}zero`)<0&&se.push(`${this.options.pluralSeparator}zero`),se.forEach(Y=>{jt([H],l+Y,n[`defaultValue${Y}`]||b)})}):jt(mt,l,b))}v=this.extendTranslation(v,e,n,w,i),Z&&v===l&&this.options.appendNamespaceToMissingKey&&(v=`${d}:${l}`),(Z||B)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}:${l}`:l,B?v:void 0):v=this.options.parseMissingKeyHandler(v))}return s?(w.res=v,w.usedParams=this.getUsedParamsDetails(n),w):v}extendTranslation(e,n,i,s,o){var l=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const m=de(e)&&(i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let y;if(m){const v=e.match(this.interpolator.nestingRegexp);y=v&&v.length}let w=i.replace&&!de(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(w={...this.options.interpolation.defaultVariables,...w}),e=this.interpolator.interpolate(e,w,i.lng||this.language||s.usedLng,i),m){const v=e.match(this.interpolator.nestingRegexp),O=v&&v.length;y<O&&(i.nest=!1)}!i.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(i.lng=this.language||s.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var v=arguments.length,O=new Array(v),M=0;M<v;M++)O[M]=arguments[M];return o&&o[0]===O[0]&&!i.context?(l.logger.warn(`It seems you are nesting recursively key: ${O[0]} in key: ${n[0]}`),null):l.translate(...O,n)},i)),i.interpolation&&this.interpolator.reset()}const h=i.postProcess||this.options.postProcess,d=de(h)?[h]:h;return e!=null&&d&&d.length&&i.applyPostProcessor!==!1&&(e=_1.handle(d,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i,s,o,l,h;return de(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(i))return;const m=this.extractFromKey(d,n),y=m.key;s=y;let w=m.namespaces;this.options.fallbackNS&&(w=w.concat(this.options.fallbackNS));const v=n.count!==void 0&&!de(n.count),O=v&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),M=n.context!==void 0&&(de(n.context)||typeof n.context=="number")&&n.context!=="",V=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);w.forEach(W=>{this.isValidLookup(i)||(h=W,!G_[`${V[0]}-${W}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(h)&&(G_[`${V[0]}-${W}`]=!0,this.logger.warn(`key "${s}" for languages "${V.join(", ")}" won't get resolved as namespace "${h}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),V.forEach(N=>{if(this.isValidLookup(i))return;l=N;const P=[y];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(P,y,N,W,n);else{let B;v&&(B=this.pluralResolver.getSuffix(N,n.count,n));const Z=`${this.options.pluralSeparator}zero`,K=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(v&&(P.push(y+B),n.ordinal&&B.indexOf(K)===0&&P.push(y+B.replace(K,this.options.pluralSeparator)),O&&P.push(y+Z)),M){const S=`${y}${this.options.contextSeparator}${n.context}`;P.push(S),v&&(P.push(S+B),n.ordinal&&B.indexOf(K)===0&&P.push(S+B.replace(K,this.options.pluralSeparator)),O&&P.push(S+Z))}}let A;for(;A=P.pop();)this.isValidLookup(i)||(o=A,i=this.getResource(N,W,A,n))}))})}),{res:i,usedKey:s,exactUsedKey:o,usedLng:l,usedNS:h}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,i,s):this.resourceStore.getResource(e,n,i,s)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!de(e.replace);let s=i?e.replace:e;if(i&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!i){s={...s};for(const o of n)delete s[o]}return s}static hasDefaultValue(e){const n="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&n===i.substring(0,n.length)&&e[i]!==void 0)return!0;return!1}}const nf=t=>t.charAt(0).toUpperCase()+t.slice(1);class K_{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Xn.create("languageUtils")}getScriptPartFromCode(e){if(e=Ac(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Ac(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(de(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let s=Intl.getCanonicalLocales(e)[0];if(s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s)return s}catch{}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let i=e.split("-");return this.options.lowerCaseLng?i=i.map(s=>s.toLowerCase()):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=nf(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=nf(i[1].toLowerCase())),n.indexOf(i[2].toLowerCase())>-1&&(i[2]=nf(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(i=>{if(n)return;const s=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&e.forEach(i=>{if(n)return;const s=this.getLanguagePartFromCode(i);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(o=>{if(o===s)return o;if(!(o.indexOf("-")<0&&s.indexOf("-")<0)&&(o.indexOf("-")>0&&s.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===s||o.indexOf(s)===0&&s.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),de(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let i=e[n];return i||(i=e[this.getScriptPartFromCode(n)]),i||(i=e[this.formatLanguageCode(n)]),i||(i=e[this.getLanguagePartFromCode(n)]),i||(i=e.default),i||[]}toResolveHierarchy(e,n){const i=this.getFallbackCodes(n||this.options.fallbackLng||[],e),s=[],o=l=>{l&&(this.isSupportedCode(l)?s.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return de(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):de(e)&&o(this.formatLanguageCode(e)),i.forEach(l=>{s.indexOf(l)<0&&o(this.formatLanguageCode(l))}),s}}let O2=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],D2={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const M2=["v1","v2","v3"],V2=["v4"],Q_={zero:0,one:1,two:2,few:3,many:4,other:5},z2=()=>{const t={};return O2.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:D2[e.fc]}})}),t};class F2{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=Xn.create("pluralResolver"),(!this.options.compatibilityJSON||V2.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=z2(),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const i=Ac(e==="dev"?"en":e),s=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:i,type:s});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let l;try{l=new Intl.PluralRules(i,{type:s})}catch{if(!e.match(/-|_/))return;const d=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(d,n)}return this.pluralRulesCache[o]=l,l}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(e,n);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}getPluralFormsOfKey(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,i).map(s=>`${n}${s}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((s,o)=>Q_[s]-Q_[o]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):i.numbers.map(s=>this.getSuffix(e,s,n)):[]}getSuffix(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(e,i);return s?this.shouldUseIntlApi()?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:this.getSuffixRetroCompatible(s,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const i=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let s=e.numbers[i];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const o=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?o():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}shouldUseIntlApi(){return!M2.includes(this.options.compatibilityJSON)}}const X_=function(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=I2(t,e,n);return!o&&s&&de(n)&&(o=wd(t,n,i),o===void 0&&(o=wd(e,n,i))),o},rf=t=>t.replace(/\$/g,"$$$$");class B2{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Xn.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:i,useRawValueToEscape:s,prefix:o,prefixEscaped:l,suffix:h,suffixEscaped:d,formatSeparator:m,unescapeSuffix:y,unescapePrefix:w,nestingPrefix:v,nestingPrefixEscaped:O,nestingSuffix:M,nestingSuffixEscaped:V,nestingOptionsSeparator:W,maxReplaces:N,alwaysFormat:P}=e.interpolation;this.escape=n!==void 0?n:A2,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=o?zs(o):l||"{{",this.suffix=h?zs(h):d||"}}",this.formatSeparator=m||",",this.unescapePrefix=y?"":w||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=v?zs(v):O||zs("$t("),this.nestingSuffix=M?zs(M):V||zs(")"),this.nestingOptionsSeparator=W||",",this.maxReplaces=N||1e3,this.alwaysFormat=P!==void 0?P:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,i)=>n&&n.source===i?(n.lastIndex=0,n):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,i,s){let o,l,h;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},m=O=>{if(O.indexOf(this.formatSeparator)<0){const N=X_(n,d,O,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(N,void 0,i,{...s,...n,interpolationkey:O}):N}const M=O.split(this.formatSeparator),V=M.shift().trim(),W=M.join(this.formatSeparator).trim();return this.format(X_(n,d,V,this.options.keySeparator,this.options.ignoreJSONStructure),W,i,{...s,...n,interpolationkey:V})};this.resetRegExp();const y=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,w=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:O=>rf(O)},{regex:this.regexp,safeValue:O=>this.escapeValue?rf(this.escape(O)):rf(O)}].forEach(O=>{for(h=0;o=O.regex.exec(e);){const M=o[1].trim();if(l=m(M),l===void 0)if(typeof y=="function"){const W=y(e,o,s);l=de(W)?W:""}else if(s&&Object.prototype.hasOwnProperty.call(s,M))l="";else if(w){l=o[0];continue}else this.logger.warn(`missed to pass in variable ${M} for interpolating ${e}`),l="";else!de(l)&&!this.useRawValueToEscape&&(l=$_(l));const V=O.safeValue(l);if(e=e.replace(o[0],V),w?(O.regex.lastIndex+=l.length,O.regex.lastIndex-=o[0].length):O.regex.lastIndex=0,h++,h>=this.maxReplaces)break}}),e}nest(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,o,l;const h=(d,m)=>{const y=this.nestingOptionsSeparator;if(d.indexOf(y)<0)return d;const w=d.split(new RegExp(`${y}[ ]*{`));let v=`{${w[1]}`;d=w[0],v=this.interpolate(v,l);const O=v.match(/'/g),M=v.match(/"/g);(O&&O.length%2===0&&!M||M.length%2!==0)&&(v=v.replace(/'/g,'"'));try{l=JSON.parse(v),m&&(l={...m,...l})}catch(V){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,V),`${d}${y}${v}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,d};for(;s=this.nestingRegexp.exec(e);){let d=[];l={...i},l=l.replace&&!de(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;let m=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const y=s[1].split(this.formatSeparator).map(w=>w.trim());s[1]=y.shift(),d=y,m=!0}if(o=n(h.call(this,s[1].trim(),l),l),o&&s[0]===e&&!de(o))return o;de(o)||(o=$_(o)),o||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),o=""),m&&(o=d.reduce((y,w)=>this.format(y,w,i.lng,{...i,interpolationkey:s[1].trim()}),o.trim())),e=e.replace(s[0],o),this.regexp.lastIndex=0}return e}}const j2=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const i=t.split("(");e=i[0].toLowerCase().trim();const s=i[1].substring(0,i[1].length-1);e==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(l=>{if(l){const[h,...d]=l.split(":"),m=d.join(":").trim().replace(/^'+|'+$/g,""),y=h.trim();n[y]||(n[y]=m),m==="false"&&(n[y]=!1),m==="true"&&(n[y]=!0),isNaN(m)||(n[y]=parseInt(m,10))}})}return{formatName:e,formatOptions:n}},Fs=t=>{const e={};return(n,i,s)=>{let o=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(o={...o,[s.interpolationkey]:void 0});const l=i+JSON.stringify(o);let h=e[l];return h||(h=t(Ac(i),s),e[l]=h),h(n)}};class U2{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Xn.create("formatter"),this.options=e,this.formats={number:Fs((n,i)=>{const s=new Intl.NumberFormat(n,{...i});return o=>s.format(o)}),currency:Fs((n,i)=>{const s=new Intl.NumberFormat(n,{...i,style:"currency"});return o=>s.format(o)}),datetime:Fs((n,i)=>{const s=new Intl.DateTimeFormat(n,{...i});return o=>s.format(o)}),relativetime:Fs((n,i)=>{const s=new Intl.RelativeTimeFormat(n,{...i});return o=>s.format(o,i.range||"day")}),list:Fs((n,i)=>{const s=new Intl.ListFormat(n,{...i});return o=>s.format(o)})},this.init(e)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Fs(n)}format(e,n,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(h=>h.indexOf(")")>-1)){const h=o.findIndex(d=>d.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,h)].join(this.formatSeparator)}return o.reduce((h,d)=>{const{formatName:m,formatOptions:y}=j2(d);if(this.formats[m]){let w=h;try{const v=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},O=v.locale||v.lng||s.locale||s.lng||i;w=this.formats[m](h,O,{...y,...s,...v})}catch(v){this.logger.warn(v)}return w}else this.logger.warn(`there was no format function for ${m}`);return h},e)}}const $2=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class H2 extends sh{constructor(e,n,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=i,this.languageUtils=i.languageUtils,this.options=s,this.logger=Xn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(i,s.backend,s)}queueLoad(e,n,i,s){const o={},l={},h={},d={};return e.forEach(m=>{let y=!0;n.forEach(w=>{const v=`${m}|${w}`;!i.reload&&this.store.hasResourceBundle(m,w)?this.state[v]=2:this.state[v]<0||(this.state[v]===1?l[v]===void 0&&(l[v]=!0):(this.state[v]=1,y=!1,l[v]===void 0&&(l[v]=!0),o[v]===void 0&&(o[v]=!0),d[w]===void 0&&(d[w]=!0)))}),y||(h[m]=!0)}),(Object.keys(o).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(o),pending:Object.keys(l),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(d)}}loaded(e,n,i){const s=e.split("|"),o=s[0],l=s[1];n&&this.emit("failedLoading",o,l,n),!n&&i&&this.store.addResourceBundle(o,l,i,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&i&&(this.state[e]=0);const h={};this.queue.forEach(d=>{P2(d.loaded,[o],l),$2(d,e),n&&d.errors.push(n),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(m=>{h[m]||(h[m]={});const y=d.loaded[m];y.length&&y.forEach(w=>{h[m][w]===void 0&&(h[m][w]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(d=>!d.done)}read(e,n,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,l=arguments.length>5?arguments[5]:void 0;if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:i,tried:s,wait:o,callback:l});return}this.readingCalls++;const h=(m,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const w=this.waitingReads.shift();this.read(w.lng,w.ns,w.fcName,w.tried,w.wait,w.callback)}if(m&&y&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,i,s+1,o*2,l)},o);return}l(m,y)},d=this.backend[i].bind(this.backend);if(d.length===2){try{const m=d(e,n);m&&typeof m.then=="function"?m.then(y=>h(null,y)).catch(h):h(null,m)}catch(m){h(m)}return}return d(e,n,h)}prepareLoading(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();de(e)&&(e=this.languageUtils.toResolveHierarchy(e)),de(n)&&(n=[n]);const o=this.queueLoad(e,n,i,s);if(!o.toLoad.length)return o.pending.length||s(),null;o.toLoad.forEach(l=>{this.loadOne(l)})}load(e,n,i){this.prepareLoading(e,n,{},i)}reload(e,n,i){this.prepareLoading(e,n,{reload:!0},i)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=e.split("|"),s=i[0],o=i[1];this.read(s,o,"read",void 0,void 0,(l,h)=>{l&&this.logger.warn(`${n}loading namespace ${o} for language ${s} failed`,l),!l&&h&&this.logger.log(`${n}loaded namespace ${o} for language ${s}`,h),this.loaded(e,l,h)})}saveMissing(e,n,i,s,o){let l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${i}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend&&this.backend.create){const d={...l,isUpdate:o},m=this.backend.create.bind(this.backend);if(m.length<6)try{let y;m.length===5?y=m(e,n,i,s,d):y=m(e,n,i,s),y&&typeof y.then=="function"?y.then(w=>h(null,w)).catch(h):h(null,y)}catch(y){h(y)}else m(e,n,i,s,h,d)}!e||!e[0]||this.store.addResource(e[0],n,i,s)}}}const Y_=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),de(t[1])&&(e.defaultValue=t[1]),de(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(i=>{e[i]=n[i]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),J_=t=>(de(t.ns)&&(t.ns=[t.ns]),de(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),de(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),xu=()=>{},W2=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class sl extends sh{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=J_(e),this.services={},this.logger=Xn,this.modules={external:[]},W2(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(i=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(de(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const s=Y_();this.options={...s,...this.options,...J_(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const o=y=>y?typeof y=="function"?new y:y:null;if(!this.options.isClone){this.modules.logger?Xn.init(o(this.modules.logger),this.options):Xn.init(null,this.options);let y;this.modules.formatter?y=this.modules.formatter:typeof Intl<"u"&&(y=U2);const w=new K_(this.options);this.store=new q_(this.options.resources,this.options);const v=this.services;v.logger=Xn,v.resourceStore=this.store,v.languageUtils=w,v.pluralResolver=new F2(w,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),y&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(v.formatter=o(y),v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new B2(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new H2(o(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",function(O){for(var M=arguments.length,V=new Array(M>1?M-1:0),W=1;W<M;W++)V[W-1]=arguments[W];e.emit(O,...V)}),this.modules.languageDetector&&(v.languageDetector=o(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=o(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new Lc(this.services,this.options),this.translator.on("*",function(O){for(var M=arguments.length,V=new Array(M>1?M-1:0),W=1;W<M;W++)V[W-1]=arguments[W];e.emit(O,...V)}),this.modules.external.forEach(O=>{O.init&&O.init(this)})}if(this.format=this.options.interpolation.format,i||(i=xu),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const y=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);y.length>0&&y[0]!=="dev"&&(this.options.lng=y[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(y=>{this[y]=function(){return e.store[y](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(y=>{this[y]=function(){return e.store[y](...arguments),e}});const d=ha(),m=()=>{const y=(w,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(v),i(w,v)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return y(null,this.t.bind(this));this.changeLanguage(this.options.lng,y)};return this.options.resources||!this.options.initImmediate?m():setTimeout(m,0),d}loadResources(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xu;const s=de(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const o=[],l=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(m=>{m!=="cimode"&&o.indexOf(m)<0&&o.push(m)})};s?l(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),this.options.preload&&this.options.preload.forEach(h=>l(h)),this.services.backendConnector.load(o,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(h)})}else i(null)}reloadResources(e,n,i){const s=ha();return typeof e=="function"&&(i=e,e=void 0),typeof n=="function"&&(i=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),i||(i=xu),this.services.backendConnector.reload(e,n,o=>{s.resolve(),i(o)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&_1.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const i=this.languages[n];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}changeLanguage(e,n){var i=this;this.isLanguageChangingTo=e;const s=ha();this.emit("languageChanging",e);const o=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},l=(d,m)=>{m?(o(m),this.translator.changeLanguage(m),this.isLanguageChangingTo=void 0,this.emit("languageChanged",m),this.logger.log("languageChanged",m)):this.isLanguageChangingTo=void 0,s.resolve(function(){return i.t(...arguments)}),n&&n(d,function(){return i.t(...arguments)})},h=d=>{!e&&!d&&this.services.languageDetector&&(d=[]);const m=de(d)?d:this.services.languageUtils.getBestMatchFromCodes(d);m&&(this.language||o(m),this.translator.language||this.translator.changeLanguage(m),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(m)),this.loadResources(m,y=>{l(y,m)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?h(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(h):this.services.languageDetector.detect(h):h(e),s}getFixedT(e,n,i){var s=this;const o=function(l,h){let d;if(typeof h!="object"){for(var m=arguments.length,y=new Array(m>2?m-2:0),w=2;w<m;w++)y[w-2]=arguments[w];d=s.options.overloadTranslationOptionHandler([l,h].concat(y))}else d={...h};d.lng=d.lng||o.lng,d.lngs=d.lngs||o.lngs,d.ns=d.ns||o.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||i||o.keyPrefix);const v=s.options.keySeparator||".";let O;return d.keyPrefix&&Array.isArray(l)?O=l.map(M=>`${d.keyPrefix}${v}${M}`):O=d.keyPrefix?`${d.keyPrefix}${v}${l}`:l,s.t(O,d)};return de(e)?o.lng=e:o.lngs=e,o.ns=n,o.keyPrefix=i,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const l=(h,d)=>{const m=this.services.backendConnector.state[`${h}|${d}`];return m===-1||m===0||m===2};if(n.precheck){const h=n.precheck(this,l);if(h!==void 0)return h}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(i,e)&&(!s||l(o,e)))}loadNamespaces(e,n){const i=ha();return this.options.ns?(de(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{i.resolve(),n&&n(s)}),i):(n&&n(),Promise.resolve())}loadLanguages(e,n){const i=ha();de(e)&&(e=[e]);const s=this.options.preload||[],o=e.filter(l=>s.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return o.length?(this.options.preload=s.concat(o),this.loadResources(l=>{i.resolve(),n&&n(l)}),i):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services&&this.services.languageUtils||new K_(Y_());return n.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new sl(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xu;const i=e.forkResourceStore;i&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},o=new sl(s);return(e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(h=>{o[h]=this[h]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},i&&(o.store=new q_(this.store.data,s),o.services.resourceStore=o.store),o.translator=new Lc(o.services,s),o.translator.on("*",function(h){for(var d=arguments.length,m=new Array(d>1?d-1:0),y=1;y<d;y++)m[y-1]=arguments[y];o.emit(h,...m)}),o.init(s,n),o.translator.options=s,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const bt=sl.createInstance();bt.createInstance=sl.createInstance;bt.createInstance;bt.dir;bt.init;bt.loadResources;bt.reloadResources;bt.use;bt.changeLanguage;bt.getFixedT;bt.t;bt.exists;bt.setDefaultNamespace;bt.hasLoadedNamespace;bt.loadNamespaces;bt.loadLanguages;function Z2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ol(t){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(t)}function q2(t,e){if(ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(ol(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function G2(t){var e=q2(t,"string");return ol(e)=="symbol"?e:e+""}function K2(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,G2(i.key),i)}}function Q2(t,e,n){return e&&K2(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var y1=[],X2=y1.forEach,Y2=y1.slice;function J2(t){return X2.call(Y2.call(arguments,1),function(e){if(e)for(var n in e)t[n]===void 0&&(t[n]=e[n])}),t}var ey=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,eL=function(e,n,i){var s=i||{};s.path=s.path||"/";var o=encodeURIComponent(n),l="".concat(e,"=").concat(o);if(s.maxAge>0){var h=s.maxAge-0;if(Number.isNaN(h))throw new Error("maxAge should be a Number");l+="; Max-Age=".concat(Math.floor(h))}if(s.domain){if(!ey.test(s.domain))throw new TypeError("option domain is invalid");l+="; Domain=".concat(s.domain)}if(s.path){if(!ey.test(s.path))throw new TypeError("option path is invalid");l+="; Path=".concat(s.path)}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");l+="; Expires=".concat(s.expires.toUTCString())}if(s.httpOnly&&(l+="; HttpOnly"),s.secure&&(l+="; Secure"),s.sameSite){var d=typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite;switch(d){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return l},ty={create:function(e,n,i,s){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};i&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+i*60*1e3)),s&&(o.domain=s),document.cookie=eL(e,encodeURIComponent(n),o)},read:function(e){for(var n="".concat(e,"="),i=document.cookie.split(";"),s=0;s<i.length;s++){for(var o=i[s];o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(n)===0)return o.substring(n.length,o.length)}return null},remove:function(e){this.create(e,"",-1)}},tL={name:"cookie",lookup:function(e){var n;if(e.lookupCookie&&typeof document<"u"){var i=ty.read(e.lookupCookie);i&&(n=i)}return n},cacheUserLanguage:function(e,n){n.lookupCookie&&typeof document<"u"&&ty.create(n.lookupCookie,e,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},nL={name:"querystring",lookup:function(e){var n;if(typeof window<"u"){var i=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));for(var s=i.substring(1),o=s.split("&"),l=0;l<o.length;l++){var h=o[l].indexOf("=");if(h>0){var d=o[l].substring(0,h);d===e.lookupQuerystring&&(n=o[l].substring(h+1))}}}return n}},fa=null,ny=function(){if(fa!==null)return fa;try{fa=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{fa=!1}return fa},iL={name:"localStorage",lookup:function(e){var n;if(e.lookupLocalStorage&&ny()){var i=window.localStorage.getItem(e.lookupLocalStorage);i&&(n=i)}return n},cacheUserLanguage:function(e,n){n.lookupLocalStorage&&ny()&&window.localStorage.setItem(n.lookupLocalStorage,e)}},da=null,iy=function(){if(da!==null)return da;try{da=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{da=!1}return da},rL={name:"sessionStorage",lookup:function(e){var n;if(e.lookupSessionStorage&&iy()){var i=window.sessionStorage.getItem(e.lookupSessionStorage);i&&(n=i)}return n},cacheUserLanguage:function(e,n){n.lookupSessionStorage&&iy()&&window.sessionStorage.setItem(n.lookupSessionStorage,e)}},sL={name:"navigator",lookup:function(e){var n=[];if(typeof navigator<"u"){if(navigator.languages)for(var i=0;i<navigator.languages.length;i++)n.push(navigator.languages[i]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},oL={name:"htmlTag",lookup:function(e){var n,i=e.htmlTag||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(n=i.getAttribute("lang")),n}},aL={name:"path",lookup:function(e){var n;if(typeof window<"u"){var i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(i instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof i[e.lookupFromPathIndex]!="string")return;n=i[e.lookupFromPathIndex].replace("/","")}else n=i[0].replace("/","")}return n}},lL={name:"subdomain",lookup:function(e){var n=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,i=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(i)return i[n]}},v1=!1;try{document.cookie,v1=!0}catch{}var w1=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];v1||w1.splice(1,1);function uL(){return{order:w1,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var E1=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Z2(this,t),this.type="languageDetector",this.detectors={},this.init(e,n)}return Q2(t,[{key:"init",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n||{languageUtils:{}},this.options=J2(i,this.options||{},uL()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(o){return o.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(tL),this.addDetector(nL),this.addDetector(iL),this.addDetector(rL),this.addDetector(sL),this.addDetector(oL),this.addDetector(aL),this.addDetector(lL)}},{key:"addDetector",value:function(n){return this.detectors[n.name]=n,this}},{key:"detect",value:function(n){var i=this;n||(n=this.options.order);var s=[];return n.forEach(function(o){if(i.detectors[o]){var l=i.detectors[o].lookup(i.options);l&&typeof l=="string"&&(l=[l]),l&&(s=s.concat(l))}}),s=s.map(function(o){return i.options.convertDetectedLanguage(o)}),this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}},{key:"cacheUserLanguage",value:function(n,i){var s=this;i||(i=this.options.caches),i&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||i.forEach(function(o){s.detectors[o]&&s.detectors[o].cacheUserLanguage(n,s.options)}))}}])}();E1.type="languageDetector";const cL={home:"Startseite",story:"Unsere Geschichte",updates:"Updates",faq:"FAQ",map:"Karte & Hotels",rsvp:"Zusage"},hL={title:"Gina & Patryk",date:"01. August 2026",location:"Die Kapelle  Prinz-Carl-Anlage 15, 67547 Worms"},fL={title:"Unsere Geschichte",text:"Wir haben uns getroffen, gelacht und uns verliebt. Irgendwann wurde uns dann klar, dass wir nicht ohne einander leben wollen. Jetzt heiraten wir!"},dL={title:"Neuigkeiten",noUpdates:"Hier findest du bald alle wichtigen Informationen zu Ablauf, Dresscode und mehr.",list:[{title:"Einladungen versendet",date:"01.03.2026",text:"Die offiziellen Einladungen sind auf dem Weg zu euch! Bitte gebt uns bis zum 01.05.2026 Bescheid."},{title:"Hotel-Kontingent",date:"15.02.2026",text:"Wir haben ein Zimmerkontingent im Parkhotel reserviert. Bitte gebt bei der Buchung 'Hochzeit Gina & Patryk' an."},{title:"Save the Date",date:"01.01.2026",text:"Wir freuen uns riesig, unser Hochzeitsdatum bekannt zu geben! Haltet euch den 01.08.2026 frei."}]},pL={title:"Hufige Fragen",list:[{question:"Gibt es einen Dresscode?",answer:"Ja, wir bitten um festliche Abendgarderobe. Wir mchten diesen besonderen Tag schick mit euch feiern!"},{question:"Was wnscht ihr euch?",answer:"Da wir schon komplett eingerichtet sind, wrden wir uns am meisten ber einen Beitrag zu unseren Flitterwochen freuen."},{question:"Kann ich jemanden mitbringen?",answer:"Eingeladen sind die Personen, die auf der Einladung stehen, sowie die jeweiligen Partner und Kinder."}]},mL={title:"Anreise & Unterkunft",hotel:"Hotelempfehlung"},gL={title:"Bist du dabei?",guestsLabel:"Anzahl der Gste",nameLabel:"Name Gast",statusLabel:"Antwort",statusAccept:"Wir feiern gerne mit! ",statusDecline:"Wir sind in Gedanken dabei (leider nein)",dietLabel:"Essen & Allergien",dietPlaceholder:"z.B. 1x Vegetarisch, Peter hat eine Nussallergie...",emailLabel:"E-Mail Adresse (optional)",emailHint:"Nur fr wichtige Updates (z.B. Plannderungen), kein Spam.",submit:"Antwort absenden",submitLoading:"Wird gesendet...",successMessage:"Vielen Dank fr deine Antwort!",error:"Es ist ein Fehler aufgetreten. Bitte versuche es spter noch einmal."},_L={nav:cL,hero:hL,story:fL,updates:dL,faq:pL,map:mL,rsvp:gL},yL={home:"Strona gwna",story:"Nasza historia",updates:"Aktualnoci",faq:"FAQ",map:"Mapa i hotele",rsvp:"Potwierdzenie"},vL={title:"Gina & Patryk",date:"01 Sierpie 2026",location:"Die Kapelle  Prinz-Carl-Anlage 15, 67547 Worms"},wL={title:"Nasza historia",text:"Spotkalimy si, mialimy si i zakochalimy. W pewnym momencie zrozumielimy, e nie chcemy y bez siebie. Teraz bierzemy lub!"},EL={title:"Aktualnoci",noUpdates:"Wkrtce znajdziesz tu wszystkie wane informacje o harmonogramie, dress codzie i nie tylko.",list:[{title:"Zaproszenia wysane",date:"01.03.2026",text:"Oficjalne zaproszenia s ju w drodze! Prosimy o potwierdzenie przybycia do 01.05.2026."},{title:"Pula pokoi hotelowych",date:"15.02.2026",text:"Zarezerwowalimy pul pokoi w Parkhotel. Przy rezerwacji prosimy poda haso 'Wesele Gina & Patryk'."},{title:"Save the Date",date:"01.01.2026",text:"Z ogromn radoci ogaszamy dat naszego lubu! Zarezerwujcie sobie 01.08.2026."}]},TL={title:"FAQ",list:[{question:"Czy obowizuje dress code?",answer:"Tak, prosimy o strj wizytowy. Chcemy witowa ten dzie w eleganckim stylu!"},{question:"Co chcielibycie dosta?",answer:"Poniewa mamy ju wszystko do domu, najbardziej ucieszymy si z wkadu w nasz podr polubn."},{question:"Czy mog kogo zabra?",answer:"Prosimy o przybycie tylko osb wymienionych imiennie na zaproszeniu."}]},xL={title:"Dojazd i nocleg",hotel:"Polecany hotel"},SL={title:"Bdziesz z nami?",guestsLabel:"Liczba goci",nameLabel:"Imi gocia",statusLabel:"Odpowied",statusAccept:"Bdziemy witowa z wami! ",statusDecline:"Jestemy mylami z wami (niestety nie)",dietLabel:"Jedzenie i alergie",dietPlaceholder:"np. 1x wegetariaskie, Piotr ma alergi na orzechy...",emailLabel:"Adres e-mail (opcjonalnie)",emailHint:"Tylko do wanych aktualizacji (np. zmiany planw), bez spamu.",submit:"Wylij odpowied",submitLoading:"Wysyanie...",successMessage:"Dzikujemy za odpowied!",error:"Wystpi bd. Sprbuj ponownie pniej."},PL={nav:yL,hero:vL,story:wL,updates:EL,faq:TL,map:xL,rsvp:SL};bt.use(E1).use(zx).init({resources:{de:{translation:_L},pl:{translation:PL}},fallbackLng:"de",interpolation:{escapeValue:!1}});sf.createRoot(document.getElementById("root")).render($.jsx(ju.StrictMode,{children:$.jsx(T2,{})}));
